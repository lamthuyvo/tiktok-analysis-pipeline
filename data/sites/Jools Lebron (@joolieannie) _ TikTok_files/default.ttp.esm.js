!function(){var e,t,n,i,o,r,a,s,c,l,u,f,h,d,p,v=["entityKeys"],g=["entityKeys","wid"];function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=E(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */C=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,r=Object.create(o.prototype),a=new E(i||[]);return r._invoke=function(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return x()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function f(){}function h(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,r,a,s){var c=l(e[o],e,r);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==K(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,o){i(e,n,t,o)}))}return o=o?o.then(r,r):r()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(_.prototype),s(_.prototype,r,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new _(c(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function A(e,t,n,i,o,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){A(r,i,o,a,s,"next",e)}function s(e){A(r,i,o,a,s,"throw",e)}a(void 0)}))}}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function O(e){var t=I();return function(){var n,i=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){var t="function"==typeof Map?new Map:void 0;return z=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return B(e,arguments,P(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),N(i,e)},z(e)}function B(e,t,n){return B=I()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&N(o,n.prototype),o},B.apply(null,arguments)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function U(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function F(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function V(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;"undefined"==typeof Reflect||K(Reflect);for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}void 0===Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var e=this.attributes,t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i].name;return n});var H,q,W=window,J=W.ShadowRoot&&(void 0===W.ShadyCSS||W.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,X=Symbol(),Y=new WeakMap,Z=function(){function e(t,n,i){if(L(this,e),this._$cssResult$=!0,i!==X)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}return F(e,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(J&&void 0===e){var n=void 0!==t&&1===t.length;n&&(e=Y.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Y.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),e}(),Q=function(e){return new Z("string"==typeof e?e:e+"",void 0,X)},ee=J?function(e){return e}:function(e){return e instanceof CSSStyleSheet?function(e){var t,n="",i=j(e.cssRules);try{for(i.s();!(t=i.n()).done;){n+=t.value.cssText}}catch(e){i.e(e)}finally{i.f()}return Q(n)}(e):e},te=window,ne=te.trustedTypes,ie=ne?ne.emptyScript:"",oe=te.reactiveElementPolyfillSupport,re={toAttribute:function(e,t){switch(t){case Boolean:e=e?ie:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},ae=function(e,t){return t!==e&&(t==t||e==e)},se={attribute:!0,type:String,converter:re,reflect:!1,hasChanged:ae},ce=function(e){T(i,e);var t,n=O(i);function i(){var e;return L(this,i),(e=n.call(this))._$Ei=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$El=null,e.u(),e}return F(i,[{key:"u",value:function(){var e,t=this;this._$E_=new Promise((function(e){return t.enableUpdating=e})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((function(e){return e(t)}))}},{key:"addController",value:function(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}},{key:"_$Eg",value:function(){var e=this;this.constructor.elementProperties.forEach((function(t,n){e.hasOwnProperty(n)&&(e._$Ei.set(n,e[n]),delete e[n])}))}},{key:"createRenderRoot",value:function(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return function(e,t){J?e.adoptedStyleSheets=t.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):t.forEach((function(t){var n=document.createElement("style"),i=W.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))}(t,this.constructor.elementStyles),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}},{key:"enableUpdating",value:function(e){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}},{key:"attributeChangedCallback",value:function(e,t,n){this._$AK(e,n)}},{key:"_$EO",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se,o=this.constructor._$Ep(e,i);if(void 0!==o&&!0===i.reflect){var r=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:re).toAttribute(t,i.type);this._$El=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}},{key:"_$AK",value:function(e,t){var n,i=this.constructor,o=i._$Ev.get(e);if(void 0!==o&&this._$El!==o){var r=i.getPropertyOptions(o),a="function"==typeof r.converter?{fromAttribute:r.converter}:void 0!==(null===(n=r.converter)||void 0===n?void 0:n.fromAttribute)?r.converter:re;this._$El=o,this[o]=a.fromAttribute(t,r.type),this._$El=null}}},{key:"requestUpdate",value:function(e,t,n){var i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||ae)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(t=D(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$E_;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,!e.t1){e.next=14;break}return e.next=14,t;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return t.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,t=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(e,n){return t[n]=e})),this._$Ei=void 0);var n=!1,i=this._$AL;try{(n=this.shouldUpdate(i))?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw n=!1,this._$Ek(),e}n&&this._$AE(i)}}},{key:"willUpdate",value:function(e){}},{key:"_$AE",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._$EC&&(this._$EC.forEach((function(e,n){return t._$EO(n,t[n],e)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"addInitializer",value:function(e){var t;null!==(t=this.h)&&void 0!==t||(this.h=[]),this.h.push(e)}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this.elementProperties.forEach((function(n,i){var o=e._$Ep(i,n);void 0!==o&&(e._$Ev.set(o,i),t.push(o))})),t}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"==K(e)?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(i){var o=this[e];this[t]=i,this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||se}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t,n=this.properties,i=j([].concat(x(Object.getOwnPropertyNames(n)),x(Object.getOwnPropertySymbols(n))));try{for(i.s();!(t=i.n()).done;){var o=t.value;this.createProperty(o,n[o])}}catch(e){i.e(e)}finally{i.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var n,i=j(new Set(e.flat(1/0).reverse()));try{for(i.s();!(n=i.n()).done;){var o=n.value;t.unshift(ee(o))}}catch(e){i.e(e)}finally{i.f()}}else void 0!==e&&t.push(ee(e));return t}},{key:"_$Ep",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}}]),i}(z(HTMLElement));ce.finalized=!0,ce.elementProperties=new Map,ce.elementStyles=[],ce.shadowRootOptions={mode:"open"},null==oe||oe({ReactiveElement:ce}),(null!==(H=te.reactiveElementVersions)&&void 0!==H?H:te.reactiveElementVersions=[]).push("1.4.1");var le=window,ue=le.trustedTypes,fe=ue?ue.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,he="lit$".concat((Math.random()+"").slice(9),"$"),de="?"+he,pe="<".concat(de,">"),ve=document,ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ve.createComment(e)},ye=function(e){return null===e||"object"!=K(e)&&"function"!=typeof e},me=Array.isArray,_e=function(e){return me(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator])},be=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ke=/-->/g,we=/>/g,Ee=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Se=/'/g,xe=/"/g,Ce=/^(?:script|style|textarea|title)$/i,Ae=function(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return{_$litType$:e,strings:t,values:i}}}(1),De=Symbol.for("lit-noChange"),Te=Symbol.for("lit-nothing"),Oe=new WeakMap,Re=ve.createTreeWalker(ve,129,null,!1),Me=function(){function e(t,n){var i,o=t.strings,r=t._$litType$;L(this,e),this.parts=[];var a=0,s=0,c=o.length-1,l=this.parts,u=function(e,t){for(var n,i=e.length-1,o=[],r=2===t?"<svg>":"",a=be,s=0;s<i;s++){for(var c=e[s],l=void 0,u=void 0,f=-1,h=0;h<c.length&&(a.lastIndex=h,null!==(u=a.exec(c)));)h=a.lastIndex,a===be?"!--"===u[1]?a=ke:void 0!==u[1]?a=we:void 0!==u[2]?(Ce.test(u[2])&&(n=RegExp("</"+u[2],"g")),a=Ee):void 0!==u[3]&&(a=Ee):a===Ee?">"===u[0]?(a=null!=n?n:be,f=-1):void 0===u[1]?f=-2:(f=a.lastIndex-u[2].length,l=u[1],a=void 0===u[3]?Ee:'"'===u[3]?xe:Se):a===xe||a===Se?a=Ee:a===ke||a===we?a=be:(a=Ee,n=void 0);var d=a===Ee&&e[s+1].startsWith("/>")?" ":"";r+=a===be?c+pe:f>=0?(o.push(l),c.slice(0,f)+"$lit$"+c.slice(f)+he+d):c+he+(-2===f?(o.push(void 0),s):d)}var p=r+(e[i]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==fe?fe.createHTML(p):p,o]}(o,r),f=S(u,2),h=f[0],d=f[1];if(this.el=e.createElement(h,n),Re.currentNode=this.el.content,2===r){var p=this.el.content,v=p.firstChild;v.remove(),p.append.apply(p,x(v.childNodes))}for(;null!==(i=Re.nextNode())&&l.length<c;){if(1===i.nodeType){if(i.hasAttributes()){var g,y=[],m=j(i.getAttributeNames());try{for(m.s();!(g=m.n()).done;){var _=g.value;if(_.endsWith("$lit$")||_.startsWith(he)){var b=d[s++];if(y.push(_),void 0!==b){var k=i.getAttribute(b.toLowerCase()+"$lit$").split(he),w=/([.?@])?(.*)/.exec(b);l.push({type:1,index:a,name:w[2],strings:k,ctor:"."===w[1]?Ue:"?"===w[1]?Le:"@"===w[1]?$e:je})}else l.push({type:6,index:a})}}}catch(e){m.e(e)}finally{m.f()}for(var E=0,C=y;E<C.length;E++){var A=C[E];i.removeAttribute(A)}}if(Ce.test(i.tagName)){var D=i.textContent.split(he),T=D.length-1;if(T>0){i.textContent=ue?ue.emptyScript:"";for(var O=0;O<T;O++)i.append(D[O],ge()),Re.nextNode(),l.push({type:2,index:++a});i.append(D[T],ge())}}}else if(8===i.nodeType)if(i.data===de)l.push({type:2,index:a});else for(var R=-1;-1!==(R=i.data.indexOf(he,R+1));)l.push({type:7,index:a}),R+=he.length-1;a++}}return F(e,null,[{key:"createElement",value:function(e,t){var n=ve.createElement("template");return n.innerHTML=e,n}}]),e}();function ze(e,t){var n,i,o,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=arguments.length>3?arguments[3]:void 0;if(t===De)return t;var c=void 0!==s?null===(n=a._$Cl)||void 0===n?void 0:n[s]:a._$Cu,l=ye(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(i=null==c?void 0:c._$AO)||void 0===i||i.call(c,!1),void 0===l?c=void 0:(c=new l(e))._$AT(e,a,s),void 0!==s?(null!==(o=(r=a)._$Cl)&&void 0!==o?o:r._$Cl=[])[s]=c:a._$Cu=c),void 0!==c&&(t=ze(e,c._$AS(e,t.values),c,s)),t}var Be,Ie,Ne=function(){function e(t,n){L(this,e),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=n}return F(e,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(e){var t,n=this._$AD,i=n.el.content,o=n.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:ve).importNode(i,!0);Re.currentNode=r;for(var a=Re.nextNode(),s=0,c=0,l=o[0];void 0!==l;){if(s===l.index){var u=void 0;2===l.type?u=new Pe(a,a.nextSibling,this,e):1===l.type?u=new l.ctor(a,l.name,l.strings,this,e):6===l.type&&(u=new Fe(a,this,e)),this.v.push(u),l=o[++c]}s!==(null==l?void 0:l.index)&&(a=Re.nextNode(),s++)}return r}},{key:"m",value:function(e){var t,n=0,i=j(this.v);try{for(i.s();!(t=i.n()).done;){var o=t.value;void 0!==o&&(void 0!==o.strings?(o._$AI(e,o,n),n+=o.strings.length-2):o._$AI(e[n])),n++}}catch(e){i.e(e)}finally{i.f()}}}]),e}(),Pe=function(){function e(t,n,i,o){var r;L(this,e),this.type=2,this._$AH=Te,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=o,this._$C_=null===(r=null==o?void 0:o.isConnected)||void 0===r||r}return F(e,[{key:"_$AU",get:function(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$C_}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e=ze(this,e,t),ye(e)?e===Te||null==e||""===e?(this._$AH!==Te&&this._$AR(),this._$AH=Te):e!==this._$AH&&e!==De&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.k(e):_e(e)?this.O(e):this.$(e)}},{key:"S",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}},{key:"k",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}},{key:"$",value:function(e){this._$AH!==Te&&ye(this._$AH)?this._$AA.nextSibling.data=e:this.k(ve.createTextNode(e)),this._$AH=e}},{key:"T",value:function(e){var t,n=e.values,i=e._$litType$,o="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Me.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.m(n);else{var r=new Ne(o,this),a=r.p(this.options);r.m(n),this.k(a),this._$AH=r}}},{key:"_$AC",value:function(e){var t=Oe.get(e.strings);return void 0===t&&Oe.set(e.strings,t=new Me(e)),t}},{key:"O",value:function(t){me(this._$AH)||(this._$AH=[],this._$AR());var n,i,o=this._$AH,r=0,a=j(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;r===o.length?o.push(n=new e(this.S(ge()),this.S(ge()),this,this.options)):n=o[r],n._$AI(s),r++}}catch(e){a.e(e)}finally{a.f()}r<o.length&&(this._$AR(n&&n._$AB.nextSibling,r),o.length=r)}},{key:"_$AR",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,n);t&&t!==this._$AB;){var i=t.nextSibling;t.remove(),t=i}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$C_=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}]),e}(),je=function(){function e(t,n,i,o,r){L(this,e),this.type=1,this._$AH=Te,this._$AN=void 0,this.element=t,this.name=n,this._$AM=o,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Te}return F(e,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.strings,r=!1;if(void 0===o)e=ze(this,e,t,0),(r=!ye(e)||e!==this._$AH&&e!==De)&&(this._$AH=e);else{var a,s,c=e;for(e=o[0],a=0;a<o.length-1;a++)(s=ze(this,c[n+a],t,a))===De&&(s=this._$AH[a]),r||(r=!ye(s)||s!==this._$AH[a]),s===Te?e=Te:e!==Te&&(e+=(null!=s?s:"")+o[a+1]),this._$AH[a]=s}r&&!i&&this.P(e)}},{key:"P",value:function(e){e===Te?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}]),e}(),Ue=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).type=3,e}return F(n,[{key:"P",value:function(e){this.element[this.name]=e===Te?void 0:e}}]),n}(je),Ge=ue?ue.emptyScript:"",Le=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).type=4,e}return F(n,[{key:"P",value:function(e){e&&e!==Te?this.element.setAttribute(this.name,Ge):this.element.removeAttribute(this.name)}}]),n}(je),$e=function(e){T(n,e);var t=O(n);function n(e,i,o,r,a){var s;return L(this,n),(s=t.call(this,e,i,o,r,a)).type=5,s}return F(n,[{key:"_$AI",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((e=null!==(t=ze(this,e,n,0))&&void 0!==t?t:Te)!==De){var i=this._$AH,o=e===Te&&i!==Te||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==Te&&(i===Te||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}]),n}(je),Fe=function(){function e(t,n,i){L(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}return F(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){ze(this,e)}}]),e}(),Ke=le.litHtmlPolyfillSupport;null==Ke||Ke(Me,Pe),(null!==(q=le.litHtmlVersions)&&void 0!==q?q:le.litHtmlVersions=[]).push("2.3.1");var Ve=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).renderOptions={host:M(e)},e._$Do=void 0,e}return F(n,[{key:"createRenderRoot",value:function(){var e,t,i=w(P(n.prototype),"createRenderRoot",this).call(this);return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}},{key:"update",value:function(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),w(P(n.prototype),"update",this).call(this,e),this._$Do=function(e,t,n){var i,o,r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t,a=r._$litPart$;if(void 0===a){var s=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=a=new Pe(t.insertBefore(ge(),s),s,void 0,null!=n?n:{})}return a._$AI(e),a}(t,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;w(P(n.prototype),"connectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;w(P(n.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return De}}]),n}(ce);Ve.finalized=!0,Ve._$litElement$=!0,null===(Be=globalThis.litElementHydrateSupport)||void 0===Be||Be.call(globalThis,{LitElement:Ve});var He=globalThis.litElementPolyfillSupport;null==He||He({LitElement:Ve}),(null!==(Ie=globalThis.litElementVersions)&&void 0!==Ie?Ie:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var qe,We=1,Je=2,Xe=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{_$litDirective$:e,values:n}}},Ye=function(){function e(t){L(this,e)}return F(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,x(t))}}]),e}(),Ze=Xe(function(e){T(n,e);var t=O(n);function n(e){var i,o;if(L(this,n),i=t.call(this,e),e.type!==We||"class"!==e.name||(null===(o=e.strings)||void 0===o?void 0:o.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return R(i)}return F(n,[{key:"render",value:function(e){return" "+Object.keys(e).filter((function(t){return e[t]})).join(" ")+" "}},{key:"update",value:function(e,t){var n,i,o=this,r=S(t,1)[0];if(void 0===this.nt){for(var a in this.nt=new Set,void 0!==e.strings&&(this.st=new Set(e.strings.join(" ").split(/\s/).filter((function(e){return""!==e})))),r)r[a]&&!(null===(n=this.st)||void 0===n?void 0:n.has(a))&&this.nt.add(a);return this.render(r)}var s=e.element.classList;for(var c in this.nt.forEach((function(e){e in r||(s.remove(e),o.nt.delete(e))})),r){var l=!!r[c];l===this.nt.has(c)||(null===(i=this.st)||void 0===i?void 0:i.has(c))||(l?(s.add(c),this.nt.add(c)):(s.remove(c),this.nt.delete(c)))}return De}}]),n}(Ye)),Qe=function(e){return function(t){return"function"==typeof t?function(e,t){return customElements.define(e,t),t}(e,t):function(e,t){return{kind:t.kind,elements:t.elements,finisher:function(t){customElements.define(e,t)}}}(e,t)}};function et(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?b(b({},t),{},{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}}(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function tt(e){return et(b(b({},e),{},{state:!0}))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */null===(qe=window.HTMLSlotElement)||void 0===qe||qe.prototype.assignedElements;var nt=["ar"],it="cookie-consent",ot="https://lf16-tiktok-common.tiktokcdn-us.com/obj/tiktok-web-common-tx/tiktok_fonts/",rt='<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M814.983529 404.781176a45.176471 45.176471 0 0 1 0 63.849412l-256 256a45.176471 45.176471 0 0 1-63.849411 0L239.134118 468.630588a45.176471 45.176471 0 0 1 63.849411-63.849412l224.075295 224.075295 224.075294-224.075295a45.176471 45.176471 0 0 1 63.849411 0z"></path></svg>',at='<svg width="1" height="24" viewBox="0 0 1 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<line x1="0" y1="24" x2="0" stroke="#161823" stroke-opacity="0.12" stroke-width="1"/>\n</svg>',st="LOCAL_IS_EFFECTIVE",ct={channel:"sg",channel_type:"tcpy"};/*! js-cookie v3.0.1 | MIT */function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var ut=function e(t,n){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=lt({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in o)o[a]&&(r+="; "+a,!0!==o[a]&&(r+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+r}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},o=0;o<n.length;o++){var r=n[o].split("="),a=r.slice(1).join("=");try{var s=decodeURIComponent(r[0]);if(i[s]=t.read(a,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",lt({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,lt({},this.attributes,t))},withConverter:function(t){return e(lt({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ht(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function dt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ht(arguments[t]));return e}var pt,vt,gt,yt=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(o){t(o),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&dt(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),mt=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},_t=function(e){return Array.isArray(e)},bt=(pt=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return pt+=1}),kt=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,o=[];n=n<=25?n:n%25;var r=String.fromCharCode(n+97);i=e.split(r);for(var a=0;a<i.length;a++){var s=parseInt(i[a],n);s=1*s^64;var c=String.fromCharCode(s);o.push(c)}return o.join("")}}(e,0,25)},wt=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},Et=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach((function(t){void 0!==document[t]&&(e=1)})),e},St=function(e){var t=document.createElement("a");return t.href=e,t},xt=function(e){var t={};try{var n=St(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,o=e.split("=");o.length&&(n=o[0],i=o[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},Ct=function(e,t){return function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(i.read||i)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}(t={exports:{}}),t.exports}(),At=function(e,t){try{return Ct.get(e)}catch(e){return""}},Dt=function(e,t,n,i){try{var o=i||document.domain,r=+new Date+(n||6048e5);Ct.set(e,t,{expires:new Date(r),path:"/",domain:o})}catch(e){}},Tt=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return At(e)},e.prototype.setCookie=function(e,t,n,i){Dt(e,t,n,i)},e}(),Ot={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return At(e)},setCookie:function(e,t,n,i){Dt(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},Rt={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return At(e)},setCookie:function(e,t,n,i){Dt(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},Mt=function(){function e(e,t){this._storage=t&&"session"===t?Rt:!e&&Ot.isSupportLS?Ot:new Tt}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),zt=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?St(n).hostname:"",o=xt(window.location.href),r=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var o=new Mt(!1,"session"),r=e?"_$utm_from_url_"+e:"_$utm_from_url",a={},s=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var l=!1;for(var u in c)c[u]&&(-1!==s.indexOf(u)?(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data[u]=c[u]):a[u]=c[u],l=!0);l&&o.setItem(r,"1"),o.getItem(r)&&(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data.$utm_from_url=1)}catch(e){return c}return a}(this.appid,o,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:r,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",o="",r=location.hostname,a=!1;if(e&&t&&r!==t){n=e,i=t,a=!0;var s=xt(e);s.keyword&&(o=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:o,isLast:a}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),o=this.userAgent;return-1!==o.indexOf("Edge")||-1!==o.indexOf("Edg")?(n="Microsoft Edge",-1!==o.indexOf("Edge")?(e=o.indexOf("Edge"),i=o.substring(e+5)):(e=o.indexOf("Edg"),i=o.substring(e+4))):-1!==(e=o.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=o.substring(e+5)):-1!==(e=o.indexOf("Lark"))?(n="Lark",i=o.substring(e+5,e+11)):-1!==o.indexOf("Chrome")?-1!==(e=o.indexOf("TTWebView"))?(n="TTWebView",i=o.substring(e+10,e+23)):(-1!==(e=o.indexOf("Chrome"))||-1!==(e=o.indexOf("Chrome")))&&(n="Chrome",i=o.substring(e+7)):-1!==o.indexOf("Safari")?-1!==(e=o.indexOf("Safari"))&&(n="Safari",i=o.substring(e+7),-1!==(e=o.indexOf("Version"))&&(i=o.substring(e+8))):-1!==(e=o.indexOf("Firefox"))&&(n="Firefox",i=o.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<n.length;i++){var o=n[i];if(o.r.test(this.userAgent)){"Mac OS X"===(e=o.s)&&this.isNewIpad()&&(e="iOS");break}}var r,a,s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=s(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,r=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,r)),t=a,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var l=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(l+7,l+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),Bt={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},It={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},Nt={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},Pt={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.DestoryInstance="destory-instance",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(vt||(vt={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(gt||(gt={}));var jt,Ut=vt,Gt=void 0,Lt=(new Date).getTimezoneOffset(),$t=parseInt(""+-Lt/60,10),Ft=60*Lt,Kt=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new zt(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new Mt(!1,"session"),this.localStorage=new Mt(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(i);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:Gt,user_type:Gt,user_id:Gt,user_is_auth:Gt,user_is_login:Gt,device_id:Gt,web_id:Gt,ip_addr_id:Gt,user_unique_id_type:Gt},header:{app_id:Gt,app_name:Gt,app_install_id:Gt,install_id:Gt,app_package:Gt,app_channel:Gt,app_version:Gt,ab_version:Gt,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:Gt,traffic_type:Gt,client_ip:Gt,device_brand:Gt,os_api:Gt,access:Gt,language:n.language,region:Gt,app_language:Gt,app_region:Gt,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:Gt,rnd:Gt,platform:n.platform,sdk_version:"5.3.0_oversea",sdk_lib:"js",province:Gt,city:Gt,timezone:$t,tz_offset:Ft,tz_name:Gt,sim_region:Gt,carrier:Gt,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?Nt[n]:Pt[n]:Bt[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=Bt.sg),this.domain=kt(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.3.0_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=ft(ft({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=ft(ft({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",o="";if(n.indexOf(".")>-1){var r=n.split(".");i=r[0],o=r[1]}i?"user"===i||"header"===i?t.envInfo[i][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),console.log("delete error")}},e}(),Vt=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),Ht=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),qt=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),Wt=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new Mt(!0),this.localStorage=new Mt(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(Ut.Ready,(function(){n.reportAll(!1)})),this.collect.on(Ut.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(Ut.Event,(function(e){n.event(e)})),this.collect.on(Ut.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(Ut.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),wt((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;if(!this.collect.destroy&&!this.collect.sdkStop)try{var n=dt(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e){if(!this.collect.destroy&&!this.collect.sdkStop){var t=dt(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var o=this.split(this.merge(i));this.send(o,t)}else o=this.split(this.merge(e)),this.send(o,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),o=i.header,r=i.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=[];try{var l=e.filter((function(e){try{Object.keys(a).length&&!t&&(e.params=ft(ft({},a),e.params)),s&&(e.params.$user_unique_id_type=s);var i=n.configManager.getAbCache(),o=r[n.config.ab_user_mode]||r.user_unique_id,c=n.configManager.getAbUuidCache(o);if(i&&i.uuid&&i.uuid===o){var l=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(c&&c.length){var u=c.join(",");l&&l.includes(u)&&(e.ab_sdk_version=l)}}else l&&(e.ab_sdk_version=l)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return console.warn("filter merge event: "+(e&&e.event)+" error, pls check",t&&t.message),n.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Merge Event Something Error",level:"error",time:Date.now(),data:t.message,infoType:"sdk"}),!1}})),u=JSON.parse(JSON.stringify({events:l,user:r,header:o}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1,c.push(u)}catch(e){console.warn("event merge error, pls check",e&&e.message)}return c},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var o=i||e,r=JSON.parse(JSON.stringify(o));if(!o.length)return;var a=!0;if(o.forEach((function(e){e.events.length||(a=!1)})),!a)return;n.collect.emit(Ut.SubmitBefore,o),n.collect.emit(Ut.SubmitVerify,o),n.collect.requestManager.useRequest({url:n.reportUrl,data:o,success:function(e,t){e&&0!==e.e?(n.collect.emit(Ut.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_EVENT,info:"Event Report fail",time:Date.now(),data:r,code:e.e,failType:"",status:"fail"})):(n.collect.emit(Ut.SubmitScuess,{eventData:t,res:e}),n.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_EVENT,info:"Event Report Success",time:Date.now(),data:r,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(Ut.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_EVENT,info:"Event Report Network fail",time:Date.now(),data:r,code:t,failType:"",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(Ut.SubmitAfter,o)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Report Event Something Error",level:"error",time:Date.now(),data:e.message})}})))},e}(),Jt=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},Xt=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new Mt(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(Ut.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(Ut.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(Ut.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(Ut.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:Jt(),user_unique_id:this.configManager.get("user_unique_id")||Jt()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=xt(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch WebID Request",logType:"fetch",level:"info",time:Date.now(),data:n});var i=Jt();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Success",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(Ut.TokenError),e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Data Error, Use LocalId",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(Ut.TokenError),e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Network Fail, Use LocalId",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK UserInfo Complete",logType:"info",secType:"USER",level:"info",time:Date.now(),data:{web_id:t,user_unique_id:n},infoType:"sdk"}),this.collect.emit(Ut.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(Ut.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(Ut.TokenChange,"uuid"),this.collect.emit(Ut.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(Ut.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(Ut.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(Ut.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){if("tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type){var n={app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")};e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch GetToken Request",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"}),e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:n,success:function(n){n&&0===n.e?(t(n.tobid),e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Success",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"})):(t(""),e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Fail",logType:"fetch",level:"error",time:Date.now(),data:n,infoType:"sdk"}))},fail:function(){t(""),e.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Network Error",logType:"fetch",level:"error",time:Date.now(),infoType:"sdk"})},time:3e4,withCredentials:e.enable_ttwebid})}else t("")}))},e}(),Yt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Zt=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new Mt(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(Ut.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(Ut.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:Yt(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:Yt(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||Yt(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:Yt(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),Qt=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type,this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,o=e.success,r=e.fail,a={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var s in this.customHeader)a[s]=this.customHeader[s];window.fetch?fetch(t,{method:i||"POST",headers:a,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){o&&o(e)})).catch((function(e){r&&r(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:o,fail:r}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,o=e.fail;"xhr"!==this.requestType?window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():o&&o(n,this.errorCode.BEACON_FALSE):this.useXhr(e)},e.prototype.useXhr=function(e){var t=this,n=e.url,i=e.data,o=e.method,r=e.success,a=e.fail,s=e.timeout,c=e.withCredentials,l=e.app_key;try{var u=new XMLHttpRequest,f=o||"POST";if(u.open(f,""+n,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),l&&u.setRequestHeader("X-MCS-AppKey",""+l),Object.keys(this.customHeader).length)for(var h in this.customHeader)u.setRequestHeader(h,this.customHeader[h]);c&&(u.withCredentials=!0),s&&(u.timeout=s,u.ontimeout=function(){a&&a(i,t.errorCode.TIMEOUT)}),u.onload=function(){if(r){var e=null;if(u.responseText){try{e=JSON.parse(u.responseText)}catch(t){e={}}r(e,i)}}},u.onerror=function(){u.abort(),a&&a(i,t.errorCode.XHR_ON)},u.send(JSON.stringify(i))}catch(e){}},e.prototype.useRequest=function(e){var t=e.useBeacon,n=e.forceXhr;if("xhr"===this.requestType)this.useXhr(e);else{if(t&&this.supportBeacon)return void this.useBeacon(e);if("fetch"===this.requestType&&!n)return void this.useFetch(e);this.useXhr(e)}},e}(),en=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug&&"Microsoft Internet Explorer"!==e.configManager.get("browser")){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1),this.loadUrl=t.devtool_url||"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.v2.0.0.js",this.filterEvent=new Set(["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"]),this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_open_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_open_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript(this.loadUrl)},e.prototype.loadBaseInfo=function(){if(this.log=[],this.event=[],this.info=[{title:"BaseInfo",key:"base",type:1,content:[{name:"app_id",desc:"APPID",value:this.config.app_id},{name:"channel",desc:"CHANNEL",value:this.config.channel},{name:"domain",desc:"Domain",value:this.collect.configManager.getDomain()},{name:"sdk_version",desc:"SDK Version",value:"5.3.0_oversea"},{name:"sdk_type",desc:"SDK Import Type",value:"npm"}]},{title:"UserInfo",key:"user",type:2,content:[{name:"uuid",desc:"UserUniqueId",value:this.collect.configManager.get("user").user_unique_id||""},{name:"web_id",desc:"WEB_ID",value:this.collect.configManager.get("user").web_id||""}]},{title:"CommonInfo",type:2,key:"common",content:[{name:"browser",desc:"Browser",value:this.collect.configManager.get("browser")},{name:"browser_version",desc:"Browser Version",value:this.collect.configManager.get("browser_version")},{name:"platform",desc:"Platform",value:this.collect.configManager.get("platform")},{name:"device_model",desc:"Devide Model",value:this.collect.configManager.get("device_model")},{name:"os_name",desc:"Os Name",value:this.collect.configManager.get("os_name")},{name:"os_version",desc:"Os Version",value:this.collect.configManager.get("os_version")},{name:"resolution",desc:"Screen Resolution",value:this.collect.configManager.get("resolution")},{name:"referrer",desc:"Referrer",value:this.collect.configManager.get("referrer")},{name:"custom",desc:"Custom Info",value:JSON.stringify(this.collect.configManager.get("custom"))}]},{title:"Config Info",key:"config",type:3,content:[{name:"autotrack",desc:"AutoTrackEvent",value:!!this.config.autotrack},{name:"stay",desc:"StayDuration",value:!!this.config.enable_stay_duration}]},{title:"A/B Config Info",key:"ab",type:4,content:[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test}]}],this.config.enable_ab_test){var e=this.getInfo("ab"),t=[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test},{name:"vid",desc:"A/B VID",value:this.collect.configManager.getAbVersion()},{name:"ab_domain",desc:"Domain",value:this.config.ab_channel_domain||kt(It[this.config.channel])},{name:"all_values",desc:"A/B ALL Values",value:this.collect.configManager.getAbCache()}];e.content=t,this.setInfo("ab",e)}},e.prototype.getInfo=function(e){var t=null;return this.info.forEach((function(n){n.key===e&&(t=n)})),t},e.prototype.setInfo=function(e,t){var n=!1;this.info.forEach((function(i){i.key===e&&(n=!0,i=t)})),n||this.info.push(t)},e.prototype.getSecondInfo=function(e,t){var n=this.getInfo(e),i=null;return n.content.forEach((function(e){e.name===t&&(i=e)})),i},e.prototype.setSecondInfo=function(e,t,n){var i=this.getInfo(e);i.content.forEach((function(e){e.name===t&&(e.value=n)})),this.setInfo(e,i)},e.prototype.loadHook=function(){var e=this;this.collect.on(gt.DEBUGGER_MESSAGE,(function(t){switch(t.type){case gt.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",infoType:t.infoType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.setSecondInfo("ab","vid",e.collect.configManager.getAbVersion()),e.setSecondInfo("ab","all_values",e.collect.configManager.getAbCache())):"USER"===t.secType&&(e.setSecondInfo("user","uuid",e.collect.configManager.get("user").user_unique_id),e.setSecondInfo("user","web_id",e.collect.configManager.get("user").web_id)),void e.updateInfo();case gt.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],o=i.events;if(!o.length)return;o.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.focusShow=!0,n.status=t.status,n.type=e.filterEvent.has(n.event)?"sdk":"cus",n.verifyType=t.verifyType?"verify":"no",n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+" msg: "+(t.msg||t.failType)})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,sdk_type:"5.3.0_oversea".includes("tob")?"tob":"inner",appId:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.setSecondInfo("user","sid",t.tobid),e.updateInfo()}))}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};window&&window.postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e="#debugger-applog-web {\n      position: fixed;\n      width: 45px;\n      height: 45px;\n      background-image: url("+kt("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz18z1nz1nz1jz1mz1ez4az1nz1lz1e")+");\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 45px;\n    }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n);var i=document.createElement("div");i.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var o=document.createElement("div");o.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(i),document.getElementsByTagName("body")[0].appendChild(o);var r=document.getElementById("debugger-applog-web");r&&r.addEventListener("click",(function(){window&&window.postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),tn={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},nn=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],on=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new yt,this.remotePlugin=new Map,this.Types=Ut,this.adapters.storage=Mt,this.loadType="full"}return e.usePlugin=function(t,n,i){if(n){for(var o=!1,r=0,a=e.plugins.length;r<a;r++)if(e.plugins[r].name===n){e.plugins[r].plugin=t,e.plugins[r].options=i||{},o=!0;break}o||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&nn.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,o=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new Vt(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&mt(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var r=["sg","va","in","ie","ie2"];n.channel_domain||-1!==r.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+r.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new Ht,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new qt(this,n.enable_native),this.requestManager=new Qt(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new Kt(this,n),this.debugger=new en(this,n),this.initConfig=n,this.emit(Ut.Init),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Init",data:n,level:"info",time:Date.now(),infoType:"cus"}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new Wt,this.tokenManager=new Xt,this.sessionManager=new Zt,Promise.all([new Promise((function(e){o.once(Ut.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){o.once(Ut.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,r=Object.assign(o.initConfig,i);o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Load "+t.name+" Plugin",level:"info",time:Date.now(),infoType:"sdk"});var a=new n;return a.apply(o,r),e.push(a),e}),o.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Load Plugin Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}o.sdkReady=!0,o.emit(Ut.Ready),o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Initialization Completed",time:Date.now(),level:"info",secType:"USER",data:o.configManager.get("user"),infoType:"sdk"}),o.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(o.configManager.get("user"))),o.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.3.0_oversea, you can report now !!!"),n.disable_auto_pv&&(o.disableAutoPageView=!0);try{("full"===o.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}o.pageView(),o.on(Ut.TokenChange,(function(e){"webid"===e&&o.pageView(),o.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Set UserInfo",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user"),infoType:"sdk"})})),o.on(Ut.TokenReset,(function(){o.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Reset UserInfo",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user"),infoType:"sdk"})})),o.on(Ut.RouteChange,(function(e){e.init||n.disable_route_report||o.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&mt(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=ft({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(Ut.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(Ut.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Config",level:"info",time:Date.now(),data:n,infoType:"cus"})}}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(Ut.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(Ut.Start),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Start",level:"info",time:Date.now(),infoType:"cus"}),this.bridgeReport&&(this.pageView(),this.emit(Ut.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var o=this.processEvent(e,t);if(!o)return;i.push(o)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(Ut.Event,i),this.emit(Ut.SessionResetTime)),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event",level:"info",time:Date.now(),data:e,infoType:"cus"})}catch(e){this.logger.warn("something error, please check"),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(Ut.BeconEvent,n),this.emit(Ut.SessionResetTime)),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Beacon Event",level:"info",time:Date.now(),data:e,infoType:"sdk"}))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=K(i)&&(i={}),i.profile?delete i.profile:i.event_index=bt();var o=void 0;return i.local_ms?(o=i.local_ms,delete i.local_ms):o=+new Date,{event:n,params:i,local_time_ms:o,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:n.message,infoType:"sdk"}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=ft(ft({},t),e);this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Report PV",level:"info",time:Date.now(),infoType:"sdk"}),this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(Ut.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return Yt()},e.prototype.setSessionId=function(e){this.emit(Ut.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(Ut.ResetStay,{url_path:e,title:t,url:n},Ut.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(Ut.SetStay,{url_path:e,title:t,url:n},Ut.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,o=function(t){if(!i){i=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(ft({},o))}},r=function(){n.tokenManager.getTobId().then((function(e){o(e)}))};this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute GetToken",level:"info",time:Date.now(),infoType:"cus"}),this.sdkReady?r():(t&&setTimeout((function(){o()}),t),this.on(Ut.Ready,(function(){r()})))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(Ut.ProfileSet,e,Ut.Profile),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(Ut.ProfileSetOnce,e,Ut.Profile),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(Ut.ProfileIncrement,e,Ut.Profile),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(Ut.ProfileUnset,e,Ut.Profile),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(Ut.ProfileAppend,e,Ut.Profile),this.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(Ut.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,Ut.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(Ut.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},Ut.Ab)},e.prototype.getABconfig=function(e,t){this.emit(Ut.AbConfig,{params:e,callback:t},Ut.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(Ut.AbVersionChangeOn,e,Ut.Ab),function(){t.emit(Ut.AbVersionChangeOff,e,Ut.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(Ut.AbVersionChangeOff,e,Ut.Ab)},e.prototype.openOverlayer=function(){this.emit(Ut.AbOpenLayer,"",Ut.Ab)},e.prototype.closeOverlayer=function(){this.emit(Ut.AbCloseLayer,"",Ut.Ab)},e.prototype.getAllVars=function(e){this.emit(Ut.AbAllVars,e,Ut.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(Ut.TokenComplete),this.emit(Ut.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(Ut.TokenComplete),this.emit(Ut.DestoryInstance))},e.plugins=[],e}(),rn="__rangers_ab_style__";!function(e){e[e.Var=0]="Var",e[e.All=1]="All"}(jt||(jt={}));var an=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="no",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data={},this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_ab_test){var i=t.enable_multilink,o=t.ab_channel_domain,r=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,c=t.ab_timeout,l=t.disable_auto_ab,u=It[t.channel||"sg"]||It.sg,f=o||kt(u),h=e.adapters.storage;this.cacheStorgae=new h(!1),this.timeout=c||3e3,this.enable_multilink=i,this.enable_ab_visual=r,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=f+"/service/2/abtest_config/",this.reportUrl=this.collect.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id";var d=this.collect.Types;this.types=d,this.collect.on(d.TokenChange,(function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())})),this.collect.on(d.AbVar,(function(e){var t=e.name,i=e.defaultValue,o=e.callback;n.getVar(t,i,o)})),this.collect.on(d.AbAllVars,(function(e){n.getAllVars(e)})),this.collect.on(d.AbConfig,(function(e){var t=e.params,i=e.callback;n.getABconfig(t,i)})),this.collect.on(d.AbExternalVersion,(function(e){n.setExternalAbVersion(e)})),this.collect.on(d.AbOpenLayer,(function(){n.openOverlayer()})),this.collect.on(d.AbCloseLayer,(function(){n.closeOverlayer()})),this.collect.on(d.AbVersionChangeOn,(function(e){n.changeListener.set(e,e)})),this.collect.on(d.AbVersionChangeOff,(function(e){n.changeListener.get(e)&&n.changeListener.delete(e)})),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(!l&&this.fetchAB(),this.readyStatus=!0),this.collect.emit(d.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var o in n)i(o)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,i=e.href;n?(this.editMode=!0,t=n):!i||-1===i.indexOf("datatester")&&-1===i.indexOf("visual-editor")||(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,i=e.ab_version_multilink,o=(e.data,this.checkFromUrl());o?this.mulilinkVersions.push(o):this.mulilinkVersions=i||[],this.extVersions=n||[],this.versions=t||[];var r=this.versions.concat(this.extVersions);this.enable_multilink&&(r=r.concat(this.mulilinkVersions))},e.prototype.checkFromUrl=function(){var e=xt(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach((function(t){"function"==typeof t&&t(e)}))},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n,i){if(!e)throw new Error("variable must not be empty");if(void 0===t)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var o={name:e,defaultValue:t,callback:n,type:jt.Var};this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetVar",level:"info",time:Date.now(),data:e,infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(o,e,i):this.callbacks.push(o)},e.prototype.setAbUuid=function(e,t){this.collect.configManager.setAbUuidCache(e,t)},e.prototype.getRealVar=function(e,t,n){var i=e.name,o=e.defaultValue,r=e.callback,a=this.data;if(a){if(mt(a[i])){var s=a[i].vid;return"$ab_url"===t?this.mulilinkVersions.includes(s)||this.mulilinkVersions.push(s):this.versions.includes(s)||this.versions.push(s),this.setAbUuid(s,n),this.updateVersions(),this.fechEvent(s,t,o),r(a[i].val),void this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetVar, Exposure Experiment "+i,level:"info",time:Date.now(),data:a[i],infoType:"sdk"})}this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GerVar Default Callback",level:"info",time:Date.now(),data:this.data,infoType:"sdk"}),r(o)}else r(o)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:jt.All};this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetAllVars",level:"info",time:Date.now(),infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetAllVars Callback",level:"info",time:Date.now(),data:this.data,infoType:"sdk"})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event)return;if(!e)return;var i=this.collect.configManager.get(),o=i.header,r=i.user,a=this.getABCache(),s=r[this.ab_user_mode]||r.user_unique_id;if(a&&a.uuid&&a.uuid!==s)return;var c={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href,data:this.data}),local_time_ms:Date.now()};o.custom=JSON.stringify(o.custom);var l={events:[c],user:r,header:o};this.reportExposure(l,t)}catch(e){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout((function(){n.report(t),clearTimeout(n.reportTimeout)}),this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach((function(e){t.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_EVENT,info:"SDK Report Exposure Event Success",time:Date.now(),data:[e],code:200,status:"success",infoType:"sdk"})})),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t),this.collect.event("abtest_cache",{env_uuid:this.collect.configManager.get("user").user_unique_id||"",cache:JSON.stringify(t)})},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(rn)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=rn,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout((function(){t.closeOverlayer(),clearTimeout(n)}),e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(rn))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var i=[];Object.keys(e).forEach((function(t){var n=e[t].vid;n&&i.push(n)})),this.versions=this.versions.filter((function(e){return i.includes(e)}));var o=e.$ab_url,r=e.$ab_modification;if(r&&r.val&&this.enable_ab_visual){if(this.collect.destroy)return}else if(o&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter((function(e){return i.includes(e)}));var a=o.val,s=o.vid;a&&s&&this.getVar("$ab_url",a,(function(){n.editMode||(a!==window.location.href?setTimeout((function(){if(!n.collect.destroy){var e=""+a;e=-1===e.indexOf("http")?"https://"+e:e,St(e).host!==location.host?e=e+"&vid="+s:window.history.replaceState("","",e),window.location.href=e}}),100):n.closeOverlayer())}))}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach((function(e){return n[e.type===jt.Var?"getRealVar":"getRealAllVars"](e,"")})),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),i={header:ft(ft(ft({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})};this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch AB Request",level:"info",logType:"fetch",time:Date.now(),data:i,infoType:"sdk"});var o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.requestManager.useRequest({url:this.fetchUrl,data:i,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var i=n.data;"success"===n.message?(t.fetchComplete(i,o),e&&e(i)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,i),t.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Fetch AB Request Success",level:"info",logType:"fetch",time:Date.now(),data:i,infoType:"sdk"})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Fetch AB Request Network Error",level:"error",logType:"fetch",time:Date.now(),infoType:"sdk"})},timeout:this.timeout})},e.prototype.filterUrl=function(e){try{var t="";-1!==e.indexOf("&multilink=true")?t="&multilink=true[\0-]*":-1!==e.indexOf("?multilink=true")&&(t="\\?multilink=true[\0-]*");var n=new RegExp(t,"g");e=e.replace(n,"")}catch(e){}return e},e}(),sn=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t}),e.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_EVENT,info:"SDK Report ByteIo Verify Request",time:Date.now(),data:t,code:200,status:"success",verifyType:!0})}))}}else console.log("please use correct et_test url")},e}(),cn=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,mt(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,ft({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:Et(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval((function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)}),1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),wt(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ln=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||864e5,this.pageStartTime=Date.now(),mt(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,ft({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:Et(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),wt(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),un=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new cn(e,t),this.pageClose=new ln(e,t);var i=this.collect.Types;this.collect.on(i.ResetStay,(function(e){var t=e.url_path,i=e.title,o=e.url;n.resetStayDuration(t,i,o)})),this.collect.on(i.RouteChange,(function(e){e.init||t.disable_route_report||n.resetStayDuration()})),this.collect.on(i.SetStay,(function(e){var t=e.url_path,i=e.title,o=e.url;n.setStayParmas(t,i,o)})),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var o in n)i(o)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"SDK Execute resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),fn=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function o(){var r=Date.now()-i;e(),i+=t,n=window.setTimeout(o,Math.max(0,t-r))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),hn=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,(function(){n.sdkOnload()})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventData,o=e.errorCode;"f_data"===t&&n.sdkError(i,o)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,o=n.app_id,r=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:o,app_name:r||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],o=i.user,r=i.header,a=[];e.forEach((function(e){e.events.forEach((function(e){a.push(e)}))}));var s={events:a.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:r.app_id,app_name:r.app_name||"",error_event:e.event,sdk_version:r.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(r),user:JSON.stringify(o)}),local_time_ms:Date.now()}})),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[s],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e}();function dn(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaContainer"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0}return!1}function pn(e){for(var t=e;t&&!dn(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function vn(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var gn=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},yn=function(){function e(e,t,n){var i=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){(function(e,t){if(1!==e.nodeType)return!1;if(!t.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(e))return!1;if(["HTML","BODY"].includes(e.tagName.toUpperCase()))return!1;var n=e;return!("none"===n.style.display||!dn(n,"container")&&!function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some((function(e){return e.children.length>0}))}return!0}(n)&&!t.svg)})(e.target,i.options)&&i.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){i.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){i.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&i.eventHandel({eventType:"dom",eventName:"beat"},ft({beat_type:0},e)),i.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){i.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv){this.collect.on("route-change",(function(e){var n=e.config,i=e.name;t.getPageViewEvent(n,i),t.pageView=!0}));var n=setTimeout((function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))}),2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",(function(){t.beatEvent(t.beatTime)}));var i=0,o=null;window.addEventListener("scroll",(function(){clearTimeout(o),o=setTimeout(r,500),i=document.documentElement.scrollTop||document.body.scrollTop}));var r=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var a=window.performance&&window.performance.getEntriesByType("paint");a&&a.length?(new PerformanceObserver((function(e){var n=e.getEntries(),i=n[n.length-1],o=i.renderTime||i.loadTime;t.statistics||(t.getPageLoadEvent(o),t.statistics=!0)})).observe({entryTypes:["largest-contentful-paint"]}),setTimeout((function(){t.statistics||(t.getPageLoadEvent(a[0].startTime||0),t.statistics=!0)}),2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},e.prototype.beatEvent=function(e){var t=this;try{var n;this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(n=setInterval((function(){t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})}),e)),wt((function(){t.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),t.beatTime&&clearInterval(n)}))}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),mn={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},_n=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}();function bn(e,t,n,i){var o={},r=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return{left:t.left,top:t.top,element_width:n,element_height:i}}}(t),a=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.clientX,i=e.clientY,o=t.left,r=t.top,a=n-o>=0?n-o:0,s=i-r>=0?i-r:0;return{touch_x:Math.floor(a),touch_y:Math.floor(s)}}(e,r),s=r.element_width,c=r.element_height,l=a.touch_x,u=a.touch_y,f=function(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],i=[];return t.forEach((function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,o=0;o<i.length&&i[o]!==e;o++)i[o].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),dn(e,"list")?"[]":""].join(""),index:t}}(e),o=t.str,r=t.index;n.unshift(o),i.unshift(r)})),{element_path:"/"+n.join("/"),positions:i}}(t),h=f.element_path,d=f.positions,p=function(e){var t=pn(e),n=[];return function e(t){var i=vn(t);if(i&&-1===n.indexOf(i)&&n.push(i),t.childNodes.length>0)for(var o=t.childNodes,r=0;r<o.length;r++)8!==o[r].nodeType&&e(o[r])}(t),n}(t),v=window.performance.timing.navigationStart,g=Date.now()-v,y=d.map((function(e){return""+e})),m=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(m=window.TEAVisualEditor.getOriginXpath({xpath:h,positions:y})),o.element_path=m&&m.xpath||h,o.positions=m&&m.positions||y,i&&!i.text&&(o.texts=p,o.element_title=function(e){var t=pn(e),n="";return function e(t){var i=vn(t);if(i&&(n+=i),t.childNodes.length>0)for(var o=t.childNodes,r=0;r<o.length;r++)3===o[r].nodeType&&e(o[r])}(t),n}(t)),o.element_id=t.getAttribute("id")||"",o.element_class_name=t.getAttribute("class")||"",o.element_type=t.nodeType,o.element_width=Math.floor(s),o.element_height=Math.floor(c),o.touch_x=l,o.touch_y=u,o.page_manual_key="",o.elememt_manual_key="",o.since_page_start_ms=g,o.page_start_ms=v,o.page_path=location.pathname,o.page_host=location.host,n.track_attr&&function(e,t){return!!function(e,t){if("string"==typeof t)return gn(e,t);if(_t(t)){for(var n=!1,i=0;i<t.length;i++)if(gn(e,t[i])){n=!0;break}return n}}(e,t)}(t,n.track_attr)){var _=function(e,t){var n={};if("string"==typeof t)gn(e,t)&&(n.attrs=e.getAttribute(t));else if(_t(t))for(var i=0;i<t.length;i++)gn(e,t[i])&&(n[t[i]]=e.getAttribute(t[i]));return n}(t,n.track_attr);for(var b in _)o[b]=_[b]}var k=pn(t);return"A"===k.tagName&&(o.href=k.getAttribute("href")),"IMG"===t.tagName&&(o.src=t.getAttribute("src")),o}var kn=function(e,t,n,i,o){return ft(ft({event:e},bn(t,n,i,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},wn=function(){function e(e,t){this.ignore={text:!0},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!0===t.text&&(this.ignore.text=!1),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)return!1;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=this.eventName.click,kn(n,e,e.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,kn(n,e,e.target,this.options,this.ignore);case"change":return ft(ft({},kn(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return kn(n="bav2b_submit",e,e.target,this.options)}}catch(e){return console.error(e),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,o=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(o>0?o:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),En=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,i=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(i,t):this.collect.event(i,t)},e.prototype.get=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},t);fetch(e,n)},e.prototype.post=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},t);fetch(e,n)},e}(),Sn={},xn=[];function Cn(e,t,n,i){var o=e&&e.source||window.opener||window.parent,r=e&&e.origin||i||"*",a={type:t,payload:n};o.postMessage(JSON.stringify(a),r)}function An(e){if(xn.some((function(e){return"*"===e}))||xn.some((function(t){return e.origin.indexOf(t)>-1}))){var t=e.data;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){t=void 0}if(!t)return;var n=t.type,i=t.payload;Sn[n]&&Sn[n].forEach((function(t){"function"==typeof t&&t(e,i)}))}}var Dn=!1;function Tn(e,t){window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.appId=t.app_id;var n,i,o,r,a=t.channel_domain,s="";if((n=["*"]).length&&n.forEach((function(e){xn.push(e)})),a){var c,l="";try{var u=window.performance.getEntriesByType("resource");if(u&&u.length&&(u.forEach((function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(l=e.name)})),l&&(c=l.split("/"))&&c.length)){s="https:/";for(var f=2;f<c.length&&f!==c.length-1;f++)s=s+"/"+c[f];if(s&&s.indexOf("/5.0")){var h=s.split("/5.0");s=h[0]||s}}}catch(e){}}delete(i=ft({},t)).filter,(window.opener||window.parent).postMessage({type:"tea:sdk:info",config:i,version:"5.3.0_oversea"},"*"),window.addEventListener("message",An,!1);try{r=function(n){var i=n.data.app_id;i&&i!==t.app_id||function(e){var t,n,i,o,r=e.event,a=e.editorUrl,s=e.autoTrackInstance;Dn||(Dn=!0,t=a,n=function(){Cn(r,"editorScriptloadSuccess"),s.destroy()},i=function(){r&&Cn(r,"editorScriptloadError"),Dn=!1},(o=document.createElement("script")).src=t,o.onerror=function(){i()},o.onload=function(){n()},document.getElementsByTagName("head")[0].appendChild(o))}({event:n,editorUrl:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/log-sdk/collect/heatmap-core.js?query="+Date.now(),autoTrackInstance:e})},Sn[o="tea:openHeatMapCore"]=Sn[o]||[],Sn[o].push(r)}catch(e){console.log("openHeatMapCore error")}}var On,Rn=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;this._instance=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)}))})),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.prototype.forEach.call(e.addedNodes,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd)})),Array.prototype.forEach.call(e.removedNodes,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove)}))},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)}))},e.prototype.exposureAdd=function(e,t){this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),Mn=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver((function(e){e.forEach((function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)}))}),{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var o=n.getBoundingClientRect(),r=o.top,a=o.left,s=o.right,c=o.bottom;r>=0&&c<=window.innerHeight&&a>=0&&s<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){if(e.intersectionRatio>=this.Ratio&&e.isIntersecting){if("0"===e.target.style.opacity||"hidden"===e.target.style.visibility)return;if(!0===e.target.visible)return;e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e)}else e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),zn=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new Mn(e,t),this._observer=new Rn(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),(function(t){e._intersection.exposureAdd(t,"intersect")}))},e}(),Bn={hashTag:!1,impr:!1},In=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t="object"==K(t)?t:{},t=Object.assign(Bn,t),this.destroyed=!1,this.options=t,this.Config=new _n(mn,this.options),this.Exposure=new zn(this.config,this.handle.bind(this)),this.Listener=new yn(t,this.collect,this.Config),this.EventHandle=new wn(this.config,t),this.Request=new En(this.collect),this.autoTrackStart=!0,this.init(),Tn(this,this.config)},e.prototype.init=function(){this.Listener.init(this.handle.bind(this)),"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")},e.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(t,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var o;o="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},o)}else if("beat"===n){var r=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},r)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();!function(e){e.Net="net",e.FailNet="f_net",e.FailData="f_data"}(On||(On={}));var Nn={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},Pn=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.ready=t.app_id&&t.enable_tracer&&!t.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var i=this.collect.Types;e.adapters.fetch,this.collect.on(i.Event,(function(e){_t(e)?e.forEach((function(e){n.addCount("log")})):n.addCount("log")})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventDate,o=e.errorCode,r=e.response;n.addErrorCount(i,t,o,r)})),this.listener(),this.collect.emit(i.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var i=void 0;if(this.tracerCache.has(e))(o=this.tracerCache.get(e)).has(t)?(i=o.get(t).params.count,i++,o.set(t,this.processTracer(i,e,t))):(i=n,o.set(t,this.processTracer(n,e,t)));else{var o=new Map;i=n,o.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,o)}"net"===t&&i>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,i){var o=this;try{if(e&&e.length){var r=e[0].events;r&&r.length&&("f_data"===t?(i&&i.hasOwnProperty("sc")?this.addCount("log",t,r.length-i.sc):this.addCount("log",t,r.length),this.errorCode[t]=n):r.forEach((function(e){var i="log";for(var r in Nn)if(-1!==Nn[r].indexOf(e.event)){i=r;break}o.addCount(i,t,1),o.errorCode[t]=n})))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach((function(e){console.log(e),e.forEach((function(e){t.push(e)}))})),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var i={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.3.0_oversea"};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var o=this.collect.processEvent("applog_trace",i);if(o&&o.event)return delete o.is_bav,o}catch(e){console.warn("something error")}},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.leavePage()})),wt((function(){e.leavePage()}))},e.prototype.leavePage=function(){this.report(!0)},e}(),jn="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,Un=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(tn.hasOwnProperty(n)){var i=tn[n].object,o=""+tn[n].src[e.channel];e.exist(n,i,o)}else console.warn("your "+n+" is not existplease check plugin name");else"object"==K(t)&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;jn[t]?(this.process(e,jn[t]),console.log("already has "+e+" plugin~")):this.loadPlugin(e,n,(function(){i.process(e,jn[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var o=this;try{var r=document.createElement("script");r.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),r.onerror=function(){i(t)},r.onload=function(){o._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(r)}catch(e){this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e}(),Gn=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==K(this.config.autotrack)&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var r=t.call.apply(t,dt([history,n],i));if(e.collect.sdkStop||e.collect.destroy)return r;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a,"pushState"),r}};var n=history.replaceState;history.replaceState=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var r=n.call.apply(n,dt([history,t],i));if(e.collect.sdkStop||e.collect.destroy)return r;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a),r}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new URL(this.lastLocation).origin+new URL(this.lastLocation).pathname===new URL(location.href).origin+new URL(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})),window.addEventListener("popstate",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}))},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e,t=this.storage.getItem(this.cache_key)||{},n=this.storage.getItem("__tea_cache_first_"+this.appid);return e=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:t&&t.refer_manual_key||"",refer_page_title:t&&t.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+e}}catch(t){return this.collect.emit(gt.DEBUGGER_MESSAGE,{type:gt.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:t.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();on.usePlugin(Un,"extend"),on.usePlugin(Pn,"tracer"),on.usePlugin(an,"ab"),on.usePlugin(un,"stay"),on.usePlugin(In,"autotrack"),on.usePlugin(sn,"et"),on.usePlugin(fn,"heartbeat"),on.usePlugin(hn,"monitor"),on.usePlugin(Gn,"route"),on.usePlugin(Pn,"tracer"),new on("default");var Ln=function(e,t){return e&&function(e){return"object"===K(e)&&null!==e}(e)?t.reduce((function(t,n){return t[n]=e[n],t}),{}):e},$n=new on("cookie_banner_tea_ui"),Fn=!1;function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Fn&&$n){var n="".concat(location.protocol,"//").concat(location.host).concat(location.pathname);$n.event(e,b({page_url:n,host:location.host,user_agent:navigator.userAgent,referrer:n},t))}}var Vn=function(){this.__data__=[],this.size=0};var Hn=function(e,t){return e===t||e!=e&&t!=t};var qn=function(e,t){for(var n=e.length;n--;)if(Hn(e[n][0],t))return n;return-1},Wn=Array.prototype.splice;var Jn=function(e){var t=this.__data__,n=qn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Wn.call(t,n,1),--this.size,!0)};var Xn=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]};var Yn=function(e){return qn(this.__data__,e)>-1};var Zn=function(e,t){var n=this.__data__,i=qn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Qn.prototype.clear=Vn,Qn.prototype.delete=Jn,Qn.prototype.get=Xn,Qn.prototype.has=Yn,Qn.prototype.set=Zn;var ei=Qn;var ti=function(){this.__data__=new ei,this.size=0};var ni=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ii=function(e){return this.__data__.get(e)};var oi=function(e){return this.__data__.has(e)},ri="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ai(e,t){return e(t={exports:{}},t.exports),t.exports}var si="object"==K(ri)&&ri&&ri.Object===Object&&ri,ci="object"==("undefined"==typeof self?"undefined":K(self))&&self&&self.Object===Object&&self,li=si||ci||Function("return this")(),ui=li.Symbol,fi=Object.prototype,hi=fi.hasOwnProperty,di=fi.toString,pi=ui?ui.toStringTag:void 0;var vi=function(e){var t=hi.call(e,pi),n=e[pi];try{e[pi]=void 0;var i=!0}catch(e){}var o=di.call(e);return i&&(t?e[pi]=n:delete e[pi]),o},gi=Object.prototype.toString;var yi=function(e){return gi.call(e)},mi=ui?ui.toStringTag:void 0;var _i=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mi&&mi in Object(e)?vi(e):yi(e)};var bi=function(e){var t=K(e);return null!=e&&("object"==t||"function"==t)};var ki,wi=function(e){if(!bi(e))return!1;var t=_i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ei=li["__core-js_shared__"],Si=(ki=/[^.]+$/.exec(Ei&&Ei.keys&&Ei.keys.IE_PROTO||""))?"Symbol(src)_1."+ki:"";var xi=function(e){return!!Si&&Si in e},Ci=Function.prototype.toString;var Ai=function(e){if(null!=e){try{return Ci.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Di=/^\[object .+?Constructor\]$/,Ti=Function.prototype,Oi=Object.prototype,Ri=Ti.toString,Mi=Oi.hasOwnProperty,zi=RegExp("^"+Ri.call(Mi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bi=function(e){return!(!bi(e)||xi(e))&&(wi(e)?zi:Di).test(Ai(e))};var Ii=function(e,t){return null==e?void 0:e[t]};var Ni=function(e,t){var n=Ii(e,t);return Bi(n)?n:void 0},Pi=Ni(li,"Map"),ji=Ni(Object,"create");var Ui=function(){this.__data__=ji?ji(null):{},this.size=0};var Gi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Li=Object.prototype.hasOwnProperty;var $i=function(e){var t=this.__data__;if(ji){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Li.call(t,e)?t[e]:void 0},Fi=Object.prototype.hasOwnProperty;var Ki=function(e){var t=this.__data__;return ji?void 0!==t[e]:Fi.call(t,e)};var Vi=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ji&&void 0===t?"__lodash_hash_undefined__":t,this};function Hi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Hi.prototype.clear=Ui,Hi.prototype.delete=Gi,Hi.prototype.get=$i,Hi.prototype.has=Ki,Hi.prototype.set=Vi;var qi=Hi;var Wi=function(){this.size=0,this.__data__={hash:new qi,map:new(Pi||ei),string:new qi}};var Ji=function(e){var t=K(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Xi=function(e,t){var n=e.__data__;return Ji(t)?n["string"==typeof t?"string":"hash"]:n.map};var Yi=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t};var Zi=function(e){return Xi(this,e).get(e)};var Qi=function(e){return Xi(this,e).has(e)};var eo=function(e,t){var n=Xi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function to(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}to.prototype.clear=Wi,to.prototype.delete=Yi,to.prototype.get=Zi,to.prototype.has=Qi,to.prototype.set=eo;var no=to;var io=function(e,t){var n=this.__data__;if(n instanceof ei){var i=n.__data__;if(!Pi||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new no(i)}return n.set(e,t),this.size=n.size,this};function oo(e){var t=this.__data__=new ei(e);this.size=t.size}oo.prototype.clear=ti,oo.prototype.delete=ni,oo.prototype.get=ii,oo.prototype.has=oi,oo.prototype.set=io;var ro=oo,ao=function(){try{var e=Ni(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var so=function(e,t,n){"__proto__"==t&&ao?ao(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var co=function(e,t,n){(void 0!==n&&!Hn(e[t],n)||void 0===n&&!(t in e))&&so(e,t,n)};var lo=function(e){return function(t,n,i){for(var o=-1,r=Object(t),a=i(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(r[c],c,r))break}return t}}(),uo=ai((function(e,t){var n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?li.Buffer:void 0,r=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=r?r(n):new e.constructor(n);return e.copy(i),i}})),fo=li.Uint8Array;var ho=function(e){var t=new e.constructor(e.byteLength);return new fo(t).set(new fo(e)),t};var po=function(e,t){var n=t?ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var vo=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},go=Object.create,yo=function(){function e(){}return function(t){if(!bi(t))return{};if(go)return go(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var mo=function(e,t){return function(n){return e(t(n))}},_o=mo(Object.getPrototypeOf,Object),bo=Object.prototype;var ko=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||bo)};var wo=function(e){return"function"!=typeof e.constructor||ko(e)?{}:yo(_o(e))};var Eo=function(e){return null!=e&&"object"==K(e)};var So=function(e){return Eo(e)&&"[object Arguments]"==_i(e)},xo=Object.prototype,Co=xo.hasOwnProperty,Ao=xo.propertyIsEnumerable,Do=So(function(){return arguments}())?So:function(e){return Eo(e)&&Co.call(e,"callee")&&!Ao.call(e,"callee")},To=Do,Oo=Array.isArray;var Ro=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Mo=function(e){return null!=e&&Ro(e.length)&&!wi(e)};var zo=function(e){return Eo(e)&&Mo(e)};var Bo=function(){return!1},Io=ai((function(e,t){var n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?li.Buffer:void 0,r=(o?o.isBuffer:void 0)||Bo;e.exports=r})),No=Function.prototype,Po=Object.prototype,jo=No.toString,Uo=Po.hasOwnProperty,Go=jo.call(Object);var Lo=function(e){if(!Eo(e)||"[object Object]"!=_i(e))return!1;var t=_o(e);if(null===t)return!0;var n=Uo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&jo.call(n)==Go},$o={};$o["[object Float32Array]"]=$o["[object Float64Array]"]=$o["[object Int8Array]"]=$o["[object Int16Array]"]=$o["[object Int32Array]"]=$o["[object Uint8Array]"]=$o["[object Uint8ClampedArray]"]=$o["[object Uint16Array]"]=$o["[object Uint32Array]"]=!0,$o["[object Arguments]"]=$o["[object Array]"]=$o["[object ArrayBuffer]"]=$o["[object Boolean]"]=$o["[object DataView]"]=$o["[object Date]"]=$o["[object Error]"]=$o["[object Function]"]=$o["[object Map]"]=$o["[object Number]"]=$o["[object Object]"]=$o["[object RegExp]"]=$o["[object Set]"]=$o["[object String]"]=$o["[object WeakMap]"]=!1;var Fo=function(e){return Eo(e)&&Ro(e.length)&&!!$o[_i(e)]};var Ko=function(e){return function(t){return e(t)}},Vo=ai((function(e,t){var n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&si.process,r=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=r})),Ho=Vo&&Vo.isTypedArray,qo=Ho?Ko(Ho):Fo;var Wo=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Jo=Object.prototype.hasOwnProperty;var Xo=function(e,t,n){var i=e[t];Jo.call(e,t)&&Hn(i,n)&&(void 0!==n||t in e)||so(e,t,n)};var Yo=function(e,t,n,i){var o=!n;n||(n={});for(var r=-1,a=t.length;++r<a;){var s=t[r],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?so(n,s,c):Xo(n,s,c)}return n};var Zo=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i},Qo=/^(?:0|[1-9]\d*)$/;var er=function(e,t){var n=K(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qo.test(e))&&e>-1&&e%1==0&&e<t},tr=Object.prototype.hasOwnProperty;var nr=function(e,t){var n=Oo(e),i=!n&&To(e),o=!n&&!i&&Io(e),r=!n&&!i&&!o&&qo(e),a=n||i||o||r,s=a?Zo(e.length,String):[],c=s.length;for(var l in e)!t&&!tr.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||er(l,c))||s.push(l);return s};var ir=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},or=Object.prototype.hasOwnProperty;var rr=function(e){if(!bi(e))return ir(e);var t=ko(e),n=[];for(var i in e)("constructor"!=i||!t&&or.call(e,i))&&n.push(i);return n};var ar=function(e){return Mo(e)?nr(e,!0):rr(e)};var sr=function(e){return Yo(e,ar(e))};var cr=function(e,t,n,i,o,r,a){var s=Wo(e,n),c=Wo(t,n),l=a.get(c);if(l)co(e,n,l);else{var u=r?r(s,c,n+"",e,t,a):void 0,f=void 0===u;if(f){var h=Oo(c),d=!h&&Io(c),p=!h&&!d&&qo(c);u=c,h||d||p?Oo(s)?u=s:zo(s)?u=vo(s):d?(f=!1,u=uo(c,!0)):p?(f=!1,u=po(c,!0)):u=[]:Lo(c)||To(c)?(u=s,To(s)?u=sr(s):bi(s)&&!wi(s)||(u=wo(c))):f=!1}f&&(a.set(c,u),o(u,c,i,r,a),a.delete(c)),co(e,n,u)}};var lr=function e(t,n,i,o,r){t!==n&&lo(n,(function(a,s){if(r||(r=new ro),bi(a))cr(t,n,s,i,e,o,r);else{var c=o?o(Wo(t,s),a,s+"",t,n,r):void 0;void 0===c&&(c=a),co(t,s,c)}}),ar)};var ur=function(e){return e};var fr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},hr=Math.max;var dr=function(e,t,n){return t=hr(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,r=hr(i.length-t,0),a=Array(r);++o<r;)a[o]=i[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=i[o];return s[t]=n(a),fr(e,this,s)}};var pr=function(e){return function(){return e}},vr=ao?function(e,t){return ao(e,"toString",{configurable:!0,enumerable:!1,value:pr(t),writable:!0})}:ur,gr=Date.now;var yr=function(e){var t=0,n=0;return function(){var i=gr(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},mr=yr(vr);var _r=function(e,t){return mr(dr(e,t,ur),e+"")};var br=function(e,t,n){if(!bi(n))return!1;var i=K(t);return!!("number"==i?Mo(n)&&er(t,n.length):"string"==i&&t in n)&&Hn(n[t],e)};var kr,wr=function(e){return _r((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,a&&br(n[0],n[1],a)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var s=n[i];s&&e(t,s,i,r)}return t}))},Er=wr((function(e,t,n){lr(e,t,n)})),Sr=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}},xr=Object.prototype.toString,Cr=(kr=Object.create(null),function(e){var t=xr.call(e);return kr[t]||(kr[t]=t.slice(8,-1).toLowerCase())});function Ar(e){return e=e.toLowerCase(),function(t){return Cr(t)===e}}function Dr(e){return Array.isArray(e)}function Tr(e){return void 0===e}var Or=Ar("ArrayBuffer");function Rr(e){return null!==e&&"object"===K(e)}function Mr(e){if("object"!==Cr(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var zr=Ar("Date"),Br=Ar("File"),Ir=Ar("Blob"),Nr=Ar("FileList");function Pr(e){return"[object Function]"===xr.call(e)}var jr=Ar("URLSearchParams");function Ur(e,t){if(null!=e)if("object"!==K(e)&&(e=[e]),Dr(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Gr,Lr=(Gr="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return Gr&&e instanceof Gr}),$r={isArray:Dr,isArrayBuffer:Or,isBuffer:function(e){return null!==e&&!Tr(e)&&null!==e.constructor&&!Tr(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||xr.call(e)===t||Pr(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Or(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Rr,isPlainObject:Mr,isUndefined:Tr,isDate:zr,isFile:Br,isBlob:Ir,isFunction:Pr,isStream:function(e){return Rr(e)&&Pr(e.pipe)},isURLSearchParams:jr,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Ur,merge:function e(){var t={};function n(n,i){Mr(t[i])&&Mr(n)?t[i]=e(t[i],n):Mr(n)?t[i]=e({},n):Dr(n)?t[i]=n.slice():t[i]=n}for(var i=0,o=arguments.length;i<o;i++)Ur(arguments[i],n);return t},extend:function(e,t,n){return Ur(t,(function(t,i){e[i]=n&&"function"==typeof t?Sr(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,o,r,a={};t=t||{};do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a[r=i[o]]||(t[r]=e[r],a[r]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Cr,kindOfTest:Ar,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(Tr(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:Lr,isFileList:Nr};function Fr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Kr=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if($r.isURLSearchParams(t))i=t.toString();else{var o=[];$r.forEach(t,(function(e,t){null!=e&&($r.isArray(e)?t+="[]":e=[e],$r.forEach(e,(function(e){$r.isDate(e)?e=e.toISOString():$r.isObject(e)&&(e=JSON.stringify(e)),o.push(Fr(t)+"="+Fr(e))})))})),i=o.join("&")}if(i){var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e};function Vr(){this.handlers=[]}Vr.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Vr.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Vr.prototype.forEach=function(e){$r.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Hr=Vr,qr=function(e,t){$r.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))};function Wr(e,t,n,i,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}$r.inherits(Wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Jr=Wr.prototype,Xr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){Xr[e]={value:e}})),Object.defineProperties(Wr,Xr),Object.defineProperty(Jr,"isAxiosError",{value:!0}),Wr.from=function(e,t,n,i,o,r){var a=Object.create(Jr);return $r.toFlatObject(e,a,(function(e){return e!==Error.prototype})),Wr.call(a,e.message,t,n,i,o),a.name=e.name,r&&Object.assign(a,r),a};var Yr=Wr,Zr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Qr=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":$r.isDate(e)?e.toISOString():$r.isArrayBuffer(e)||$r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,r){if($r.isPlainObject(o)||$r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+r);n.push(o),$r.forEach(o,(function(n,o){if(!$r.isUndefined(n)){var a,s=r?r+"."+o:o;if(n&&!r&&"object"===K(n))if($r.endsWith(o,"{}"))n=JSON.stringify(n);else if($r.endsWith(o,"[]")&&(a=$r.toArray(n)))return void a.forEach((function(e){!$r.isUndefined(e)&&t.append(s,i(e))}));e(n,s)}})),n.pop()}else t.append(r,i(o))}(e),t},ea=$r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,r){var a=[];a.push(e+"="+encodeURIComponent(t)),$r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),$r.isString(i)&&a.push("path="+i),$r.isString(o)&&a.push("domain="+o),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ta=function(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t},na=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ia=$r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=$r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function oa(e){Yr.call(this,null==e?"canceled":e,Yr.ERR_CANCELED),this.name="CanceledError"}$r.inherits(oa,Yr,{__CANCEL__:!0});var ra=oa,aa=function(e){return new Promise((function(t,n){var i,o=e.data,r=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}$r.isFormData(o)&&$r.isStandardBrowserEnv()&&delete r["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.Authorization="Basic "+btoa(l+":"+u)}var f=ta(e.baseURL,e.url);function h(){if(c){var i="getAllResponseHeaders"in c?function(e){var t,n,i,o={};return e?($r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=$r.trim(e.substr(0,i)).toLowerCase(),n=$r.trim(e.substr(i+1)),t){if(o[t]&&na.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(c.getAllResponseHeaders()):null;!function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Yr("Request failed with status code "+n.status,[Yr.ERR_BAD_REQUEST,Yr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),Kr(f,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(new Yr("Request aborted",Yr.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new Yr("Network Error",Yr.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||Zr;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Yr(t,i.clarifyTimeoutError?Yr.ETIMEDOUT:Yr.ECONNABORTED,e,c)),c=null},$r.isStandardBrowserEnv()){var d=(e.withCredentials||ia(f))&&e.xsrfCookieName?ea.read(e.xsrfCookieName):void 0;d&&(r[e.xsrfHeaderName]=d)}"setRequestHeader"in c&&$r.forEach(r,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete r[t]:c.setRequestHeader(t,e)})),$r.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(i=function(e){c&&(n(!e||e&&e.type?new ra:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i))),o||(o=null);var p,v=(p=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f))&&p[1]||"";v&&-1===["http","https","file"].indexOf(v)?n(new Yr("Unsupported protocol "+v+":",Yr.ERR_BAD_REQUEST,e)):c.send(o)}))},sa={"Content-Type":"application/x-www-form-urlencoded"};function ca(e,t){!$r.isUndefined(e)&&$r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var la,ua={transitional:Zr,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(la=aa),la),transformRequest:[function(e,t){if(qr(t,"Accept"),qr(t,"Content-Type"),$r.isFormData(e)||$r.isArrayBuffer(e)||$r.isBuffer(e)||$r.isStream(e)||$r.isFile(e)||$r.isBlob(e))return e;if($r.isArrayBufferView(e))return e.buffer;if($r.isURLSearchParams(e))return ca(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=$r.isObject(e),o=t&&t["Content-Type"];if((n=$r.isFileList(e))||i&&"multipart/form-data"===o){var r=this.env&&this.env.FormData;return Qr(n?{"files[]":e}:e,r&&new r)}return i||"application/json"===o?(ca(t,"application/json"),function(e,t,n){if($r.isString(e))try{return(t||JSON.parse)(e),$r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ua.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&$r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw Yr.from(e,Yr.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$r.forEach(["delete","get","head"],(function(e){ua.headers[e]={}})),$r.forEach(["post","put","patch"],(function(e){ua.headers[e]=$r.merge(sa)}));var fa=ua,ha=function(e,t,n){var i=this||fa;return $r.forEach(n,(function(n){e=n.call(i,e,t)})),e},da=function(e){return!(!e||!e.__CANCEL__)};function pa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ra}var va=function(e){return pa(e),e.headers=e.headers||{},e.data=ha.call(e,e.data,e.headers,e.transformRequest),e.headers=$r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),$r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||fa.adapter)(e).then((function(t){return pa(e),t.data=ha.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return da(t)||(pa(e),t&&t.response&&(t.response.data=ha.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ga=function(e,t){t=t||{};var n={};function i(e,t){return $r.isPlainObject(e)&&$r.isPlainObject(t)?$r.merge(e,t):$r.isPlainObject(t)?$r.merge({},t):$r.isArray(t)?t.slice():t}function o(n){return $r.isUndefined(t[n])?$r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function r(e){if(!$r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return $r.isUndefined(t[n])?$r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return $r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);$r.isUndefined(i)&&t!==s||(n[e]=i)})),n},ya="0.27.2",ma=ya,_a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){_a[e]=function(n){return K(n)===e||"a"+(t<1?"n ":" ")+e}}));var ba={};_a.transitional=function(e,t,n){function i(e,t){return"[Axios v"+ma+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,r){if(!1===e)throw new Yr(i(o," has been removed"+(t?" in "+t:"")),Yr.ERR_DEPRECATED);return t&&!ba[o]&&(ba[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}};var ka={assertOptions:function(e,t,n){if("object"!==K(e))throw new Yr("options must be an object",Yr.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),o=i.length;o-- >0;){var r=i[o],a=t[r];if(a){var s=e[r],c=void 0===s||a(s,r,e);if(!0!==c)throw new Yr("option "+r+" must be "+c,Yr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Yr("Unknown option "+r,Yr.ERR_BAD_OPTION)}},validators:_a},wa=ka.validators;function Ea(e){this.defaults=e,this.interceptors={request:new Hr,response:new Hr}}Ea.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=ga(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&ka.assertOptions(n,{silentJSONParsing:wa.transitional(wa.boolean),forcedJSONParsing:wa.transitional(wa.boolean),clarifyTimeoutError:wa.transitional(wa.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var r,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var s=[va,void 0];for(Array.prototype.unshift.apply(s,i),s=s.concat(a),r=Promise.resolve(t);s.length;)r=r.then(s.shift(),s.shift());return r}for(var c=t;i.length;){var l=i.shift(),u=i.shift();try{c=l(c)}catch(e){u(e);break}}try{r=va(c)}catch(e){return Promise.reject(e)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},Ea.prototype.getUri=function(e){e=ga(this.defaults,e);var t=ta(e.baseURL,e.url);return Kr(t,e.params,e.paramsSerializer)},$r.forEach(["delete","get","head","options"],(function(e){Ea.prototype[e]=function(t,n){return this.request(ga(n||{},{method:e,url:t,data:(n||{}).data}))}})),$r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,o){return this.request(ga(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ea.prototype[e]=t(),Ea.prototype[e+"Form"]=t(!0)}));var Sa=Ea;function xa(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new ra(e),t(n.reason))}))}xa.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},xa.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},xa.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},xa.source=function(){var e,t=new xa((function(t){e=t}));return{token:t,cancel:e}};var Ca=xa;var Aa=function e(t){var n=new Sa(t),i=Sr(Sa.prototype.request,n);return $r.extend(i,Sa.prototype,n),$r.extend(i,n),i.create=function(n){return e(ga(t,n))},i}(fa);Aa.Axios=Sa,Aa.CanceledError=ra,Aa.CancelToken=Ca,Aa.isCancel=da,Aa.VERSION=ya,Aa.toFormData=Qr,Aa.AxiosError=Yr,Aa.Cancel=Aa.CanceledError,Aa.all=function(e){return Promise.all(e)},Aa.spread=function(e){return function(t){return e.apply(null,t)}},Aa.isAxiosError=function(e){return $r.isObject(e)&&!0===e.isAxiosError};var Da=Aa,Ta=Aa;Da.default=Ta;var Oa=Da,Ra=ai((function(e,t){!function(n,i){var o="function",r="undefined",a="object",s="string",c="major",l="model",u="name",f="type",h="vendor",d="version",p="architecture",v="console",g="mobile",y="tablet",m="smarttv",_="wearable",b="embedded",k="Amazon",w="Apple",E="ASUS",S="BlackBerry",x="Firefox",C="Google",A="Huawei",D="LG",T="Microsoft",O="Motorola",R="Opera",M="Samsung",z="Sharp",B="Sony",I="Xiaomi",N="Zebra",P="Facebook",j="Chromium OS",U="Mac OS",G=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},L=function(e,t){return K(e)===s&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},F=function(e,t){if(K(e)===s)return e=e.replace(/^\s\s*/,""),K(t)===r?e:e.substring(0,500)},V=function(e,t){for(var n,r,s,c,l,u,f=0;f<t.length&&!l;){var h=t[f],d=t[f+1];for(n=r=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(s=0;s<d.length;s++)u=l[++r],K(c=d[s])===a&&c.length>0?2===c.length?K(c[1])==o?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?K(c[1])!==o||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):i:this[c[0]]=u?c[1].call(this,u,c[2]):i:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):i):this[c]=u||i;f+=2}},H=function(e,t){for(var n in t)if(K(t[n])===a&&t[n].length>0){for(var o=0;o<t[n].length;o++)if(L(t[n][o],e))return"?"===n?i:n}else if(L(t[n],e))return"?"===n?i:n;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,d],[/opios[\/ ]+([\w\.]+)/i],[d,[u,"Opera Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[u,"Opera GX"]],[/\bopr\/([\w\.]+)/i],[d,[u,R]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,d],[/\bddg\/([\w\.]+)/i],[d,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[u,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[u,"Smart Lenovo Browser"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],d],[/\bfocus\/([\w\.]+)/i],[d,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[d,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[d,[u,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],d],[/samsungbrowser\/([\w\.]+)/i],[d,[u,"Samsung Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,d],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,P],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[d,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,d],[/(cobalt)\/([\w\.]+)/i],[u,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,$]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",$]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,M],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,M],[f,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[h,w],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,w],[f,y]],[/(macintosh);/i],[l,[h,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,z],[f,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,A],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,A],[f,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,I],[f,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,I],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[f,g]],[/\b(opd2\d{3}a?) bui/i],[l,[h,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[f,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,O],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,O],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,D],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,D],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[f,g]],[/(pixel c)\b/i],[l,[h,C],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,C],[f,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,B],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,B],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,k],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,k],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,S],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,E],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,E],[f,g]],[/(nexus 9)/i],[l,[h,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[f,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[f,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[h,"Ulefone"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[f,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[f,y]],[/(surface duo)/i],[l,[h,T],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[f,g]],[/(u304aa)/i],[l,[h,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[f,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[h,l,[f,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,T],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,N],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,N],[f,g]],[/smart-tv.+(samsung)/i],[h,[f,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,M],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,D],[f,m]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[f,m]],[/crkey/i],[[l,"Chromecast"],[h,C],[f,m]],[/droid.+aft(\w+)( bui|\))/i],[l,[h,k],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,z],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,B],[f,m]],[/(mitv-\w{5}) bui/i],[l,[h,I],[f,m]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,F],[l,F],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[f,v]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[l,[h,B],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,T],[f,v]],[/((pebble))app/i],[h,l,[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,w],[f,_]],[/droid.+; (glass) \d/i],[l,[h,C],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,N],[f,_]],[/(quest( \d| pro)?)/i],[l,[h,P],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,b]],[/(aeobc)\b/i],[l,[h,k],[f,b]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[d,H,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,H,q],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,U],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,d],[/\(bb(10);/i],[d,[u,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[u,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,j],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,d],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,d]]},J=function e(t,c){if(K(t)===a&&(c=t,t=i),!(this instanceof e))return new e(t,c).getResult();var l=K(n)!==r&&n.navigator?n.navigator:i,u=t||(l&&l.userAgent?l.userAgent:""),f=l&&l.userAgentData?l.userAgentData:i,h=c?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(W,c):W,d=l&&l.userAgent==u;return this.getBrowser=function(){var e,t={};return t.name=i,t.version=i,V.call(t,u,h.browser),t.major=K(e=t.version)===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i,d&&l&&l.brave&&K(l.brave.isBrave)==o&&(t.name="Brave"),t},this.getCPU=function(){var e={};return e.architecture=i,V.call(e,u,h.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,V.call(e,u,h.device),d&&!e.type&&f&&f.mobile&&(e.type=g),d&&"Macintosh"==e.model&&l&&K(l.standalone)!==r&&l.maxTouchPoints&&l.maxTouchPoints>2&&(e.model="iPad",e.type=y),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,V.call(e,u,h.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,V.call(e,u,h.os),d&&!e.name&&f&&f.platform&&"Unknown"!=f.platform&&(e.name=f.platform.replace(/chrome os/i,j).replace(/macos/i,U)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return u},this.setUA=function(e){return u=K(e)===s&&e.length>500?F(e,500):e,this},this.setUA(u),this};J.VERSION="1.0.38",J.BROWSER=G([u,d,c]),J.CPU=G([p]),J.DEVICE=G([l,h,f,v,g,m,y,_,b]),J.ENGINE=J.OS=G([u,d]),e.exports&&(t=e.exports=J),t.UAParser=J;var X=K(n)!==r&&(n.jQuery||n.Zepto);if(X&&!X.ua){var Y=new J;X.ua=Y.getResult(),X.ua.get=function(){return Y.getUA()},X.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)X.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":K(window))?window:ri)}));Ra.UAParser;var Ma={},za=function(){var e,t,n,i;if(Object.keys(Ma).length)return Ma;var o=(new Ra).getResult(),r=o.browser,a=o.os;return Ma={platform:"Web",browser:null!=(e=r.name)?e:"",browser_version:null!=(t=r.version)?t:"",os:null!=(n=a.name)?n:"",os_version:null!=(i=a.version)?i:""}},Ba="1.0.6",Ia="_ccfs_".concat(Ba),Na="".concat(Ia,"_consent"),Pa="".concat(Ia,"_notifications"),ja=function(e){return e.SG="sg",e.VA="va",e.TTP="ttp",e.EU_TTP="eu-ttp",e.GCP="gcp",e}(ja||{}),Ua=function(e){return e.PRODUCTION="production",e.DEV="dev",e.BOE="boe",e}(Ua||{}),Ga=function(){function e(){L(this,e),this.region="",this.bid="",this.debug=!1}return F(e,[{key:"init",value:function(e){var t=null!=e?e:{},n=t.region,i=void 0===n?"":n,o=t.bid,r=void 0===o?"":o,a=t.debug,s=void 0!==a&&a;this.region=i,this.bid=r,this.debug=s}},{key:"send",value:function(e){}},{key:"info",value:function(e,t){}},{key:"warn",value:function(e,t){}},{key:"error",value:function(e,t){}},{key:"getMeta",value:function(){return{version:Ba,bid:this.bid,region:this.region}}},{key:"destruct",value:function(){}}]),e}(),La=function(e){return e.beforeFetchUserInfo="beforeFetchUserInfo",e.afterFetchUserInfo="afterFetchUserInfo",e.beforeFetchConsentData="beforeFetchConsentData",e.afterFetchConsentData="afterFetchConsentData",e.beforeFetchNotificationData="beforeFetchNotificationData",e.afterFetchNotificationData="afterFetchNotificationData",e.beforeUpdateRecords="beforeUpdateRecords",e.afterUpdateRecords="afterUpdateRecords",e.beforeNotify="beforeNotify",e.afterNotify="afterNotify",e.beforeRemoveNotification="beforeRemoveNotification",e.afterRemoveNotification="afterRemoveNotification",e.beforeThirdPartyApprove="beforeThirdPartyApprove",e.afterThirdPartyApprove="afterThirdPartyApprove",e.beforeThirdPartyReject="beforeThirdPartyReject",e.afterThirdPartyReject="afterThirdPartyReject",e}(La||{}),$a=function(e){return e.sessionStorage="sessionStorage",e.localStorage="localStorage",e.inMem="inMem",e}($a||{}),Fa=function(e){return e.INFO="info",e.WARN="warn",e.ERROR="error",e}(Fa||{}),Ka=function(e){return e.UNSUPPORTED="Unsupported",e.APPROVE="Approve",e.REJECT="Reject",e}(Ka||{}),Va=(k(e={},"Unsupported",0),k(e,"Approve",1),k(e,"Reject",2),e),Ha=function(e){return e.DEVICE_ID="DeviceID",e.USER_ID="UserID",e.ANY="Any",e.BOTH="Both",e}(Ha||{}),qa=function(e){return e.DEVICE_CONSENT="device",e.USER_CONSENT="user",e.BOTH_CONSENT="both",e.NOTIFICATION="notification",e}(qa||{}),Wa=function(e){return e.V1="v1",e.V2="v2",e}(Wa||{}),Ja=Object.defineProperty,Xa=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Qa=function(e,t,n){return t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},es=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.call(this))._isInitialized=!1,e.region="",e.bid="",e.debug=!1,n._instance||(n._instance=M(e)),R(e,n._instance)}return F(n,[{key:"init",value:function(e){var t=null!=e?e:{},n=t.region,i=void 0===n?"":n,o=t.bid,r=void 0===o?"":o,a=t.appId,s=t.debug,c=void 0!==s&&s,l=t.modules;this.appId=a,this.region=i,this.bid=r,this.debug=c;var u=null==l?void 0:l.logging;u&&u instanceof Ga?this._customLogger=u:this.warn("[LoggingModule]: init - incorrect implementation of LoggingModule"),this._isInitialized=!0}},{key:"sendDebugMessage",value:function(e){if(this.debug){var t=e.level;console[t](e.message,e);try{chrome.runtime.sendMessage(e)}catch(e){}}}},{key:"send",value:function(e){this.sendDebugMessage(e)}},{key:"getMeta",value:function(){return function(e,t){for(var n in t||(t={}))Ya.call(t,n)&&Qa(e,n,t[n]);if(Xa){var i,o=j(Xa(t));try{for(o.s();!(i=o.n()).done;)n=i.value,Za.call(t,n)&&Qa(e,n,t[n])}catch(e){o.e(e)}finally{o.f()}}return e}({version:Ba,bid:this.bid,region:this.region,appId:this.appId},za())}},{key:"info",value:function(e,t){var n;"function"==typeof(null==(n=this._customLogger)?void 0:n.info)&&this._customLogger.info(e,t),this.send({message:e,level:Fa.INFO,meta:this.getMeta(),data:t})}},{key:"warn",value:function(e,t){var n;"function"==typeof(null==(n=this._customLogger)?void 0:n.warn)&&this._customLogger.warn(e,t),this.send({message:e,level:Fa.WARN,meta:this.getMeta(),data:t})}},{key:"error",value:function(e,t){var n;"function"==typeof(null==(n=this._customLogger)?void 0:n.error)&&this._customLogger.error(e,t),this.send({message:e,level:Fa.ERROR,meta:this.getMeta(),data:t})}},{key:"destruct",value:function(){var e;"function"==typeof(null==(e=this._customLogger)?void 0:e.destruct)&&this._customLogger.destruct(),this._isInitialized=!0}}]),n}(Ga),ts=new es,ns=Object.defineProperty,is=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,as=function(e,t,n){return t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ss=function(e,t){for(var n in t||(t={}))os.call(t,n)&&as(e,n,t[n]);if(is){var i,o=j(is(t));try{for(o.s();!(i=o.n()).done;){n=i.value;rs.call(t,n)&&as(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},cs=/^(https?:\/\/)/,ls=F((function e(){var t=this;return L(this,e),this._region="",this._bid="",this._debug=!1,this.init=function(e){ts.info("[ServiceModule]: init");var n=null!=e?e:{},i=n.region,o=void 0===i?"":i,r=n.bid,a=void 0===r?"":r,s=n.appId,c=n.domain;t._appId=s,t._region=o,t._bid=a,t._domain=c},this.sendRequest=function(e,n,i,o){var r=cs.test(e)?e:"".concat(t._domain).concat(e),a=new URL(r),s=Array.from(a.searchParams.entries()).reduce((function(e,t){var n=S(t,2),i=n[0],o=n[1];return void 0===o&&""===o||(e[i]=o),e}),{}),c=null!=o?o:{},l=c.params,u=c.timeout,f=function(e,t){var n={};for(var i in e)os.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&is){var o,r=j(is(e));try{for(r.s();!(o=r.n()).done;)i=o.value,t.indexOf(i)<0&&rs.call(e,i)&&(n[i]=e[i])}catch(e){r.e(e)}finally{r.f()}}return n}(c,["params","timeout"]),h=ss(ss(ss({region:t._region,aid:t._appId,bid:t._bid},s),null!=l?l:{}),za());"GET"===n&&i&&"object"===K(i)&&(h=ss(ss({},h),i));var d=new URLSearchParams(function(e){if(!e)return"";var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var n=S(e,2),i=n[0],o=n[1];Array.isArray(o)?o.forEach((function(e){t.append(i,encodeURIComponent(e))})):null!=o&&t.append(i,encodeURIComponent(o))})),t.toString()}(h)),p=new URL("".concat(a.origin).concat(a.pathname,"?").concat(d.toString())),v=Er({},f,{method:n,timeout:null!=u?u:0,data:i});return ts.info("[ServiceModule]: sendRequest start",v),Oa(p.href,v).then((function(e){return ts.info("[ServiceModule]: sendRequest finish",e),e})).catch((function(e){throw ts.error("[ServiceModule]: sendRequest error",e),e}))},this.destruct=function(){ts.info("[ServiceModule]: destruct")},e._instance||(e._instance=this),e._instance})),us=new ls;var fs=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},hs=mo(Object.keys,Object),ds=Object.prototype.hasOwnProperty;var ps=function(e){if(!ko(e))return hs(e);var t=[];for(var n in Object(e))ds.call(e,n)&&"constructor"!=n&&t.push(n);return t};var vs=function(e){return Mo(e)?nr(e):ps(e)};var gs=function(e,t){return e&&Yo(t,vs(t),e)};var ys=function(e,t){return e&&Yo(t,ar(t),e)};var ms=function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r};var _s=function(){return[]},bs=Object.prototype.propertyIsEnumerable,ks=Object.getOwnPropertySymbols,ws=ks?function(e){return null==e?[]:(e=Object(e),ms(ks(e),(function(t){return bs.call(e,t)})))}:_s;var Es=function(e,t){return Yo(e,ws(e),t)};var Ss=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e},xs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ss(t,ws(e)),e=_o(e);return t}:_s;var Cs=function(e,t){return Yo(e,xs(e),t)};var As=function(e,t,n){var i=t(e);return Oo(e)?i:Ss(i,n(e))};var Ds=function(e){return As(e,vs,ws)};var Ts=function(e){return As(e,ar,xs)},Os=Ni(li,"DataView"),Rs=Ni(li,"Promise"),Ms=Ni(li,"Set"),zs=Ni(li,"WeakMap"),Bs="[object Map]",Is="[object Promise]",Ns="[object Set]",Ps="[object WeakMap]",js="[object DataView]",Us=Ai(Os),Gs=Ai(Pi),Ls=Ai(Rs),$s=Ai(Ms),Fs=Ai(zs),Ks=_i;(Os&&Ks(new Os(new ArrayBuffer(1)))!=js||Pi&&Ks(new Pi)!=Bs||Rs&&Ks(Rs.resolve())!=Is||Ms&&Ks(new Ms)!=Ns||zs&&Ks(new zs)!=Ps)&&(Ks=function(e){var t=_i(e),n="[object Object]"==t?e.constructor:void 0,i=n?Ai(n):"";if(i)switch(i){case Us:return js;case Gs:return Bs;case Ls:return Is;case $s:return Ns;case Fs:return Ps}return t});var Vs=Ks,Hs=Object.prototype.hasOwnProperty;var qs=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Hs.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Ws=function(e,t){var n=t?ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Js=/\w*$/;var Xs=function(e){var t=new e.constructor(e.source,Js.exec(e));return t.lastIndex=e.lastIndex,t},Ys=ui?ui.prototype:void 0,Zs=Ys?Ys.valueOf:void 0;var Qs=function(e){return Zs?Object(Zs.call(e)):{}};var ec=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return ho(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Ws(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return po(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return Xs(e);case"[object Symbol]":return Qs(e)}};var tc=function(e){return Eo(e)&&"[object Map]"==Vs(e)},nc=Vo&&Vo.isMap,ic=nc?Ko(nc):tc;var oc=function(e){return Eo(e)&&"[object Set]"==Vs(e)},rc=Vo&&Vo.isSet,ac=rc?Ko(rc):oc,sc="[object Arguments]",cc="[object Function]",lc="[object Object]",uc={};uc[sc]=uc["[object Array]"]=uc["[object ArrayBuffer]"]=uc["[object DataView]"]=uc["[object Boolean]"]=uc["[object Date]"]=uc["[object Float32Array]"]=uc["[object Float64Array]"]=uc["[object Int8Array]"]=uc["[object Int16Array]"]=uc["[object Int32Array]"]=uc["[object Map]"]=uc["[object Number]"]=uc[lc]=uc["[object RegExp]"]=uc["[object Set]"]=uc["[object String]"]=uc["[object Symbol]"]=uc["[object Uint8Array]"]=uc["[object Uint8ClampedArray]"]=uc["[object Uint16Array]"]=uc["[object Uint32Array]"]=!0,uc["[object Error]"]=uc[cc]=uc["[object WeakMap]"]=!1;var fc=function e(t,n,i,o,r,a){var s,c=1&n,l=2&n,u=4&n;if(i&&(s=r?i(t,o,r,a):i(t)),void 0!==s)return s;if(!bi(t))return t;var f=Oo(t);if(f){if(s=qs(t),!c)return vo(t,s)}else{var h=Vs(t),d=h==cc||"[object GeneratorFunction]"==h;if(Io(t))return uo(t,c);if(h==lc||h==sc||d&&!r){if(s=l||d?{}:wo(t),!c)return l?Cs(t,ys(s,t)):Es(t,gs(s,t))}else{if(!uc[h])return r?t:{};s=ec(t,h,c)}}a||(a=new ro);var p=a.get(t);if(p)return p;a.set(t,s),ac(t)?t.forEach((function(o){s.add(e(o,n,i,o,t,a))})):ic(t)&&t.forEach((function(o,r){s.set(r,e(o,n,i,r,t,a))}));var v=f?void 0:(u?l?Ts:Ds:l?ar:vs)(t);return fs(v||t,(function(o,r){v&&(o=t[r=o]),Xo(s,r,e(o,n,i,r,t,a))})),s};var hc=function(e){return fc(e,5)};var dc,pc,vc,gc,yc,mc,_c,bc,kc,wc,Ec,Sc,xc,Cc,Ac,Dc,Tc=function e(t,n,i,o,r,a){return bi(t)&&bi(n)&&(a.set(n,t),lr(t,n,void 0,e,a),a.delete(n)),t},Oc=wr((function(e,t,n,i){lr(e,t,n,i)})),Rc=_r((function(e){return e.push(void 0,Tc),fr(Oc,void 0,e)})),Mc=Object.defineProperty,zc=Object.defineProperties,Bc=Object.getOwnPropertyDescriptors,Ic=Object.getOwnPropertySymbols,Nc=Object.prototype.hasOwnProperty,Pc=Object.prototype.propertyIsEnumerable,jc=function(e,t,n){return t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Uc=function(e,t){for(var n in t||(t={}))Nc.call(t,n)&&jc(e,n,t[n]);if(Ic){var i,o=j(Ic(t));try{for(o.s();!(i=o.n()).done;){n=i.value;Pc.call(t,n)&&jc(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},Gc=function(e,t){return zc(e,Bc(t))},Lc={data:{},timestamp:0},$c=F((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BaseStorageWrapper",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];L(this,e),this.insertDataByStorageName=function(e,n,i,o){ts.info("[".concat(t.name,"]: insertDataByStorageName"),{data:i,storageName:n,timestamp:o});var r=e[n],a=r.data,s=void 0===a?{}:a,c=r.timestamp;if((void 0===c?0:c)<o){var l=Rc({},i,s);e[n]={data:l,timestamp:o}}},this.getConsentData=function(e,n){ts.info("[".concat(t.name,"]: getConsentData"),{userInfo:e,keys:n});var i={},o=(null!=e?e:{}).user_id,r=void 0===o?"":o,a=t.getConsentStore(e);return((null==n?void 0:n.length)?n:Object.keys(a.consentEntityValidationMap)).forEach((function(e){var t,n,o,s;switch(a.consentEntityValidationMap[e]){case Ha.BOTH:i[e]=a[qa.BOTH_CONSENT].data[e];break;case Ha.DEVICE_ID:i[e]=a[qa.DEVICE_CONSENT].data[e];break;case Ha.USER_ID:i[e]=a[qa.USER_CONSENT].data[e];break;case Ha.ANY:var c=a[qa.USER_CONSENT].data[e],l=a[qa.DEVICE_CONSENT].data[e],u=null!=(n=null==(t=null==c?void 0:c.record)?void 0:t.created_at)?n:0,f=null!=(s=null==(o=null==l?void 0:l.record)?void 0:o.created_at)?s:0;i[e]=r&&u>=f?c:l}})),i},this.getNotificationData=function(e){return ts.info("[".concat(t.name,"]: getNotificationData"),{userInfo:e}),t.getNotificationStore(e).notification.data},this.splitConsentEntityData=function(e,n){ts.info("[".concat(t.name,"]: splitConsentEntityData"),{userInfo:n,data:e});var i={},o={},r={},a={},s=null!=n?n:{},c=s.device_id,l=void 0===c?"":c,u=s.user_id,f=void 0===u?"":u;return e&&Object.keys(e).forEach((function(t){var n=e[t];if(n)switch(a[t]=n.validator,n.validator){case Ha.ANY:l&&(i[t]=n),f&&(o[t]=n);break;case Ha.DEVICE_ID:l&&(i[t]=n);break;case Ha.USER_ID:f&&(o[t]=n);break;case Ha.BOTH:f&&l&&(r[t]=n)}})),{deviceConsentData:i,userConsentData:o,bothRequiredConsentData:r,consentEntityValidationMap:a}},this.insertDataIntoStore=function(e,n,i){ts.info("[".concat(t.name,"]: insertDataIntoStore"),{userInfo:i,data:e,timestamp:n});var o=t.getConsentStore(i),r=t.splitConsentEntityData(e,i),a=r.deviceConsentData,s=r.userConsentData,c=r.bothRequiredConsentData,l=r.consentEntityValidationMap;return t.insertDataByStorageName(o,qa.DEVICE_CONSENT,a,n),t.insertDataByStorageName(o,qa.USER_CONSENT,s,n),t.insertDataByStorageName(o,qa.BOTH_CONSENT,c,n),o.consentEntityValidationMap=Rc({},l,o.consentEntityValidationMap),o},this._formatConsentRecord=function(e){var t=null!=e?e:{},n=t.key,i=t.type,o=t.name,r=t.category,a=t.validator,s=t.record;return s&&i&&o&&r&&a&&n?Gc(Uc({},s),{entity_key:n,entity_type:i,entity_name:o,entity_category:r,entity_validator:a}):null},this.getRecord=function(e,n){ts.info("[".concat(t.name,"]: getRecord"),{userInfo:n,key:e});var i=t.getConsentData(n,[e]),o=t._formatConsentRecord(null==i?void 0:i[e]);return o?t.shouldClone?hc(o):o:(ts.info("[".concat(t.name,"]: getRecord - no record for ").concat(e),{key:e}),null)},this.getEntity=function(e,n){var i;ts.info("[".concat(t.name,"]: getEntity"),{userInfo:n,key:e});var o=t.getConsentData(n,[e]),r=null!=(i=null==o?void 0:o[e])?i:null;return r||ts.info("[".concat(t.name,"]: getEntity - no entity for ").concat(e),{key:e}),t.shouldClone?hc(r):r},this.getEntities=function(e,n){var i;ts.info("[".concat(t.name,"]: getEntities"),{userInfo:n,keys:e});var o=[],r=null!=(i=t.getConsentData(n,e))?i:{};if(null==e?void 0:e.length){var a=[];e.forEach((function(e){var n,i=null!=(n=null==r?void 0:r[e])?n:null;i?o.push(t.shouldClone?hc(i):i):a.push(e)})),a.length&&ts.info("[".concat(t.name,"]: getEntities - missing some entities"),{entityKeys:a})}else Object.keys(null!=r?r:{}).forEach((function(e){var n,i=null!=(n=null==r?void 0:r[e])?n:null;i&&o.push(t.shouldClone?hc(i):i)}));return o},this.getRecords=function(e,n){ts.info("[".concat(t.name,"]: getRecords"),{userInfo:n,keys:e});var i=[],o=t.getConsentData(n,e);if(null==e?void 0:e.length){var r=[];e.forEach((function(e){var n=t._formatConsentRecord(null==o?void 0:o[e]);n?i.push(t.shouldClone?hc(n):n):r.push(e)})),r.length&&ts.info("[".concat(t.name,"]: getRecords - missing some records"),{entityKeys:r})}else Object.keys(null!=o?o:{}).forEach((function(e){var n=t._formatConsentRecord(null==o?void 0:o[e]);n&&i.push(t.shouldClone?hc(n):n)}));return i},this.clean=function(){t.cleanConsentData(),t.cleanNotificationData()},this.destruct=function(){t.clean()},this.name=n,this.shouldClone=i})),Fc=$c,Kc=(k(t={consentEntityValidationMap:{}},qa.USER_CONSENT,hc(Lc)),k(t,qa.DEVICE_CONSENT,hc(Lc)),k(t,qa.BOTH_CONSENT,hc(Lc)),t),Vc=k({},qa.NOTIFICATION,hc(Lc)),Hc=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.call(this,"InMemStorageWrapper",!0))._updateUserInfo=function(t,n){ts.info("[".concat(e.name,"]: _updateUserInfo"),{userId:n,deviceId:t}),e._did=t,e._uid=n},e.insertConsentData=function(t,n,i){ts.info("[".concat(e.name,"]: insertConsentData"),{data:t,timestamp:n,userInfo:i});try{e.insertDataIntoStore(t,n,i)}catch(t){ts.error("[".concat(e.name,"]: insert - ").concat(t.message),t)}},e.insertNotificationData=function(t,n,i){ts.info("[".concat(e.name,"]: insertNotificationData"),{data:t,timestamp:n,userInfo:i});try{var o=e.getNotificationStore(i);e.insertDataByStorageName(o,qa.NOTIFICATION,t,n)}catch(t){ts.error("[".concat(e.name,"]: insert - ").concat(t.message),t)}},e.getConsentStore=function(t){return e._cleanUpUnrelatedUserData(t),e._consentStore},e.getNotificationStore=function(t){return e._notificationStore},e._cleanUpUnrelatedUserData=function(t){var n=null!=t?t:{},i=n.device_id,o=void 0===i?"":i,r=n.user_id,a=void 0===r?"":r;o!==e._did&&(e._consentStore[qa.DEVICE_CONSENT]=hc(Lc),e._consentStore[qa.BOTH_CONSENT]=hc(Lc)),a!==e._uid&&(e._consentStore[qa.USER_CONSENT]=hc(Lc),e._consentStore[qa.BOTH_CONSENT]=hc(Lc)),e._updateUserInfo(o,a)},e.cleanConsentData=function(){e._consentStore.consentEntityValidationMap={},e._consentStore[qa.USER_CONSENT]=hc(Lc),e._consentStore[qa.DEVICE_CONSENT]=hc(Lc),e._consentStore[qa.BOTH_CONSENT]=hc(Lc)},e.cleanNotificationData=function(){e._notificationStore[qa.NOTIFICATION]=hc(Lc)},e.clean=function(){e._consentStore=hc(Kc),e._notificationStore=hc(Vc)},e.destruct=function(){e.clean()},e.clean(),e}return F(n)}(Fc),qc=Hc,Wc=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:{}})),Jc=ai((function(e,t){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==ri&&ri.crypto&&(n=ri.crypto),!n)try{n=Wc}catch(e){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},a=r.lib={},s=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=s.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var a=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=a<<24-(i+r)%4*8}else for(var s=0;s<o;s+=4)t[i+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),l=r.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,o=i.words,r=i.sigBytes,a=this.blockSize,s=r/(4*a),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*l,r);if(l){for(var f=0;f<l;f+=a)this._doProcessBlock(o,f);n=o.splice(0,l),i.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=d.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=r.algo={};return r}(Math),n)})),Xc=(ai((function(e,t){var n;e.exports=(n=Jc,function(e){var t=n,i=t.lib,o=i.Base,r=i.WordArray,a=t.x64={};a.Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var o=e[i];n.push(o.high),n.push(o.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),n)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,i=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],o=0;o<n;o++)i[o>>>2]|=e[o]<<24-o%4*8;t.call(this,i,n)}else t.apply(this,arguments)};i.prototype=e}}(),n.lib.WordArray)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.WordArray,i=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var r=t[o>>>2]>>>16-o%4*8&65535;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(i,2*n)}},i.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var a=o(t[r>>>2]>>>16-r%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],r=0;r<n;r++)i[r>>>1]|=o(e.charCodeAt(r)<<16-r%2*16);return t.create(i,2*n)}}}(),n.enc.Utf16)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.WordArray;function i(e,n,i){for(var o=[],r=0,a=0;a<n;a++)if(a%4){var s=i[e.charCodeAt(a-1)]<<a%4*2|i[e.charCodeAt(a)]>>>6-a%4*2;o[r>>>2]|=s<<24-r%4*8,r++}return t.create(o,r)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var o=[],r=0;r<n;r+=3)for(var a=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;s<4&&r+.75*s<n;s++)o.push(i.charAt(a>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var r=0;r<n.length;r++)o[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return i(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.WordArray;function i(e,n,i){for(var o=[],r=0,a=0;a<n;a++)if(a%4){var s=i[e.charCodeAt(a-1)]<<a%4*2|i[e.charCodeAt(a)]>>>6-a%4*2;o[r>>>2]|=s<<24-r%4*8,r++}return t.create(o,r)}e.enc.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.words,i=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var r=[],a=0;a<i;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<i;c++)r.push(o.charAt(s>>>6*(3-c)&63));var l=o.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length,o=t?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<o.length;a++)r[o.charCodeAt(a)]=a}var s=o.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(n=c)}return i(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)})),ai((function(e,t){var n;e.exports=(n=Jc,function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r=this._hash.words,a=e[t+0],c=e[t+1],d=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],y=e[t+6],m=e[t+7],_=e[t+8],b=e[t+9],k=e[t+10],w=e[t+11],E=e[t+12],S=e[t+13],x=e[t+14],C=e[t+15],A=r[0],D=r[1],T=r[2],O=r[3];A=l(A,D,T,O,a,7,s[0]),O=l(O,A,D,T,c,12,s[1]),T=l(T,O,A,D,d,17,s[2]),D=l(D,T,O,A,p,22,s[3]),A=l(A,D,T,O,v,7,s[4]),O=l(O,A,D,T,g,12,s[5]),T=l(T,O,A,D,y,17,s[6]),D=l(D,T,O,A,m,22,s[7]),A=l(A,D,T,O,_,7,s[8]),O=l(O,A,D,T,b,12,s[9]),T=l(T,O,A,D,k,17,s[10]),D=l(D,T,O,A,w,22,s[11]),A=l(A,D,T,O,E,7,s[12]),O=l(O,A,D,T,S,12,s[13]),T=l(T,O,A,D,x,17,s[14]),A=u(A,D=l(D,T,O,A,C,22,s[15]),T,O,c,5,s[16]),O=u(O,A,D,T,y,9,s[17]),T=u(T,O,A,D,w,14,s[18]),D=u(D,T,O,A,a,20,s[19]),A=u(A,D,T,O,g,5,s[20]),O=u(O,A,D,T,k,9,s[21]),T=u(T,O,A,D,C,14,s[22]),D=u(D,T,O,A,v,20,s[23]),A=u(A,D,T,O,b,5,s[24]),O=u(O,A,D,T,x,9,s[25]),T=u(T,O,A,D,p,14,s[26]),D=u(D,T,O,A,_,20,s[27]),A=u(A,D,T,O,S,5,s[28]),O=u(O,A,D,T,d,9,s[29]),T=u(T,O,A,D,m,14,s[30]),A=f(A,D=u(D,T,O,A,E,20,s[31]),T,O,g,4,s[32]),O=f(O,A,D,T,_,11,s[33]),T=f(T,O,A,D,w,16,s[34]),D=f(D,T,O,A,x,23,s[35]),A=f(A,D,T,O,c,4,s[36]),O=f(O,A,D,T,v,11,s[37]),T=f(T,O,A,D,m,16,s[38]),D=f(D,T,O,A,k,23,s[39]),A=f(A,D,T,O,S,4,s[40]),O=f(O,A,D,T,a,11,s[41]),T=f(T,O,A,D,p,16,s[42]),D=f(D,T,O,A,y,23,s[43]),A=f(A,D,T,O,b,4,s[44]),O=f(O,A,D,T,E,11,s[45]),T=f(T,O,A,D,C,16,s[46]),A=h(A,D=f(D,T,O,A,d,23,s[47]),T,O,a,6,s[48]),O=h(O,A,D,T,m,10,s[49]),T=h(T,O,A,D,x,15,s[50]),D=h(D,T,O,A,g,21,s[51]),A=h(A,D,T,O,E,6,s[52]),O=h(O,A,D,T,p,10,s[53]),T=h(T,O,A,D,k,15,s[54]),D=h(D,T,O,A,c,21,s[55]),A=h(A,D,T,O,_,6,s[56]),O=h(O,A,D,T,C,10,s[57]),T=h(T,O,A,D,y,15,s[58]),D=h(D,T,O,A,S,21,s[59]),A=h(A,D,T,O,v,6,s[60]),O=h(O,A,D,T,w,10,s[61]),T=h(T,O,A,D,d,15,s[62]),D=h(D,T,O,A,b,21,s[63]),r[0]=r[0]+A|0,r[1]=r[1]+D|0,r[2]=r[2]+T|0,r[3]=r[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var r=e.floor(i/4294967296),a=i;n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,i,o,r,a){var s=e+(t&n|~t&i)+o+a;return(s<<r|s>>>32-r)+t}function u(e,t,n,i,o,r,a){var s=e+(t&i|n&~i)+o+a;return(s<<r|s>>>32-r)+t}function f(e,t,n,i,o,r,a){var s=e+(t^n^i)+o+a;return(s<<r|s>>>32-r)+t}function h(e,t,n,i,o,r,a){var s=e+(n^(t|~i))+o+a;return(s<<r|s>>>32-r)+t}t.MD5=r._createHelper(c),t.HmacMD5=r._createHmacHelper(c)}(Math),n.MD5)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib,i=t.WordArray,o=t.Hasher,r=e.algo,a=[],s=r.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],c=n[4],l=0;l<80;l++){if(l<16)a[l]=0|e[t+l];else{var u=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=u<<1|u>>>31}var f=(i<<5|i>>>27)+c+a[l];f+=l<20?1518500249+(o&r|~o&s):l<40?1859775393+(o^r^s):l<60?(o&r|o&s|r&s)-1894007588:(o^r^s)-899497514,c=s,s=r,r=o<<30|o>>>2,o=i,i=f}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=o._createHelper(s),e.HmacSHA1=o._createHmacHelper(s)}(),n.SHA1)})),ai((function(e,t){var n;e.exports=(n=Jc,function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,o=0;o<64;)t(i)&&(o<8&&(s[o]=n(e.pow(i,.5))),c[o]=n(e.pow(i,1/3)),o++),i++}();var l=[],u=a.SHA256=r.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],u=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var p=l[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[d]=v+l[d-7]+y+l[d-16]}var m=i&o^i&r^o&r,_=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&f)+c[d]+l[d];h=f,f=u,u=s,s=a+b|0,a=r,r=o,o=i,i=b+(_+m)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(u),t.HmacSHA256=r._createHmacHelper(u)}(Math),n.SHA256)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.WordArray,i=e.algo,o=i.SHA256,r=i.SHA224=o.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=o._createHelper(r),e.HmacSHA224=o._createHmacHelper(r)}(),n.SHA224)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.Hasher,i=e.x64,o=i.Word,r=i.WordArray,a=e.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=a.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],u=n[5],f=n[6],h=n[7],d=i.high,p=i.low,v=o.high,g=o.low,y=r.high,m=r.low,_=a.high,b=a.low,k=s.high,w=s.low,E=u.high,S=u.low,x=f.high,C=f.low,A=h.high,D=h.low,T=d,O=p,R=v,M=g,z=y,B=m,I=_,N=b,P=k,j=w,U=E,G=S,L=x,$=C,F=A,K=D,V=0;V<80;V++){var H,q,W=l[V];if(V<16)q=W.high=0|e[t+2*V],H=W.low=0|e[t+2*V+1];else{var J=l[V-15],X=J.high,Y=J.low,Z=(X>>>1|Y<<31)^(X>>>8|Y<<24)^X>>>7,Q=(Y>>>1|X<<31)^(Y>>>8|X<<24)^(Y>>>7|X<<25),ee=l[V-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),re=l[V-7],ae=re.high,se=re.low,ce=l[V-16],le=ce.high,ue=ce.low;q=(q=(q=Z+ae+((H=Q+se)>>>0<Q>>>0?1:0))+ie+((H+=oe)>>>0<oe>>>0?1:0))+le+((H+=ue)>>>0<ue>>>0?1:0),W.high=q,W.low=H}var fe,he=P&U^~P&L,de=j&G^~j&$,pe=T&R^T&z^R&z,ve=O&M^O&B^M&B,ge=(T>>>28|O<<4)^(T<<30|O>>>2)^(T<<25|O>>>7),ye=(O>>>28|T<<4)^(O<<30|T>>>2)^(O<<25|T>>>7),me=(P>>>14|j<<18)^(P>>>18|j<<14)^(P<<23|j>>>9),_e=(j>>>14|P<<18)^(j>>>18|P<<14)^(j<<23|P>>>9),be=c[V],ke=be.high,we=be.low,Ee=F+me+((fe=K+_e)>>>0<K>>>0?1:0),Se=ye+ve;F=L,K=$,L=U,$=G,U=P,G=j,P=I+(Ee=(Ee=(Ee=Ee+he+((fe+=de)>>>0<de>>>0?1:0))+ke+((fe+=we)>>>0<we>>>0?1:0))+q+((fe+=H)>>>0<H>>>0?1:0))+((j=N+fe|0)>>>0<N>>>0?1:0)|0,I=z,N=B,z=R,B=M,R=T,M=O,T=Ee+(ge+pe+(Se>>>0<ye>>>0?1:0))+((O=fe+Se|0)>>>0<fe>>>0?1:0)|0}p=i.low=p+O,i.high=d+T+(p>>>0<O>>>0?1:0),g=o.low=g+M,o.high=v+R+(g>>>0<M>>>0?1:0),m=r.low=m+B,r.high=y+z+(m>>>0<B>>>0?1:0),b=a.low=b+N,a.high=_+I+(b>>>0<N>>>0?1:0),w=s.low=w+j,s.high=k+P+(w>>>0<j>>>0?1:0),S=u.low=S+G,u.high=E+U+(S>>>0<G>>>0?1:0),C=f.low=C+$,f.high=x+L+(C>>>0<$>>>0?1:0),D=h.low=D+K,h.high=A+F+(D>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),n.SHA512)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.x64,i=t.Word,o=t.WordArray,r=e.algo,a=r.SHA512,s=r.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),n.SHA384)})),ai((function(e,t){var n;e.exports=(n=Jc,function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,a=t.x64.Word,s=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,r=0;r<24;r++){for(var s=0,f=0,h=0;h<7;h++){if(1&o){var d=(1<<h)-1;d<32?f^=1<<d:s^=1<<d-32}128&o?o=o<<1^113:o<<=1}u[r]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var h=s.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var r=e[t+2*o],a=e[t+2*o+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(D=n[o]).high^=a,D.low^=r}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,v=0;v<5;v++)d^=(D=n[h+5*v]).high,p^=D.low;var g=f[h];g.high=d,g.low=p}for(h=0;h<5;h++){var y=f[(h+4)%5],m=f[(h+1)%5],_=m.high,b=m.low;for(d=y.high^(_<<1|b>>>31),p=y.low^(b<<1|_>>>31),v=0;v<5;v++)(D=n[h+5*v]).high^=d,D.low^=p}for(var k=1;k<25;k++){var w=(D=n[k]).high,E=D.low,S=c[k];S<32?(d=w<<S|E>>>32-S,p=E<<S|w>>>32-S):(d=E<<S-32|w>>>64-S,p=w<<S-32|E>>>64-S);var x=f[l[k]];x.high=d,x.low=p}var C=f[0],A=n[0];for(C.high=A.high,C.low=A.low,h=0;h<5;h++)for(v=0;v<5;v++){var D=n[k=h+5*v],T=f[k],O=f[(h+1)%5+5*v],R=f[(h+2)%5+5*v];D.high=T.high^~O.high&R.high,D.low=T.low^~O.low&R.low}D=n[0];var M=u[s];D.high^=M.high,D.low^=M.low}},_doFinalize:function(){var t=this._data,n=t.words;this._nDataBytes;var i=8*t.sigBytes,r=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/r)*r>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var f=a[u],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new o.init(l,s)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=r._createHelper(h),t.HmacSHA3=r._createHmacHelper(h)}(Math),n.SHA3)})),ai((function(e,t){var n;e.exports=(n=Jc,
/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,a=t.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),h=o.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r,a,d,b,k,w,E,S,x,C,A,D=this._hash.words,T=f.words,O=h.words,R=s.words,M=c.words,z=l.words,B=u.words;for(w=r=D[0],E=a=D[1],S=d=D[2],x=b=D[3],C=k=D[4],n=0;n<80;n+=1)A=r+e[t+R[n]]|0,A+=n<16?p(a,d,b)+T[0]:n<32?v(a,d,b)+T[1]:n<48?g(a,d,b)+T[2]:n<64?y(a,d,b)+T[3]:m(a,d,b)+T[4],A=(A=_(A|=0,z[n]))+k|0,r=k,k=b,b=_(d,10),d=a,a=A,A=w+e[t+M[n]]|0,A+=n<16?m(E,S,x)+O[0]:n<32?y(E,S,x)+O[1]:n<48?g(E,S,x)+O[2]:n<64?v(E,S,x)+O[3]:p(E,S,x)+O[4],A=(A=_(A|=0,B[n]))+C|0,w=C,C=x,x=_(S,10),S=E,E=A;A=D[1]+d+x|0,D[1]=D[2]+b+C|0,D[2]=D[3]+k+w|0,D[3]=D[4]+r+E|0,D[4]=D[0]+a+S|0,D[0]=A},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,r=o.words,a=0;a<5;a++){var s=r[a];r[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function v(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function m(e,t,n){return e^(t|~n)}function _(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(d),t.HmacRIPEMD160=r._createHmacHelper(d)}(),n.RIPEMD160)})),ai((function(e,t){var n;e.exports=(n=Jc,void function(){var e=n,t=e.lib.Base,i=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,c=a.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib,i=t.Base,o=t.WordArray,r=e.algo,a=r.SHA1,s=r.HMAC,c=r.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=s.create(n.hasher,e),r=o.create(),a=o.create([1]),c=r.words,l=a.words,u=n.keySize,f=n.iterations;c.length<u;){var h=i.update(t).finalize(a);i.reset();for(var d=h.words,p=d.length,v=h,g=1;g<f;g++){v=i.finalize(v),i.reset();for(var y=v.words,m=0;m<p;m++)d[m]^=y[m]}r.concat(h),l[0]++}return r.sigBytes=4*u,r}});e.PBKDF2=function(e,t,n){return c.create(n).compute(e,t)}}(),n.PBKDF2)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib,i=t.Base,o=t.WordArray,r=e.algo,a=r.MD5,s=r.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,r=i.hasher.create(),a=o.create(),s=a.words,c=i.keySize,l=i.iterations;s.length<c;){n&&r.update(n),n=r.update(e).finalize(t),r.reset();for(var u=1;u<l;u++)n=r.finalize(n),r.reset();a.concat(n)}return a.sigBytes=4*c,a}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),n.EvpKDF)})),ai((function(e,t){var n;e.exports=void((n=Jc).lib.Cipher||function(e){var t=n,i=t.lib,o=i.Base,r=i.WordArray,a=i.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var c=s.Base64,l=t.algo.EvpKDF,u=i.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:y}return function(t){return{encrypt:function(n,i,o){return e(i).encrypt(t,n,i,o)},decrypt:function(n,i,o){return e(i).decrypt(t,n,i,o)}}}}()});i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=t.mode={},h=i.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=f.CBC=function(){var t=h.extend();function n(t,n,i){var o,r=this._iv;r?(o=r,this._iv=e):o=this._prevBlock;for(var a=0;a<i;a++)t[n+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize;n.call(this,e,t,o),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize,r=e.slice(t,t+o);i.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=r}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,o=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(o);var c=r.create(a,i);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=i.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?r.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=r.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:t})}},y=i.SerializableCipher=o.extend({cfg:o.extend({format:g}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var o=e.createEncryptor(n,i),r=o.finalize(t),a=o.cfg;return v.create({ciphertext:r,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=r.random(8));var o=l.create({keySize:t+n}).compute(e,i),a=r.create(o.words.slice(t),4*n);return o.sigBytes=4*t,v.create({key:o,iv:a,salt:i})}},_=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:m}),encrypt:function(e,t,n,i){var o=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=o.iv;var r=y.encrypt.call(this,e,t,o.key,i);return r.mixIn(o),r},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var o=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=o.iv,y.decrypt.call(this,e,t,o.key,i)}})}())})),ai((function(e,t){var n;e.exports=((n=Jc).mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,n,i){var o,r=this._iv;r?(o=r.slice(0),this._iv=void 0):o=this._prevBlock,i.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,o=i.blockSize;t.call(this,e,n,o,i),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,o=i.blockSize,r=e.slice(n,n+o);t.call(this,e,n,o,i),this._prevBlock=r}}),e}(),n.mode.CFB)})),ai((function(e,t){var n,i,o;e.exports=((o=Jc).mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0);var a=r.slice(0);n.encryptBlock(a,0),r[i-1]=r[i-1]+1|0;for(var s=0;s<i;s++)e[t+s]^=a[s]}}),n.Decryptor=i,n),o.mode.CTR)})),ai((function(e,t){var n;e.exports=(
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
(n=Jc).mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}function i(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var o=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0),i(a);var s=a.slice(0);n.encryptBlock(s,0);for(var c=0;c<o;c++)e[t+c]^=s[c]}});return e.Decryptor=o,e}(),n.mode.CTRGladman)})),ai((function(e,t){var n,i,o;e.exports=((o=Jc).mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._keystream;o&&(r=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var a=0;a<i;a++)e[t+a]^=r[a]}}),n.Decryptor=i,n),o.mode.OFB)})),ai((function(e,t){var n,i;e.exports=((i=Jc).mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),i.mode.ECB)})),ai((function(e,t){var n;e.exports=((n=Jc).pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,o=i-n%i,r=n+o-1;e.clamp(),e.words[r>>>2]|=o<<24-r%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)})),ai((function(e,t){var n;e.exports=((n=Jc).pad.Iso10126={pad:function(e,t){var i=4*t,o=i-e.sigBytes%i;e.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)})),ai((function(e,t){var n;e.exports=((n=Jc).pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)})),ai((function(e,t){var n;e.exports=((n=Jc).pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},n.pad.ZeroPadding)})),ai((function(e,t){var n;e.exports=((n=Jc).pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)})),ai((function(e,t){var n;e.exports=(n=Jc,function(e){var t=n,i=t.lib.CipherParams,o=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}}}(),n.format.Hex)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.BlockCipher,i=e.algo,o=[],r=[],a=[],s=[],c=[],l=[],u=[],f=[],h=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var p=i^i<<1^i<<2^i<<3^i<<4;p=p>>>8^255&p^99,o[n]=p,r[p]=n;var v=e[n],g=e[v],y=e[g],m=257*e[p]^16843008*p;a[n]=m<<24|m>>>8,s[n]=m<<16|m>>>16,c[n]=m<<8|m>>>24,l[n]=m,m=16843009*y^65537*g^257*v^16843008*n,u[p]=m<<24|m>>>8,f[p]=m<<16|m>>>16,h[p]=m<<8|m>>>24,d[p]=m,n?(n=v^e[e[e[y^v]]],i^=e[e[i]]):n=i=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],a=0;a<i;a++)a<n?r[a]=t[a]:(l=r[a-1],a%n?n>6&&a%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=p[a/n|0]<<24),r[a]=r[a-n]^l);for(var s=this._invKeySchedule=[],c=0;c<i;c++){if(a=i-c,c%4)var l=r[a];else l=r[a-4];s[c]=c<4||a<=4?l:u[o[l>>>24]]^f[o[l>>>16&255]]^h[o[l>>>8&255]]^d[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,f,h,d,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,o,r,a,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],f=e[t+2]^n[2],h=e[t+3]^n[3],d=4,p=1;p<c;p++){var v=i[l>>>24]^o[u>>>16&255]^r[f>>>8&255]^a[255&h]^n[d++],g=i[u>>>24]^o[f>>>16&255]^r[h>>>8&255]^a[255&l]^n[d++],y=i[f>>>24]^o[h>>>16&255]^r[l>>>8&255]^a[255&u]^n[d++],m=i[h>>>24]^o[l>>>16&255]^r[u>>>8&255]^a[255&f]^n[d++];l=v,u=g,f=y,h=m}v=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[d++],g=(s[u>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^n[d++],y=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[d++],m=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&f])^n[d++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=m},keySize:8});e.AES=t._createHelper(v)}(),n.AES)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib,i=t.WordArray,o=t.BlockCipher,r=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=r.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=a[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],r=0;r<16;r++){var l=o[r]=[],u=c[r];for(n=0;n<24;n++)l[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=n[i],r=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((a^o[c])&u[c])>>>0];this._lBlock=a,this._rBlock=r^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(f);var p=r.TripleDES=o.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),o=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(i.create(t)),this._des2=f.createEncryptor(i.create(n)),this._des3=f.createEncryptor(i.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(p)}(),n.TripleDES)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.StreamCipher,i=e.algo,o=i.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;o=0;for(var r=0;o<256;o++){var a=o%n,s=t[a>>>2]>>>24-a%4*8&255;r=(r+i[o]+s)%256;var c=i[o];i[o]=i[r],i[r]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,n=this._j,i=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var r=e[t];e[t]=e[n],e[n]=r,i|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,i}e.RC4=t._createHelper(o);var a=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)r.call(this)}});e.RC4Drop=t._createHelper(a)}(),n.RC4)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.StreamCipher,i=e.algo,o=[],r=[],a=[],s=i.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=i[n+4&7];if(t){var r=t.words,a=r[0],s=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(o[0]^=l,o[1]^=f,o[2]^=u,o[3]^=h,o[4]^=l,o[5]^=f,o[6]^=u,o[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)o[i]=16711935&(o[i]<<8|o[i]>>>24)|4278255360&(o[i]<<24|o[i]>>>8),e[t+i]^=o[i]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),n.Rabbit)})),ai((function(e,t){var n;e.exports=(n=Jc,function(){var e=n,t=e.lib.StreamCipher,i=e.algo,o=[],r=[],a=[],s=i.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)i[o]^=n[o+4&7];if(t){var r=t.words,a=r[0],s=r[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&u,h=u<<16|65535&l;for(i[0]^=l,i[1]^=f,i[2]^=u,i[3]^=h,i[4]^=l,i[5]^=f,i[6]^=u,i[7]^=h,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)o[i]=16711935&(o[i]<<8|o[i]>>>24)|4278255360&(o[i]<<24|o[i]>>>8),e[t+i]^=o[i]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),n.RabbitLegacy)})),ai((function(e,t){e.exports=Jc}))),Yc=function(e){T(n,e);var t=O(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"WebStorageWrapper",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a.sessionStorage;return L(this,n),(e=t.call(this,i,!1))._decrypt=function(t,n,i){ts.info("[".concat(e.name,"]: _decrypt"));var o=null;if(n||i){var r="".concat(null!=n?n:"","_").concat(null!=i?i:"");try{var a=Xc.AES.decrypt(t,r).toString(Xc.enc.Utf8),s=JSON.parse(a);(null==s?void 0:s.data)&&"number"==typeof(null==s?void 0:s.timestamp)&&(o=s)}catch(t){ts.info("[".concat(e.name,"]: _decrypt - ").concat(t.message),t)}}return ts.info("[".concat(e.name,"]: _decrypt - finish"),o),o},e._encrypt=function(t,n,i){ts.info("[".concat(e.name,"]: _encrypt"));var o="";if(n||i){var r="".concat(null!=n?n:"","_").concat(null!=i?i:"");o=Xc.AES.encrypt(JSON.stringify(t),r).toString()}return o},e._encryptConsentStorage=function(t){var n,i,o,r,a;return k(n={consentEntityValidationMap:t.consentEntityValidationMap},qa.BOTH_CONSENT,e._encrypt(t[qa.BOTH_CONSENT],null!=(i=e._did)?i:"",null!=(o=e._uid)?o:"")),k(n,qa.DEVICE_CONSENT,e._encrypt(t[qa.DEVICE_CONSENT],null!=(r=e._did)?r:"","")),k(n,qa.USER_CONSENT,e._encrypt(t[qa.USER_CONSENT],"",null!=(a=e._uid)?a:"")),n},e._updateUserInfo=function(t,n){e._did=t,e._uid=n},e._setConsentWebStorage=function(t){var n=e._encryptConsentStorage(t);window[e._storageName].setItem(Na,JSON.stringify(n))},e.insertConsentData=function(t,n,i){ts.info("[".concat(e.name,"]: insertConsentData"),{data:t,timestamp:n,userInfo:i});try{var o=e.insertDataIntoStore(t,n,i);e._setConsentWebStorage(o)}catch(t){throw ts.error("[".concat(e.name,"]: insertConsentData - ").concat(t.message),t),t}},e.insertNotificationData=function(t,n,i){ts.info("[".concat(e.name,"]: insertNotificationData"),{data:t,timestamp:n,userInfo:i});try{var o=e.getNotificationStore(i);e.insertDataByStorageName(o,qa.NOTIFICATION,t,n),window[e._storageName].setItem(Pa,JSON.stringify(o))}catch(t){throw ts.error("[".concat(e.name,"]: insertNotificationData - ").concat(t.message),t),t}},e.getConsentStore=function(t){var n,i,o,r=null!=t?t:{},a=r.device_id,s=void 0===a?"":a,c=r.user_id,l=void 0===c?"":c,u={},f=hc(Lc),h=hc(Lc),d=hc(Lc);try{var p=null!=(i=window[e._storageName].getItem(Na))?i:"{}",v=null!=(o=JSON.parse(p))?o:{};u=v.consentEntityValidationMap,d=e._retrieveConsentData(v,qa.BOTH_CONSENT,s,l),h=e._retrieveConsentData(v,qa.USER_CONSENT,"",l),f=e._retrieveConsentData(v,qa.DEVICE_CONSENT,s,""),e._updateUserInfo(s,l)}catch(t){ts.error("[".concat(e.name,"]: getConsentStore - ").concat(t.message),t)}var g=(k(n={consentEntityValidationMap:u},qa.DEVICE_CONSENT,f),k(n,qa.USER_CONSENT,h),k(n,qa.BOTH_CONSENT,d),n);return e._setConsentWebStorage(g),g},e.getNotificationStore=function(t){var n,i,o=hc(Lc);try{var r=null!=(n=window[e._storageName].getItem(Pa))?n:"{}";o=null!=(i=JSON.parse(r))?i:{}}catch(t){ts.error("[".concat(e.name,"]: getNotificationStore - ").concat(t.message),t)}return k({},qa.NOTIFICATION,o)},e.cleanConsentData=function(){window[e._storageName].removeItem(Na)},e.cleanNotificationData=function(){window[e._storageName].removeItem(Pa)},e.clean=function(){window[e._storageName].removeItem(Na),window[e._storageName].removeItem(Pa)},e.destruct=function(){e.clean()},e._storageName=o,e}return F(n,[{key:"_retrieveConsentData",value:function(e,t,n,i){var o=!1,r=hc(Lc);switch(t){case qa.BOTH_CONSENT:o=n===this._did&&i===this._uid;break;case qa.USER_CONSENT:o=i===this._uid;break;case qa.DEVICE_CONSENT:o=n===this._did}if(o){var a=this._decrypt(e[t],n,i);if(a)return a}return r}}]),n}(Fc),Zc=function(e){T(n,e);var t=O(n);function n(){return L(this,n),t.call(this,"LocalStorageWrapper",$a.localStorage)}return F(n)}(Yc),Qc=function(e){T(n,e);var t=O(n);function n(){return L(this,n),t.call(this,"SessionStorageWrapper",$a.sessionStorage)}return F(n)}(Yc),el=(k(n={},$a.inMem,qc),k(n,$a.localStorage,Zc),k(n,$a.sessionStorage,Qc),n),tl=function(){function e(){return L(this,e),e._instance||(e._instance=this),e._instance}return F(e,[{key:"init",value:function(e){ts.info("[StorageModule]: init");var t=(null!=e?e:{}).storageType,n=void 0===t?$a.sessionStorage:t;n&&(Object.values($a).includes(n)||ts.error("[StorageModule]: init - Invalid Storage Type ".concat(n),{storageType:n}),this._setupStorage(n))}},{key:"getRecord",value:function(e,t){return ts.info("[StorageModule]: getRecord",{key:e}),this._store.getRecord(e,t)}},{key:"getRecords",value:function(e,t){return ts.info("[StorageModule]: getRecords",{keys:e}),this._store.getRecords(e,t)}},{key:"getEntity",value:function(e,t){return ts.info("[StorageModule]: getEntity",{key:e}),this._store.getEntity(e,t)}},{key:"getEntities",value:function(e,t){return ts.info("[StorageModule]: getEntities",{keys:e}),this._store.getEntities(e,t)}},{key:"insertConsentData",value:function(e,t,n){ts.info("[StorageModule]: insertConsentData",{data:e,timestamp:t});try{this._inMemStore.insertConsentData(e,t,n),this._store.insertConsentData(e,t,n)}catch(e){e instanceof DOMException&&"QuotaExceededError"===e.name?ts.error("[StorageModule]: insertConsentData - Storage limit exceeded, switch to in mem storage",e):ts.error("[StorageModule]: insertConsentData - Error",e),this._store.destruct(),this._store=this._inMemStore}}},{key:"insertNotificationData",value:function(e,t,n){ts.info("[StorageModule]: insertNotificationData",{data:e,timestamp:t});try{this._inMemStore.insertNotificationData(e,t,n),this._store.insertNotificationData(e,t,n)}catch(e){e instanceof DOMException&&"QuotaExceededError"===e.name?ts.error("[StorageModule]: insertNotificationData - Storage limit exceeded, switch to in mem storage",e):ts.error("[StorageModule]: insertNotificationData - Error",e),this._store.destruct(),this._store=this._inMemStore}}},{key:"_checkStorage",value:function(e){return ts.info("[StorageModule]: checkStorage",{storageType:e}),e===$a.inMem||!("undefined"==typeof window||!window[e])}},{key:"_setupStorage",value:function(e){if(ts.info("[StorageModule]: setupStorage",{storageType:e}),this._inMemStore=new qc,e&&this._checkStorage(e)){var t=el[e];this._store=new t}else this._checkStorage($a.sessionStorage)?this._store=new Qc:this._checkStorage($a.localStorage)?this._store=new Zc:this._store=this._inMemStore}},{key:"clean",value:function(){ts.info("[StorageModule]: clean"),this._store&&this._store.clean(),this._inMemStore&&this._inMemStore.clean()}},{key:"destruct",value:function(){ts.info("[StorageModule]: destruct"),this.clean()}}]),e}(),nl=new tl,il=function(){function e(){L(this,e),this.userInfo={}}return F(e,[{key:"init",value:function(e){ts.info("[BaseInfoModule]: init")}},{key:"getUserInfo",value:function(){return ts.info("[BaseInfoModule]: getUserInfo"),this.userInfo}},{key:"setUserInfo",value:function(e){ts.info("[BaseInfoModule]: setUserInfo"),this.userInfo=e}},{key:"fetchUserInfo",value:function(){return ts.info("[BaseInfoModule]: fetchUserInfo"),Promise.resolve({})}}]),e}(),ol=function(){function e(){L(this,e)}return F(e,[{key:"getName",value:function(){return this.constructor.name}},{key:"getLifeCycleEvents",value:function(){var e=this;return Object.values(La).filter((function(t){return"function"==typeof(null==e?void 0:e[t])}))}}]),e}(),rl=Object.defineProperty,al=Object.getOwnPropertySymbols,sl=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable,ll=function(e,t,n){return t in e?rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ul=function(e,t){for(var n in t||(t={}))sl.call(t,n)&&ll(e,n,t[n]);if(al){var i,o=j(al(t));try{for(o.s();!(i=o.n()).done;){n=i.value;cl.call(t,n)&&ll(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},fl=function(e,t){var n={};for(var i in e)sl.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&al){var o,r=j(al(e));try{for(r.s();!(o=r.n()).done;){i=o.value;t.indexOf(i)<0&&cl.call(e,i)&&(n[i]=e[i])}}catch(e){r.e(e)}finally{r.f()}}return n},hl=Object.keys(La).reduce((function(e,t){return e[La[t]]={},e}),{}),dl=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).addEventListener=function(t,n,i){ts.info("[DefaultEventPlugin]: addEventListener"),e._registeredCallbackMap[t][n]?ts.error("[DefaultEventPlugin]: addEventListener - id for this event callback has been used"):e._registeredCallbackMap[t][n]=i},e.removeEventListener=function(t,n){ts.info("[DefaultEventPlugin]: removeEventListener"),e._registeredCallbackMap[t][n]&&delete e._registeredCallbackMap[t][n]},e[dc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeFetchUserInfo)),e._triggerEvent(La.beforeFetchUserInfo,t)},e[pc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterFetchUserInfo)),e._triggerEvent(La.afterFetchUserInfo,t)},e[vc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeFetchConsentData)),e._triggerEvent(La.beforeFetchConsentData,t)},e[gc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterFetchConsentData)),e._triggerEvent(La.afterFetchConsentData,t)},e[yc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeFetchNotificationData)),e._triggerEvent(La.beforeFetchNotificationData,t)},e[mc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterFetchNotificationData)),e._triggerEvent(La.afterFetchNotificationData,t)},e[_c]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeUpdateRecords)),e._triggerEvent(La.beforeUpdateRecords,t)},e[bc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterUpdateRecords)),e._triggerEvent(La.afterUpdateRecords,t)},e[kc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeNotify)),e._triggerEvent(La.beforeNotify,t)},e[wc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterNotify)),e._triggerEvent(La.afterNotify,t)},e[Ec]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeRemoveNotification)),e._triggerEvent(La.beforeRemoveNotification,t)},e[Sc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterRemoveNotification)),e._triggerEvent(La.afterRemoveNotification,t)},e[xc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeThirdPartyApprove)),e._triggerEvent(La.beforeThirdPartyApprove,t)},e[Cc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterThirdPartyApprove)),e._triggerEvent(La.afterThirdPartyApprove,t)},e[Ac]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.beforeThirdPartyReject)),e._triggerEvent(La.beforeThirdPartyReject,t)},e[Dc]=function(t){ts.info("[DefaultEventPlugin]: ".concat(La.afterThirdPartyReject)),e._triggerEvent(La.afterThirdPartyReject,t)},e.destruct=function(){Object.keys(La).forEach((function(t){var n=La[t];Object.keys(e._registeredCallbackMap[n]).forEach((function(t){delete e._registeredCallbackMap[n][t]})),e._registeredCallbackMap[n]={}}))},e}return F(n,[{key:"init",value:function(){this._registeredCallbackMap=hc(hl)}},{key:"_triggerEvent",value:function(e,t){return n=this,i=null,o=C().mark((function n(){var i;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ts.info("[DefaultEventPlugin]: triggerEvent"),i=[],Object.values(this._registeredCallbackMap[e]).forEach((function(e){if("function"==typeof e){var n=t,o=n.plugin,r=fl(n,["plugin"]);i.push(e(ul({plugin:o},hc(r))))}})),n.prev=3,n.next=6,Promise.all(i);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),ts.warn("[DefaultEventPlugin]: plugin callback error",n.t0);case 11:case"end":return n.stop()}}),n,this,[[3,8]])})),new Promise((function(e,t){var r=function(e){try{s(o.next(e))}catch(e){t(e)}},a=function(e){try{s(o.throw(e))}catch(e){t(e)}},s=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(r,a)};s((o=o.apply(n,i)).next())}));var n,i,o}}]),n}(ol);dc=La.beforeFetchUserInfo,pc=La.afterFetchUserInfo,vc=La.beforeFetchConsentData,gc=La.afterFetchConsentData,yc=La.beforeFetchNotificationData,mc=La.afterFetchNotificationData,_c=La.beforeUpdateRecords,bc=La.afterUpdateRecords,kc=La.beforeNotify,wc=La.afterNotify,Ec=La.beforeRemoveNotification,Sc=La.afterRemoveNotification,xc=La.beforeThirdPartyApprove,Cc=La.afterThirdPartyApprove,Ac=La.beforeThirdPartyReject,Dc=La.afterThirdPartyReject;var pl=dl;var vl=function(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(o);++i<o;)r[i]=e[i+t];return r},gl=/\s/;var yl=function(e){for(var t=e.length;t--&&gl.test(e.charAt(t)););return t},ml=/^\s+/;var _l=function(e){return e?e.slice(0,yl(e)+1).replace(ml,""):e};var bl=function(e){return"symbol"==K(e)||Eo(e)&&"[object Symbol]"==_i(e)},kl=/^[-+]0x[0-9a-f]+$/i,wl=/^0b[01]+$/i,El=/^0o[0-7]+$/i,Sl=parseInt;var xl=function(e){if("number"==typeof e)return e;if(bl(e))return NaN;if(bi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=bi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=_l(e);var n=wl.test(e);return n||El.test(e)?Sl(e.slice(2),n?2:8):kl.test(e)?NaN:+e},Cl=1/0;var Al=function(e){return e?(e=xl(e))===Cl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var Dl=function(e){var t=Al(e),n=t%1;return t==t?n?t-n:t:0},Tl=Math.ceil,Ol=Math.max;var Rl=function(e,t,n){t=(n?br(e,t,n):void 0===t)?1:Ol(Dl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,r=0,a=Array(Tl(i/t));o<i;)a[r++]=vl(e,o,o+=t);return a},Ml=Object.defineProperty,zl=Object.defineProperties,Bl=Object.getOwnPropertyDescriptors,Il=Object.getOwnPropertySymbols,Nl=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable,jl=function(e,t,n){return t in e?Ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ul=function(e,t){for(var n in t||(t={}))Nl.call(t,n)&&jl(e,n,t[n]);if(Il){var i,o=j(Il(t));try{for(o.s();!(i=o.n()).done;){n=i.value;Pl.call(t,n)&&jl(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},Gl=function(e,t){return zl(e,Bl(t))},Ll={fetch:{pageSize:100,version:Wa.V2},update:{pageSize:100,version:Wa.V2}},$l=function(){function e(){L(this,e),this.destruct=function(){ts.info("[ConsentModule]: destruct")}}return F(e,[{key:"init",value:function(e){ts.info("[ConsentModule]: init");var t=(null!=e?e:{}).api,n=(null!=t?t:{}).consent;this._config=Rc({},n,Ll)}},{key:"getRecord",value:function(e,t){return ts.info("[ConsentModule]: getRecord",{entityKey:e,userInfo:t}),nl.getRecord(e,t)}},{key:"getEntity",value:function(e,t){return ts.info("[ConsentModule]: getEntity",{entityKey:e,userInfo:t}),nl.getEntity(e,t)}},{key:"getRecords",value:function(e,t){return ts.info("[ConsentModule]: getRecords",{entityKeys:e,userInfo:t}),nl.getRecords(e,t)}},{key:"getEntities",value:function(e,t){return ts.info("[ConsentModule]: getEntities",{entityKeys:e,userInfo:t}),nl.getEntities(e,t)}},{key:"getEntitiesWithApprovedRecord",value:function(e,t){return ts.info("[ConsentModule]: getEntitiesWithApprovedRecord",{entityKeys:e,userInfo:t}),nl.getEntities(e,t).filter((function(e){var t;return(null==(t=null==e?void 0:e.record)?void 0:t.status)===Ka.APPROVE}))}},{key:"shouldFetch",value:function(){return ts.info("[ConsentModule]: shouldFetch"),!0}},{key:"_fetchWithPagination",value:function(e,t,n,i,o,r,a,s,c){return us.sendRequest("".concat(n,"/consent/api/combine/list/").concat(o),i,{entity_keys:e,page_size:r,page_token:null!=s?s:""},Gl(Ul({},c),{timeout:a,params:Ul({},t)}))}},{key:"fetch",value:function(e,t){var n,i=this;ts.info("[ConsentModule]: fetch");var o="function"==typeof(null==(n=this._config)?void 0:n.fetch)?this._config.fetch():this._config.fetch,r=o.version,a=o.pageSize,s=o.timeout,c=o.domain,l=void 0===c?"":c,u=o.requestConfig,f=r===Wa.V1?"GET":"POST",h={data:{},pageSize:a},d=(new Date).getTime(),p=Rl(e,a).map((function(e){return i._fetchWithPagination(e,t,l,f,r,a,s,"",u).then((function(e){var t,n,i,o=null!=(t=null==e?void 0:e.data)?t:{},r=o.entities,a=o.data,s=o.status_code,c=o.extra,l=null!=(n=null!=r?r:a)?n:[];if(0===s&&l&&c){var u=null==(i=null==l?void 0:l.reduce)?void 0:i.call(l,(function(e,t){var n=(null!=t?t:{}).key;return n&&(e[n]=t),e}),{});h.data=Ul(Ul({},h.data),u),d<c.now&&(d=c.now)}else ts.error("[ConsentModule]: fetch - invalid response",e)})).catch((function(e){ts.error("[ConsentModule]: fetch - fail to fetch",e)}))}));return Promise.all(p).then((function(e){var n;return nl.insertConsentData(null!=(n=h.data)?n:{},d,t),h})).catch((function(e){ts.error("[ConsentModule]: fetch - fail to fetch",e)}))}},{key:"updateRecords",value:function(e,t,n,i){var o,r=this;if(0===(null==e?void 0:e.length))return ts.error("[ConsentModule]: updateRecords - invalid params",{status:n,businessFlow:i,params:e}),Promise.reject(new Error("[ConsentModule]: updateRecords - invalid params"));ts.info("[ConsentModule]: updateRecords");var a="function"==typeof(null==(o=this._config)?void 0:o.update)?this._config.update():this._config.update,s=a.version,c=a.domain,l=void 0===c?"":c,u=a.timeout,f=a.requestConfig;return s===Wa.V1&&void 0===n?(ts.error("[ConsentModule]: updateRecords - invalid status",{status:n}),Promise.reject(new Error("[ConsentModule]: updateRecords - invalid status"))):us.sendRequest("".concat(l,"/consent/api/record/create/sync/").concat(s),"POST",function(e,t){var n,i;return e===Wa.V1?{entity_keys:t.params,business_flow:t.businessFlow,status:Va[t.status]}:{consent_records:null!=(i=null==(n=t.params)?void 0:n.filter((function(e){return null==e?void 0:e.key})).map((function(e){return{entity_key:e.key,flow:e.businessFlow,status:Va[e.status]}})))?i:[]}}(s,{params:e,status:n,businessFlow:i}),Gl(Ul({},null!=f?f:{}),{timeout:u,params:Ul({},t)})).then((function(o){var a,c,l,u=function(e,t){return e===Wa.V1?new Set(t):new Set(null==t?void 0:t.filter((function(e){return null==e?void 0:e.key})).map((function(e){return e.key})))}(s,e),f=null!=(a=null==o?void 0:o.data)?a:{},h=f.consent_record_ids,d=f.data,p=void 0===d?{}:d,v=f.status_code,g=f.extra,y={},m=null!=(c=null!=h?h:Object.keys(null!=p?p:{}))?c:[];return 0===v&&(y=null==(l=null==m?void 0:m.reduce)?void 0:l.call(m,(function(e,o){var a=s===Wa.V1?o:p[o],c=s===Wa.V1?a.entity_key:o,l=null!=a?a:{},f=l.record_id,h=void 0===f?"":f,d=l.created_at,v=l.business_flow,y=l.status,m=function(e,t){var n={};for(var i in e)Nl.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Il){var o,r=j(Il(e));try{for(r.s();!(o=r.n()).done;)i=o.value,t.indexOf(i)<0&&Pl.call(e,i)&&(n[i]=e[i])}catch(e){r.e(e)}finally{r.f()}}return n}(l,["record_id","created_at","business_flow","status"]);if(c){u.delete(c);var _=r.getEntity(c,t);e[c]=Gl(Ul({},_),{record:Ul({id:h,entity_key:c,status:null!=y?y:n,created_at:null!=d?d:g.now,business_flow:null!=v?v:i},m)})}return e}),{}),nl.insertConsentData(y,g.now,t)),u.size&&ts.info("[ConsentModule]: updateRecords - fail to create records for certain entities",{keys:x(u)}),y})).catch((function(e){throw ts.error("[ConsentModule]: updateRecords - fail to create records",e),e}))}}]),e}(),Fl=$l,Kl=function(){function e(){L(this,e)}return F(e,[{key:"init",value:function(e){}},{key:"getData",value:function(){return null}},{key:"shouldNotify",value:function(e){return!0}},{key:"notify",value:function(e){}},{key:"canNotificationBeRemoved",value:function(e){return!1}},{key:"removeNotification",value:function(e){}},{key:"shouldFetch",value:function(){return!0}},{key:"fetch",value:function(){return Promise.resolve(null)}},{key:"destruct",value:function(){}}]),e}(),Vl=Object.defineProperty,Hl=Object.getOwnPropertySymbols,ql=Object.prototype.hasOwnProperty,Wl=Object.prototype.propertyIsEnumerable,Jl=function(e,t,n){return t in e?Vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xl=function(e,t,n){return new Promise((function(i,o){var r=function(e){try{s(n.next(e))}catch(e){o(e)}},a=function(e){try{s(n.throw(e))}catch(e){o(e)}},s=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,a)};s((n=n.apply(e,t)).next())}))},Yl=function(){function e(){var t=this;return L(this,e),this._thirdPartyMap={},this._cleanUpPlugins=function(){t._pluginsMap&&Object.keys(t._pluginsMap).forEach((function(e){var n=e,i=t._pluginsMap[n];(null==i?void 0:i.length)&&(i.forEach((function(e){var t;null==(t=null==e?void 0:e.destruct)||t.call(e)})),delete t._pluginsMap[n])})),t._defaultPlugin=null},this.dispatch=function(e,n){return Xl(t,null,C().mark((function t(){var i,o,r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ts.info("[LifeCycleModule]: dispatch start"),!this._currentEvent.has(e)){t.next=4;break}return ts.error("[LifeCycleModule]: Dispatch is already in process",{currentEvent:x(this._currentEvent),upcomingEvent:e}),t.abrupt("return");case 4:return this._currentEvent.add(e),o=null==(i=this._pluginsMap)?void 0:i[e],r=[],o.forEach((function(t){var i;(null==t?void 0:t[e])&&"function"==typeof t[e]&&r.push(null==(i=null==t?void 0:t[e])?void 0:i.call(t,{name:e,data:hc(n),plugin:t}))})),t.prev=8,t.next=11,Promise.all(r);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),ts.warn("[LifeCycleModule]: plugin callback error",t.t0);case 16:this._currentEvent.delete(e),ts.info("[LifeCycleModule]: dispatch finish");case 18:case"end":return t.stop()}}),t,this,[[8,13]])})))},this._dispatchAfterEvent=function(e,n){ts.info("[LifeCycleModule]: dispatchAfterEvent"),n instanceof Promise?n.then((function(n){t.dispatch(e,n)})).catch((function(n){t.dispatch(e,n)})):t.dispatch(e,n)},this.addEventListener=function(e,n,i){var o;null==(o=t._defaultPlugin)||o.addEventListener(e,n,i)},this.removeEventListener=function(e,n){var i;null==(i=t._defaultPlugin)||i.removeEventListener(e,n)},e._instance||(e._instance=this),e._instance}return F(e,[{key:"init",value:function(e){this._entityKeys=e.entityKeys,this._currentEvent=new Set,ts.info("[LifeCycleModule]: init"),this._initPlugins(e),this._initModules(e),this._registerThirdParties(e)}},{key:"_initModules",value:function(e){var t,n;if(ts.info("[LifeCycleModule]: initModules"),this._consentModule=new Fl,this._consentModule.init(e),(null==(t=null==e?void 0:e.modules)?void 0:t.notification)&&(e.modules.notification instanceof Kl?(this._notificationModule=e.modules.notification,this._notificationModule.init(e)):ts.warn("[LifeCycleModule]: initModules - incorrect implementation of NotificationModule, will skip")),null==(n=null==e?void 0:e.modules)?void 0:n.info)if(e.modules.info instanceof il)this._infoModule=e.modules.info,this._infoModule.init(e);else{ts.error("[LifeCycleModule]: initModules - incorrect implementation of InfoModule")}else{ts.error("[LifeCycleModule]: initModules - info module is required")}}},{key:"_initPlugins",value:function(e){var t,n=this;ts.info("[LifeCycleModule]: initPlugins"),this._cleanUpPlugins(),this._pluginsMap=Object.values(La).reduce((function(e,t){return e[t]=[],e}),{}),this._defaultPlugin=new pl;var i=[this._defaultPlugin];(null==(t=e.plugins)?void 0:t.length)&&(i=i.concat(e.plugins));var o=new Set;i.forEach((function(e,t){var i;null==(i=e.init)||i.call(e),n._registerPlugin(e,t,o)}))}},{key:"_registerPlugin",value:function(e,t,n){var i,o,r,a=this,s=null==(i=null==e?void 0:e.getName)?void 0:i.call(e);if(s)if(n.has(s))ts.error("[LifeCycleModule]: registerPlugin - Duplicate Plugin ".concat(s,"."),{index:t,pluginName:s,plugin:e});else if(e instanceof ol){ts.info("[LifeCycleModule]: registerPlugin ".concat(s," start"));var c=null==(r=null==(o=e.getLifeCycleEvents)?void 0:o.call(e))?void 0:r.filter((function(e){return e in La}));(null==c?void 0:c.length)&&c.forEach((function(t){a._pluginsMap[t].push(e)})),ts.info("[LifeCycleModule]: registerPlugin ".concat(s," finish"),{plugin:s,events:c})}else ts.error("[LifeCycleModule]: registerPlugin - ".concat(s," incorrectly implements of Plugin."),{index:t,pluginName:s,plugin:e});else ts.error("[LifeCycleModule]: registerPlugin - Plugin on index ".concat(t," is an invalid Plugin. Plugin should always have a unique name"),{index:t,plugin:e})}},{key:"_registerThirdParties",value:function(e){var t,n,i;ts.info("[LifeCycleModule]: registerThirdParties");var o=(null!=(t=null==e?void 0:e.modules)?t:{}).thirdParties;this._thirdPartyMap=null!=(i=null==(n=null==o?void 0:o.reduce)?void 0:n.call(o,(function(e,t){var n,i=j(t.getRelatedEntities());try{for(i.s();!(n=i.n()).done;){var o=n.value;e[o]?e[o].push(t):e[o]=[t]}}catch(e){i.e(e)}finally{i.f()}return e}),{}))?i:{}}},{key:"_initThirdParties",value:function(e){var t,n,i=this;if(ts.info("[LifeCycleModule]: initThirdParties"),e&&(null==(t=Object.values(e))?void 0:t.length)){var o=new Set,r=new Set;if(Object.values(e).forEach((function(e){var t,n=null==(t=i._thirdPartyMap)?void 0:t[null==e?void 0:e.key];(null==n?void 0:n.length)&&n.forEach((function(e){if(e){var t=e.getRelatedEntities();(null==t?void 0:t.length)&&(t.forEach((function(e){o.add(e)})),r.add(e))}}))})),r.size){var a,s=this._getUserInfo(),c=(null!=(n=this._consentModule.getEntitiesWithApprovedRecord(x(o),s))?n:[]).reduce((function(e,t){return e[t.key]=t,e}),{}),l=j(r);try{for(l.s();!(a=l.n()).done;){a.value.initThirdPartyModule(c,this.dispatch,this._dispatchAfterEvent)}}catch(e){l.e(e)}finally{l.f()}}}}},{key:"fetch",value:function(e){var t=this;return ts.info("[LifeCycleModule]: fetch"),this.fetchUserInfo().then((function(){var n=[t.shouldFetchConsentData()?t.fetchConsentData(t._entityKeys):Promise.resolve({}),t.shouldFetchNotificationData()?t.fetchNotificationData(null==e?void 0:e.notificationParam):Promise.resolve({})];return Promise.all(n).then((function(e){var n,i=S(e,2),o=i[0],r=i[1];return o&&(null==(n=Object.keys(o))?void 0:n.length)&&t._initThirdParties(o),r&&t._triggerNotification({notificationData:r,relatedConsentEntityMap:o}),{consentData:o,notificationData:r}}))})).catch((function(e){ts.error("[LifeCycleModule]: fetch failure",e)}))}},{key:"fetchUserInfo",value:function(){return Xl(this,null,C().mark((function e(){var t,n,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ts.info("[LifeCycleModule]: fetchUserInfo"),this.dispatch(La.beforeFetchUserInfo),i={},e.prev=3,e.next=6,null!=(n=null==(t=this._infoModule)?void 0:t.fetchUserInfo())?n:Promise.resolve({});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),ts.error("[LifeCycleModule]: fetchUserInfo - error",e.t0);case 12:return this.dispatch(La.afterFetchUserInfo,{userInfo:i}),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"_getUserInfo",value:function(){var e,t;return ts.info("[LifeCycleModule]: _getUserInfo"),null!=(t=null==(e=this._infoModule)?void 0:e.getUserInfo())?t:{}}},{key:"shouldFetchConsentData",value:function(){return ts.info("[LifeCycleModule]: shouldFetchConsentData"),this._consentModule.shouldFetch()}},{key:"fetchConsentData",value:function(e){var t=this;ts.info("[LifeCycleModule]: fetchConsentData"),this.dispatch(La.beforeFetchConsentData,{entityKeys:e});var n=this._getUserInfo();return this._consentModule.fetch(e,n).then((function(n){var i=(null!=n?n:{}).data;return t.dispatch(La.afterFetchConsentData,{entityKeys:e,data:i}),i})).catch((function(n){ts.error("[LifeCycleModule]: fetchConsentData failure",n),t.dispatch(La.afterFetchConsentData,{entityKeys:e,data:null,error:n})}))}},{key:"shouldFetchNotificationData",value:function(){var e,t;return ts.info("[LifeCycleModule]: shouldFetchNotificationData"),this._notificationModule?null==(t=null==(e=this._notificationModule)?void 0:e.shouldFetch)?void 0:t.call(e):(ts.info("[LifeCycleModule]: no notification module"),!1)}},{key:"fetchNotificationData",value:function(){for(var e,t,n,i=this,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return ts.info("[LifeCycleModule]: fetchNotificationData"),this._notificationModule?(this.dispatch(La.beforeFetchNotificationData,{notificationParams:r}),null==(n=null==(t=this._notificationModule)?void 0:t.fetch)?void 0:(e=n).call.apply(e,[t].concat(r)).then((function(e){var t=(null!=e?e:{}).data;return i.dispatch(La.afterFetchNotificationData,{notificationParams:r,data:t}),t})).catch((function(e){ts.error("[LifeCycleModule]: fetchNotificationData failure",e),i.dispatch(La.afterFetchNotificationData,{notificationParams:r,data:null,error:e})}))):(ts.info("[LifeCycleModule]: no notification module"),Promise.resolve(null))}},{key:"getConsentRecord",value:function(e){ts.info("[LifeCycleModule]: getConsentRecord",{entityKey:e});var t=this._getUserInfo();return this._consentModule.getRecord(e,t)}},{key:"getConsentEntity",value:function(e){ts.info("[LifeCycleModule]: getConsentEntity",{entityKey:e});var t=this._getUserInfo();return this._consentModule.getEntity(e,t)}},{key:"getConsentRecords",value:function(e){ts.info("[LifeCycleModule]: getConsentRecords",{entityKeys:e});var t=this._getUserInfo();return this._consentModule.getRecords(e,t)}},{key:"getConsentEntities",value:function(e){ts.info("[LifeCycleModule]: getConsentEntities",{entityKeys:e});var t=this._getUserInfo();return this._consentModule.getEntities(e,t)}},{key:"updateConsentRecords",value:function(e,t,n){return Xl(this,null,C().mark((function i(){var o,r;return C().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return ts.info("[LifeCycleModule]: updateConsentRecords",{params:e,status:t,businessFlow:n}),this.dispatch(La.beforeUpdateRecords,{params:e,status:t,businessFlow:n}),o={},r=this._getUserInfo(),i.prev=4,i.next=7,this._consentModule.updateRecords(e,r,t,n);case 7:o=i.sent,this.dispatch(La.afterUpdateRecords,{data:o}),i.next=15;break;case 11:i.prev=11,i.t0=i.catch(4),ts.error("[LifeCycleModule]: updateConsentRecords",i.t0),this.dispatch(La.afterUpdateRecords,{params:e,status:t,businessFlow:n,data:null,error:i.t0});case 15:return this._initThirdParties(o),i.abrupt("return",o);case 17:case"end":return i.stop()}}),i,this,[[4,11]])})))}},{key:"getNotificationData",value:function(){return ts.info("[LifeCycleModule]: getNotificationData"),this._notificationModule?this._notificationModule.getData():(ts.info("[LifeCycleModule]: no notification module"),null)}},{key:"removeNotification",value:function(e){if(ts.info("[LifeCycleModule]: removeNotification"),this._notificationModule){if(this._notificationModule.canNotificationBeRemoved(e)){this.dispatch(La.beforeRemoveNotification,e);var t=this._notificationModule.removeNotification(e);this._dispatchAfterEvent(La.afterRemoveNotification,t)}}else ts.info("[LifeCycleModule]: no notification module")}},{key:"notify",value:function(e){var t,n=e,i=n.relatedEntityKeys,o=void 0===i?[]:i,r=function(e,t){var n={};for(var i in e)ql.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Hl){var o,r=j(Hl(e));try{for(r.s();!(o=r.n()).done;)i=o.value,t.indexOf(i)<0&&Wl.call(e,i)&&(n[i]=e[i])}catch(e){r.e(e)}finally{r.f()}}return n}(n,["relatedEntityKeys"]);if(ts.info("[LifeCycleModule]: notify"),this._notificationModule){var a=(null!=(t=this.getConsentEntities(o))?t:[]).reduce((function(e,t){return t&&(e[t.key]=t),e}),{});this._triggerNotification(function(e,t){for(var n in t||(t={}))ql.call(t,n)&&Jl(e,n,t[n]);if(Hl){var i,o=j(Hl(t));try{for(o.s();!(i=o.n()).done;)n=i.value,Wl.call(t,n)&&Jl(e,n,t[n])}catch(e){o.e(e)}finally{o.f()}}return e}({relatedEntityKeys:o,notificationData:this.getNotificationData(),relatedConsentEntityMap:a},r))}else ts.info("[LifeCycleModule]: no notification module")}},{key:"_triggerNotification",value:function(e){if(ts.info("[LifeCycleModule]: triggerNotification"),this._notificationModule){if(this._notificationModule.shouldNotify(e)){this.dispatch(La.beforeNotify,e);var t=this._notificationModule.notify(e);this._dispatchAfterEvent(La.afterNotify,t)}}else ts.info("[LifeCycleModule]: no notification module")}},{key:"destruct",value:function(){this._cleanUpPlugins(),ts.info("[LifeCycleModule]: destruct")}}]),e}(),Zl=new Yl,Ql={appId:-1,domain:"",entityKeys:[],mode:Ua.PRODUCTION,isPPE:!1,debug:!1,fetchDataAtInit:!0,region:ja.SG,storageType:$a.sessionStorage,modules:{info:new il}},eu=new(function(){function e(){var t=this;return L(this,e),this._isInitialized=!1,this._validateInitStatus=function(){return!!t._isInitialized||(console.error("[SDK]: SDK is used before init"),!1)},this.getConsentRecord=function(e){return t._validateInitStatus()?(ts.info("[SDK]: getConsentRecord",{entityKey:e}),Zl.getConsentRecord(e)):null},this.getConsentRecords=function(e){return t._validateInitStatus()?(ts.info("[SDK]: getConsentRecords",{entityKeys:e}),Zl.getConsentRecords(e)):[]},this.getConsentEntity=function(e){return t._validateInitStatus()?(ts.info("[SDK]: getConsentEntity",{entityKey:e}),Zl.getConsentEntity(e)):null},this.getConsentEntities=function(e){return t._validateInitStatus()?(ts.info("[SDK]: getConsentEntities",{entityKeys:e}),Zl.getConsentEntities(e)):[]},this.updateConsentRecords=function(e,n,i){return t._validateInitStatus()?(ts.info("[SDK]: updateConsentRecords",{params:e,status:n,businessFlow:i}),Zl.updateConsentRecords(e,n,i)):Promise.resolve()},this.removeNotification=function(e){t._validateInitStatus()&&(ts.info("[SDK]: removeNotification",{arg:e}),Zl.removeNotification(e))},this.notify=function(e){t._validateInitStatus()&&(ts.info("[SDK]: notify",{arg:e}),Zl.notify(e))},this.fetch=function(e){return t._validateInitStatus()?(ts.info("[SDK]: fetch",{arg:e}),Zl.fetch(e)):Promise.resolve()},this.refresh=function(e){return t._validateInitStatus()?(ts.info("[SDK]: refresh",{arg:e}),Zl.fetch(e)):Promise.resolve()},this.addEventListener=function(e,n,i){if(t._validateInitStatus())if(ts.info("[SDK]: addEventListener"),e&&La[e]&&n&&"function"==typeof i)Zl.addEventListener(e,n,i);else{var o="[SDK]: addEventListener - invalid param for adding new event listener";ts.error(o,new Error(o))}},this.removeEventListener=function(e,n){t._validateInitStatus()&&(ts.info("[SDK]: removeEventListener"),Zl.removeEventListener(e,n))},this.destruct=function(){ts.info("[SDK]: destruct"),Zl.destruct(),us.destruct(),nl.destruct(),ts.destruct(),t._isInitialized=!1},e._instance||(e._instance=this),e._instance}return F(e,[{key:"init",value:function(e){if("undefined"==typeof window)return console.warn("ConsentClientFrameworkSDK can not be init on server"),Promise.resolve();if(this._isInitialized)throw new Error("ConsentClientFrameworkSDK has been initialized");var t=Rc({},e,Ql),n=t.debug,i=t.fetchDataAtInit;return n&&(window.consentSDK=this,window.consentSDK.storage=nl),ts.init(t),ts.info("[SDK]: init global module"),us.init(t),nl.init(t),ts.info("[SDK]: init life cycle"),Zl.init(t),this._isInitialized=!0,i?Zl.fetch():Promise.resolve()}},{key:"isInitialized",value:function(){return ts.info("[SDK]: isInitialized"),this._isInitialized}}]),e}()),tu=function(e){T(n,e);var t=O(n);function n(e){var i,o=e.wid,r=e.region;return L(this,n),(i=t.call(this)).wid="",i.region="",i.wid=o,i.region=r,i}return F(n,[{key:"getUserInfo",value:function(){return{device_id:this.wid,user_country:this.region,carrier_region:this.region}}}]),n}(il),nu=!1;function iu(e){return ou.apply(this,arguments)}function ou(){return(ou=D(C().mark((function e(t){var n,i,o,r,a,s,c,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,i=t.region,o=t.consentApiDomain,e.prev=1,nu){e.next=11;break}return nu=!0,r=n.entityKeys,a=n.wid,s=m(n,g),c=[],Object.keys(r||{}).forEach((function(e){var t=r[e]||[];c.push.apply(c,x(t))})),l=b(b({},s),{},{entityKeys:c,modules:{info:new tu({wid:a,region:i})}}),o&&(l.domain=o),e.next=11,eu.init(l);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("initConsentSDK failed: errMsg=".concat(e.t0.message,", config=").concat(JSON.stringify(n)));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ru(){return(ru=D(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.map((function(e){return{key:e.key,status:e.value?Ka.APPROVE:Ka.REJECT}})),e.next=4,eu.updateConsentRecords(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("updateConsentRecords failed: errMsg=".concat(e.t0.message,", value=").concat(JSON.stringify(t)));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function au(){var e=window.location.hostname.split(".");if(e.length>3){var t=e.length-1;return".".concat(e.slice(-t).join("."))}return".".concat(e.slice(-2).join("."))}function su(e){return e?"1":"0"}var cu=function(){function e(){L(this,e),this.isRequestInflight=!1,this.pendingTasks=[],this.entityKeys={}}return F(e,[{key:"getSettings",value:function(){var e,t;return(null===(t=null===(e=this.value)||void 0===e?void 0:e.settings)||void 0===t?void 0:t.length)?this.value.settings:(console.error("`CookieConfigManager.getSettings` returned undefined."),[])}},{key:"getSettingItemKeys",value:function(e,t){var n=Object.keys(e||{});return n.length?n:(null==t?void 0:t.length)?t.map((function(e){return e.entityKey})):[]}},{key:"getCategoryConsents",value:function(e){var t=e.groupName,n=e.value,i=this.getSettings().find((function(e){return e.groupName===t}));return i?this.getSettingItemKeys(i.items,i.groupEntityKeys).reduce((function(e,t){return e[t]=n,e}),{}):(console.error("`CookieConfigManager.getCategoryConsents` returned category undefined."),{})}},{key:"setFullConsents",value:function(){var e=this.getFullConsents();return this.setCookieConsents(e)}},{key:"getFullConsents",value:function(){var e=this,t=this.getSettings(),n={};return t.forEach((function(t){var i=e.getCategoryConsents({groupName:t.groupName,value:!0});n=b(b({},n),i)})),n}},{key:"setEmptyConsents",value:function(){var e=this.getEmptyConsents();return this.setCookieConsents(e)}},{key:"getEmptyConsents",value:function(){var e=this,t=this.getSettings(),n={};return t.forEach((function(t){var i=e.getCategoryConsents({groupName:t.groupName,value:!1});n=b(b({},n),i)})),n}},{key:"setCookieConsents",value:function(e){var t,n=this.getSettings();if(!n.length)return{};n.forEach((function(t){for(var n=0,i=Object.keys(t.items);n<i.length;n++){var o=i[n];if(!e[o]){var r=(t.items[o]||{}).cookies;(void 0===r?[]:r).forEach((function(e){return ut.remove(e,{domain:au()})}))}}}));var i=(null===(t=this.value)||void 0===t?void 0:t.version)||"",o=JSON.stringify(b(b({},e),{},{version:i}));return ut.set(it,o,{expires:390,domain:au(),secure:!0,sameSite:"None"}),setTimeout((function(){ut.get(it)!==o&&Kn("cookie_banner_save_cookie_failed")}),100),this.updateConsentRecords(e),e}},{key:"updateConsentRecords",value:function(e){var t=this,n=[];Object.keys(e).forEach((function(i){var o,r=(null===(o=t.entityKeys)||void 0===o?void 0:o[i])||[];if(null==r?void 0:r.length){var a=e[i],s=r.map((function(e){return{key:e,value:a}}));n.push.apply(n,x(s))}})),function(e){ru.apply(this,arguments)}(n)}},{key:"getCookieConsents",value:function(e){var t=this.getSettings();if(!t.length)return{};var n=e.isEffective,i=e.cookie,o=e.isFTC,r=[],a=t.reduce((function(e,t){var n=t.groupEntityKeys||[],i={};return n.length&&(r.push.apply(r,x(n)),i=n.reduce((function(e,t){return b(b({},e),{},k({},t.entityKey,{default:t.default,cookies:t.cookies}))}),{})),b(b(b({},e),(null==t?void 0:t.items)||{}),i)}),{}),s=this.getSettingItemKeys(a),c=r.map((function(e){return e.entityKey}));s.push.apply(s,x(c));try{var l=i?decodeURIComponent(i):ut.get(it),u=s.reduce((function(e,t){return e[t]=!0,e}),{}),f=l&&JSON.parse(l);if(o)return this.getEmptyConsents();if(f)return function(e){return Object.keys(e).filter((function(e){return"version"!==e})).reduce((function(t,n){return t[n]=e[n],t}),{})}(Object.assign({},n?this.getDefaultConsents(a):u,f));if(!n)return u}catch(e){}return this.getDefaultConsents(a)}},{key:"getDefaultConsents",value:function(e){var t=Object.keys(e||{});if(t.length){var n={};return t.forEach((function(t){n[t]=!!e[t].default})),n}return{}}},{key:"isShowCookieBanner",value:function(e){var t;if(!e.isEffective)return!1;if(!this.value)return!1;var n=function(e){var t=(e||{}).cookie,n=t?decodeURIComponent(t):ut.get(it);if(!n)return null;try{return(n&&JSON.parse(n)).version||null}catch(e){return null}}(e);return function(e,t){if(!t)return!0;var n=/^v(\d+)$/,i=n.exec(e),o=n.exec(t);return i&&o?Number(i[1])>Number(o[1]):e!==t}((null===(t=this.value)||void 0===t?void 0:t.version)||"",n)}},{key:"setCookieConfig",value:function(e){var t=e.entityKeys,n=m(e,v);this.value=n,this.entityKeys=t||{}}}]),e}(),lu=new cu;function uu(e,t){var n,i,o;try{i=null===(n=document.getElementById(e))||void 0===n?void 0:n.textContent;var r=JSON.parse(i),a=r.i18n,s=void 0===a?{}:a,c=r.appProps,l=(c=void 0===c?{}:c).region,u=void 0===l?"":l,f=c.user,h=(f=void 0===f?{}:f).ftcUser,d=void 0!==h&&h,p=r.cookieBanner,v=(p=void 0===p?{}:p).disabled,g=void 0!==v&&v,y=p.isEffective,m=void 0!==y&&y,_=p.settings,k=void 0===_?{}:_,w=p.version,E=void 0===w?"":w,S=p.disabledAccessKeys,x=void 0===S?[]:S,C=r.consent,A=r.consentApiDomain,D=r.customTheme,T=void 0===D?[]:D;return function(e){if(!Fn&&$n){Fn=!0;var t=null!=e?e:ct;$n.init(b({app_id:345918,log:!1},t)),$n.start()}}(r.tea),lu.setCookieConfig({settings:k,version:E,entityKeys:C.entityKeys}),o={locale:t,region:u},Fn&&$n&&$n.config({evtParams:o}),{region:u,isFTC:d,i18n:s,disabled:g,isEffective:m,consent:C,disabledAccessKeys:x,consentApiDomain:A,customTheme:T.join(";")||""}}catch(e){return console.error(e),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var fu=function e(t,n){var i,o,r=t._$AN;if(void 0===r)return!1;var a,s=j(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;null===(o=(i=c)._$AO)||void 0===o||o.call(i,n,!1),e(c,n)}}catch(e){s.e(e)}finally{s.f()}return!0},hu=function(e){var t,n;do{if(void 0===(t=e._$AM))break;(n=t._$AN).delete(e),e=t}while(0===(null==n?void 0:n.size))},du=function(e){for(var t;t=e._$AM;e=t){var n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),gu(t)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function pu(e){void 0!==this._$AN?(hu(this),this._$AM=e,du(this)):this._$AM=e}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(t)if(Array.isArray(i))for(var r=n;r<i.length;r++)fu(i[r],!1),hu(i[r]);else null!=i&&(fu(i,!1),hu(i));else fu(this,e)}var gu=function(e){var t,n,i,o;e.type==Je&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=vu),null!==(n=(o=e)._$AQ)&&void 0!==n||(o._$AQ=pu))},yu=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments))._$AN=void 0,e}return F(n,[{key:"_$AT",value:function(e,t,i){w(P(n.prototype),"_$AT",this).call(this,e,t,i),du(this),this.isConnected=e._$AU}},{key:"_$AO",value:function(e){var t,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),i&&(fu(this,e),hu(this))}},{key:"setValue",value:function(e){if(function(e){return void 0===e.strings}(this._$Ct))this._$Ct._$AI(e,this);else{var t=x(this._$Ct._$AH);t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}},{key:"disconnected",value:function(){}},{key:"reconnected",value:function(){}}]),n}(Ye),mu=function(){return new _u},_u=F((function e(){L(this,e)})),bu=new WeakMap,ku=Xe(function(e){T(n,e);var t=O(n);function n(){return L(this,n),t.apply(this,arguments)}return F(n,[{key:"render",value:function(e){return Te}},{key:"update",value:function(e,t){var n,i=S(t,1)[0],o=i!==this.Y;return o&&void 0!==this.Y&&this.rt(void 0),(o||this.lt!==this.dt)&&(this.Y=i,this.ct=null===(n=e.options)||void 0===n?void 0:n.host,this.rt(this.dt=e.element)),Te}},{key:"rt",value:function(e){var t;if("function"==typeof this.Y){var n=null!==(t=this.ct)&&void 0!==t?t:globalThis,i=bu.get(n);void 0===i&&(i=new WeakMap,bu.set(n,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ct,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.ct,e)}else this.Y.value=e}},{key:"lt",get:function(){var e,t,n;return"function"==typeof this.Y?null===(t=bu.get(null!==(e=this.ct)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.Y):null===(n=this.Y)||void 0===n?void 0:n.value}},{key:"disconnected",value:function(){this.lt===this.dt&&this.rt(void 0)}},{key:"reconnected",value:function(){this.rt(this.dt)}}]),n}(yu)),wu=[],Eu=[];function Su(e,t){if(e&&"undefined"!=typeof document){var n,i=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,r="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var a=wu.indexOf(r);-1===a&&(a=wu.push(r)-1,Eu[a]={}),n=Eu[a]&&Eu[a][i]?Eu[a][i]:Eu[a][i]=s()}else n=s();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var a="prepend"===i?"afterbegin":"beforeend";return r.insertAdjacentElement(a,e),e}}var xu='.cookie-banner-toast {\n  font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n  font-weight: 600;\n  font-size: 17px;\n  line-height: 130%;\n  letter-spacing: 0%;\n  position: fixed;\n  left: 0;\n  top: 70px;\n  right: 0;\n  text-align: center;\n  padding: 12px 20px;\n  background: rgba(84, 84, 84, 0.92);\n  color: #fff;\n  box-sizing: border-box;\n  z-index: 10001;\n  transition: opacity 0.3s;\n  opacity: 0;\n}\n.cookie-banner-toast.show {\n  opacity: 1;\n}';Su(xu,{});var Cu,Au=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).visible=!0,e.timeoutId=-1,e.wrapperRef=mu(),e}return F(n,[{key:"willUpdate",value:function(e){e.has("textId")&&this.resetAutoFadeOut()}},{key:"firstUpdated",value:function(){var e,t=this;this.resetAutoFadeOut(),null===(e=this.wrapperRef.value)||void 0===e||e.addEventListener("transitionend",(function(){t.visible||t.dispatchEvent(new Event("fadeOutComplete"))}))}},{key:"resetAutoFadeOut",value:function(){var e=this;this.text&&(clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((function(){e.visible=!1}),3e3))}},{key:"render",value:function(){return Ae(i||(i=y(["<div ",' class="','">',"</div>"])),ku(this.wrapperRef),Ze({"cookie-banner-toast":!0,show:this.visible}),this.text)}}]),n}(Ve);function Du(e){if(Cu)Cu.setAttribute("text",e),Cu.setAttribute("text-id",Date.now().toString(36));else{(Cu=document.createElement("tiktok-cookie-banner-toast")).setAttribute("text",e),Cu.setAttribute("text-id",Date.now().toString(36));Cu.addEventListener("fadeOutComplete",(function e(){Cu&&(Cu.removeEventListener("fadeOutComplete",e),document.body.removeChild(Cu),Cu=null)})),document.body.appendChild(Cu)}}Au.styles=Q(xu),V([et()],Au.prototype,"text",void 0),V([et({attribute:"text-id"})],Au.prototype,"textId",void 0),V([tt()],Au.prototype,"visible",void 0),Au=V([Qe("tiktok-cookie-banner-toast")],Au);var Tu='.tiktok-cookie-banner {\n  font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 130%;\n  letter-spacing: -0.16%;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: var(--banner-background-color--, #10a2c5);\n  z-index: 10001;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  color: #fff;\n  padding: 24px 64px 32px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);\n  -moz-text-size-adjust: 100%;\n       text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -webkit-font-smoothing: antialiased;\n}\n.tiktok-cookie-banner .cookie-content .cookie-title {\n  font-family: "tiktok-display-bold", PingFangSC, sans-serif;\n  font-weight: 700;\n  font-size: 24px;\n  line-height: 125%;\n  letter-spacing: 1%;\n  margin-top: 0;\n  margin-bottom: 0;\n  color: var(--banner-title-color--, #fff);\n}\n.tiktok-cookie-banner .cookie-content .cookie-desc {\n  font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: var(--banner-desc-color--, #fff);\n}\n.tiktok-cookie-banner .cookie-content .cookie-desc a {\n  font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  text-decoration: underline;\n  color: var(--banner-link-color--, #fff);\n}\n.tiktok-cookie-banner .cookie-content .cookie-desc a:hover {\n  text-decoration: underline;\n  color: var(--banner-link-hover-color--, #fff);\n}\n.tiktok-cookie-banner .button-wrapper {\n  display: flex;\n  margin-left: 64px;\n  align-self: flex-end;\n}\n.tiktok-cookie-banner .button-wrapper a,\n.tiktok-cookie-banner .button-wrapper button {\n  font-family: "tiktok-text-bold", PingFangSC, sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  box-sizing: border-box;\n  padding: 0 24px;\n  height: 46px;\n  min-width: 153px;\n  white-space: nowrap;\n  border-radius: 4px;\n  border: 1px solid rgba(22, 24, 35, 0.12);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  cursor: pointer;\n  background: #fff;\n  color: #161823;\n  outline: none;\n  text-decoration: none;\n  border: 1px solid rgba(22, 24, 35, 0.12);\n}\n.tiktok-cookie-banner .button-wrapper a:hover,\n.tiktok-cookie-banner .button-wrapper button:hover {\n  background: #f8f8f8;\n}\n.tiktok-cookie-banner .button-wrapper button {\n  margin-left: 16px;\n  background: var(--banner-button-background-color--, #fff);\n  color: var(--banner-button-text-color--, #161823);\n}\n.tiktok-cookie-banner .button-wrapper button:hover {\n  background: var(--banner-button-hover-background-color--, #f8f8f8);\n}\n.tiktok-cookie-banner.is-rtl {\n  direction: rtl;\n}\n.tiktok-cookie-banner.is-rtl .button-wrapper {\n  margin-left: unset;\n  margin-right: 64px;\n}\n.tiktok-cookie-banner.is-rtl .button-wrapper button {\n  margin-left: unset;\n  margin-right: 16px;\n}\n@media (max-width: 991px) {\n  .tiktok-cookie-banner.is-rtl .button-wrapper button {\n    margin-right: 8px;\n  }\n}\n@media (max-width: 991px) {\n  .tiktok-cookie-banner {\n    flex-direction: column;\n    height: auto;\n    padding: 16px 16px 20px;\n    box-shadow: none;\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-title {\n    font-family: "tiktok-text-bold", PingFangSC, sans-serif;\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 130%;\n    letter-spacing: 0.19%;\n    text-align: center;\n    color: var(--banner-title-color--, #fff);\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-desc {\n    font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 130%;\n    letter-spacing: 1.34%;\n    width: auto;\n    text-align: center;\n    color: var(--banner-desc-color--, #fff);\n  }\n  .tiktok-cookie-banner .cookie-content .cookie-desc a {\n    font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 130%;\n    letter-spacing: 1.34%;\n    text-decoration: underline;\n    color: var(--banner-link-color--, #fff);\n  }\n  .tiktok-cookie-banner .button-wrapper {\n    align-self: flex-end;\n    margin-top: 16px;\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n  .tiktok-cookie-banner .button-wrapper a,\n  .tiktok-cookie-banner .button-wrapper button {\n    font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 130%;\n    letter-spacing: 0.4%;\n    min-width: unset;\n    padding: 0 6px;\n    width: 100%;\n    height: 44px;\n    border-radius: 2px;\n    white-space: pre-wrap;\n    margin: 0;\n  }\n  .tiktok-cookie-banner .button-wrapper button {\n    margin-left: 8px;\n  }\n}';Su(Tu,{});
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ou=Xe(function(e){T(n,e);var t=O(n);function n(e){var i,o;if(L(this,n),i=t.call(this,e),e.type!==We||"style"!==e.name||(null===(o=e.strings)||void 0===o?void 0:o.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return R(i)}return F(n,[{key:"render",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null==i?t:t+"".concat(n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(i,";")}),"")}},{key:"update",value:function(e,t){var n=this,i=S(t,1)[0],o=e.element.style;if(void 0===this.vt){for(var r in this.vt=new Set,i)this.vt.add(r);return this.render(i)}for(var a in this.vt.forEach((function(e){null==i[e]&&(n.vt.delete(e),e.includes("-")?o.removeProperty(e):o[e]="")})),i){var s=i[a];null!=s&&(this.vt.add(a),a.includes("-")?o.setProperty(a,s):o[a]=s)}return De}}]),n}(Ye)),Ru=':root body.disable-scroll {\n  overflow: hidden;\n}\n\n.tiktok-cookie-setting-portal {\n  font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 130%;\n  letter-spacing: 0.67%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 0;\n  height: 0;\n  color: rgb(22, 24, 35);\n  -webkit-font-smoothing: antialiased;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n  transition: opacity 300ms linear;\n  opacity: 0;\n  position: fixed;\n  inset: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-backdrop.visible {\n  opacity: 1;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container {\n  position: fixed;\n  inset: 0;\n  left: 0;\n  top: 32px;\n  bottom: 32px;\n  left: 16px;\n  right: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  transform: scale(0.8);\n  transition: opacity 300ms cubic-bezier(0.65, 0, 0.35, 1), transform 300ms cubic-bezier(0.65, 0, 0.35, 1);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container.visible {\n  opacity: 1;\n  transform: scale(1);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container .tiktok-cookie-setting-modal {\n  position: relative;\n  max-width: 700px;\n  max-height: 100%;\n  background-color: var(--setting-modal-background-color--, #fff);\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.12) 0 2px 12px;\n  outline: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n@media (max-width: 700px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-container .tiktok-cookie-setting-modal {\n    width: calc(100vw - 32px);\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-header-container {\n  font-family: "tiktok-display-bold", PingFangSC, sans-serif;\n  font-weight: 700;\n  font-size: 24px;\n  line-height: 125%;\n  letter-spacing: 1%;\n  padding: 24px 29px 16px 24px;\n  color: var(--setting-modal-title-color--, #161823);\n  border-bottom: 0.5px solid rgba(22, 24, 35, 0.2);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex: 0;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-header-container {\n    border-bottom: none;\n    padding: 32px 24px 24px;\n    font-family: "tiktok-display-bold", PingFangSC, sans-serif;\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 125%;\n    letter-spacing: 1.5%;\n    justify-content: center;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close {\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close svg {\n  fill: var(--setting-modal-close-icon-color--, rgba(22, 24, 35, 0.6));\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-close {\n    position: absolute;\n    top: 14px;\n    right: 14px;\n    transform: scale(0.8);\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-description-container {\n  background-color: rgba(22, 24, 35, 0.03);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-modal-description-container .tiktok-cookie-setting-modal-description {\n  margin: 16px 24px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n  padding: 12px 40px 12px 24px;\n  overflow-y: auto;\n  flex: 1 1 auto;\n}\n@media (max-width: 700px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n    width: calc(100% - 48px);\n  }\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content {\n    padding: 6px 16px 0 16px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar {\n  width: 6px;\n  margin-right: 8px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content:hover::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.15);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.15);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon {\n  margin-left: auto;\n  justify-content: flex-end;\n  height: 48px;\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon.hide {\n  transform: rotate(180deg);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-setting-info-icon svg {\n  width: 14px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 17px;\n  fill: var(--setting-modal-arrow-icon-color--, #161823);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vertical-info-icon {\n  margin-left: auto;\n  margin-right: 20px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  margin-top: 0;\n  margin-bottom: 0;\n  color: var(--setting-modal-text-color--, #161823);\n  flex: 1 1 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name .tiktok-cookie-vendor-group-name-outside {\n  display: flex;\n  align-items: center;\n  flex-shrink: 1;\n  flex-grow: 1;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name .tiktok-cookie-vendor-group-name-outside:hover {\n  cursor: pointer;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-content .tiktok-cookie-vendor-group-name {\n    font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 130%;\n    letter-spacing: 0.4%;\n  }\n}\n.tiktok-cookie-setting-portal cookie-setting-switch {\n  line-height: 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer {\n  padding: 24px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 0.5px solid rgba(22, 24, 35, 0.2);\n  flex: 0 0 auto;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer {\n    border-top: none;\n    padding: 20px;\n    flex-direction: column-reverse;\n    justify-content: center;\n    align-items: stretch;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text,\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n  font-family: "tiktok-text-medium", PingFangSC, sans-serif;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  min-width: 100px;\n  border-radius: 4px;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  height: 36px;\n  outline: none;\n  border: none;\n  text-align: center;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text,\n  .tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n    height: 44px;\n    margin-left: 0;\n    border-radius: 2px;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-text {\n  color: #fe2c55;\n  background-color: #fff;\n  text-decoration: none;\n  padding-left: 0;\n  padding-right: 0;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary {\n  background-color: var(--setting-modal-button-background-color--, rgb(254, 44, 85));\n  color: var(--setting-modal-button-text-color--, #fff);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-footer .tiktok-cookie-setting-footer-btn-primary:hover {\n  background: var(--setting-modal-button-hover-background-color--, linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #fe2c55);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group.show-detail {\n  margin-bottom: 8px;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor .tiktok-cookie-vendor-label-outside {\n  display: flex;\n  flex-shrink: 1;\n  flex-grow: 1;\n  color: var(--setting-modal-text-color--, #161823);\n  cursor: pointer;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor .tiktok-cookie-vendor-label-outside .tiktok-cookie-vendor-label {\n  margin-left: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex: 1 1 0;\n}\n.tiktok-cookie-setting-portal .with-hover-effect:hover {\n  background-color: rgba(22, 24, 35, 0.1);\n  transition: background-color ease-in-out 200ms;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .with-hover-effect:hover {\n    background-color: transparent;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context {\n  padding: 0;\n  margin: 0;\n  margin-bottom: 8px;\n  padding-left: -16px;\n  color: var(--setting-modal-desc-color--, rgba(22, 24, 35, 0.6));\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context .tiktok-cookie-manage-tip-context-ref {\n  text-decoration: none;\n  color: var(--setting-modal-link-color--, #fe2c55);\n  font-weight: bold;\n  text-decoration: none;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-manage-tip-context .tiktok-cookie-manage-tip-context-ref:hover {\n  text-decoration: underline;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context-ref {\n  text-decoration: none;\n  color: var(--setting-modal-link-color--, #fe2c55);\n  font-weight: bold;\n  text-decoration: none;\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context-ref:hover {\n  text-decoration: underline;\n  color: var(--setting-modal-link-hover-color--, #fe2c55);\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-context {\n  padding: 0;\n  margin-top: 4px;\n  margin-bottom: 8px;\n  padding-left: 16px;\n  color: var(--setting-modal-text-color--, rgba(22, 24, 35, 0.6));\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor-group p,\n.tiktok-cookie-setting-portal .tiktok-cookie-vendor p {\n  font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 130%;\n  letter-spacing: 0.19%;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n@media (max-width: 468px) {\n  .tiktok-cookie-setting-portal .tiktok-cookie-vendor-group p,\n  .tiktok-cookie-setting-portal .tiktok-cookie-vendor p {\n    font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n    font-weight: 400;\n    font-size: 15px;\n    line-height: 130%;\n    letter-spacing: 0.4%;\n  }\n}\n.tiktok-cookie-setting-portal .tiktok-cookie-setting-desc {\n  color: var(--setting-modal-text-color--, rgba(22, 24, 35, 0.6));\n  font-family: "tiktok-text-regular", PingFangSC, sans-serif;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 130%;\n  letter-spacing: 0.67%;\n  margin-bottom: 18px;\n}\n.tiktok-cookie-setting-portal .cookie-setting-switch {\n  line-height: 0;\n  padding-left: 36px;\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n.tiktok-cookie-setting-portal .cookie-setting-switch.checked {\n  background-color: var(--setting-modal-switch-toggle-color--, #0be09b);\n}\n.tiktok-cookie-setting-portal.is-rtl {\n  direction: rtl;\n}\n.tiktok-cookie-setting-portal.is-rtl .tiktok-cookie-setting-content {\n  padding: 12px 24px 12px 40px;\n}\n.tiktok-cookie-setting-portal.is-rtl .tiktok-cookie-vertical-info-icon {\n  margin-left: 20px;\n  margin-right: auto;\n}\n.tiktok-cookie-setting-portal.is-rtl .tiktok-cookie-setting-info-icon {\n  margin-right: auto;\n  margin-left: 0;\n}\n.tiktok-cookie-setting-portal.is-rtl .tiktok-cookie-vendor .tiktok-cookie-vendor-label-outside .tiktok-cookie-vendor-label {\n  margin-left: 0;\n  margin-right: 16px;\n}\n.tiktok-cookie-setting-portal.is-rtl .tiktok-cookie-vendor-context {\n  padding-left: 0;\n  padding-right: 16px;\n}';
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */Su(Ru,{});var Mu="global_module_disableScroll__472ccca3";Su(":root body.global_module_disableScroll__472ccca3 {\n  overflow: hidden;\n}",{});var zu=".tiktok-cookie-setting-switch {\n  box-sizing: border-box;\n  display: inline-block;\n  border-radius: 12px;\n  border: 1px rgba(0, 0, 0, 0) solid;\n  position: relative;\n  cursor: pointer;\n  background-color: var(--setting-modal-switch-toggle-color--, rgba(46, 50, 56, 0.05));\n  transition: background-color 200ms ease-in-out;\n  width: 40px;\n  height: 24px;\n}\n.tiktok-cookie-setting-switch.checked {\n  background-color: var(--setting-modal-switch-toggle-checked-color--, #0be09b);\n}\n.tiktok-cookie-setting-switch.checked .tiktok-cookie-setting-switch-knob {\n  transform: translateX(18px);\n}\n.tiktok-cookie-setting-switch.disabled {\n  opacity: 0.34;\n  cursor: not-allowed;\n}\n\n.tiktok-cookie-setting-switch-knob {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.08);\n  cursor: pointer;\n  border-radius: 9px;\n  background-color: #fff;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  right: auto;\n  transition: transform 200ms ease-in-out, width 200ms ease-in-out;\n  width: 18px;\n  height: 18px;\n  top: 2px;\n  transform: translateX(2px);\n}\n\n.tiktok-cookie-setting-switch-native-control {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  cursor: inherit;\n  pointer-events: auto;\n  margin: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n}";Su(zu,{});var Bu=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).value=!1,e.name="",e.disabled=!1,e}return F(n,[{key:"handleCheck",value:function(e){var t=e.target.checked;this.dispatchEvent(new CustomEvent("checkedChange",{detail:t}))}},{key:"render",value:function(){return Ae(o||(o=y(['<div class="','" role="switch" aria-checked="','"><div class="tiktok-cookie-setting-switch-knob"></div><input @change="','" ?checked="','" type="checkbox" role="switch" class="tiktok-cookie-setting-switch-native-control" name="','"></div>'])),Ze({"tiktok-cookie-setting-switch":!0,checked:this.value,disabled:this.disabled}),this.value,this.handleCheck,this.value,this.name)}}]),n}(Ve);Bu.styles=Q(zu),V([et({converter:function(e){return"true"===e}})],Bu.prototype,"value",void 0),V([et()],Bu.prototype,"name",void 0),V([et({converter:function(e){return"true"===e}})],Bu.prototype,"disabled",void 0),Bu=V([Qe("cookie-setting-switch")],Bu);var Iu=["touchstart","touchmove","touchend","scroll"],Nu=function(e){T(n,e);var t=O(n);function n(){var e;return L(this,n),(e=t.apply(this,arguments)).zIndex=10002,e.visible=!1,e.deferredVisible=!1,e.cookieConsent={},e.expandRowKeys=[],e.customTheme="",e.modalBackdropRef=mu(),e.scrollableListRef=mu(),e}return F(n,[{key:"connectedCallback",value:function(){var e=this;if(w(P(n.prototype),"connectedCallback",this).call(this),this.initUserConfig(),this.userConfig){this.cookieConsent=lu.getCookieConsents(this.userConfig);var t=this.userConfig;iu({config:t.consent,region:t.region,consentApiDomain:t.consentApiDomain})}this.visible&&requestAnimationFrame((function(){return e.deferredVisible=!0}))}},{key:"willUpdate",value:function(e){var t,n=this;if((e.has("userConfigEleId")||e.has("locale"))&&this.initUserConfig(),e.has("visible"))if(this.visible)this.cookieConsent=this.userConfig?lu.getCookieConsents(this.userConfig):{},requestAnimationFrame((function(){return n.deferredVisible=!0})),this.lockScroll(),Kn("cookie_setting_show");else{var i=this.modalBackdropRef.value;null==i||i.addEventListener("transitionend",(function e(){null==i||i.removeEventListener("transitionend",e),n.deferredVisible=!1})),this.unlockScroll();var o,r=j(Iu);try{for(r.s();!(o=r.n()).done;){var a=o.value;null===(t=this.scrollableListRef.value)||void 0===t||t.removeEventListener(a,this.stopTouchEventPropagation)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"updated",value:function(e){if(e.has("visible")&&this.visible&&this.scrollableListRef.value){var t,n=j(Iu);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.scrollableListRef.value.addEventListener(i,this.stopTouchEventPropagation)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"stopTouchEventPropagation",value:function(e){e.stopPropagation()}},{key:"lockScroll",value:function(){document.body.classList.add(Mu)}},{key:"unlockScroll",value:function(){document.body.classList.remove(Mu)}},{key:"initUserConfig",value:function(){var e=uu(this.userConfigEleId,this.locale);e&&(this.userConfig=e,this.customTheme=e.customTheme)}},{key:"handleClose",value:function(){Kn("cookie_setting_close"),this.dispatchEvent(new Event("close"))}},{key:"disagreeToAll",value:function(e){var t=e.value,n=e.groupName,i=lu.getCategoryConsents({groupName:n,value:t});this.cookieConsent=b(b({},this.cookieConsent||{}),i),Kn("cookie_setting_toggle",{state:t?1:0,type:"category",name:n})}},{key:"disagreeToOne",value:function(e){var t=this.cookieConsent[e];this.cookieConsent=b(b({},this.cookieConsent),{},k({},e,!t)),Kn("cookie_setting_toggle",{state:t?0:1,type:"vendor",name:e})}},{key:"handleSave",value:function(){var e=this;lu.setCookieConsents(this.cookieConsent),this.dispatchEvent(new Event("close")),this.dispatchEvent(new CustomEvent("save",{detail:this.cookieConsent})),Kn("cookie_setting_save",{result:Object.keys(this.cookieConsent).filter((function(t){return e.cookieConsent[t]})).join(",")})}},{key:"handleCookieClick",value:function(e,t){var n=0;this.expandRowKeys.includes(e)?this.expandRowKeys=this.expandRowKeys.filter((function(t){return t!==e})):(this.expandRowKeys=[].concat(x(this.expandRowKeys),[e]),n=1),Kn("cookie_setting_description_toogle",{state:n,type:t?"category":"vendor",name:e})}},{key:"renderVendorDescription",value:function(e){for(var t,n=[],i=new RegExp("\\[([^\\]]+)\\]\\(([^)]+)\\)","g");null!==(t=i.exec(e));){var o=e.slice(0,t.index);o&&n.push({type:"normalText",value:o}),n.push({type:"linkText",value:t[1],ref:t[2]}),e=e.slice(t.index+t[0].length)}return e&&n.push({type:"normalText",value:e}),n.map((function(e){var t,n=e.type,i=e.value,o=e.ref;switch(n){case"normalText":return Ae(r||(r=y(["<span>","</span>"])),i);case"linkText":return Ae(a||(a=y(['<a class="tiktok-cookie-vendor-context-ref" href="','" target="_blank" rel="noopener noreferrer">',"</a>"])),null!=(t=o)?t:Te,i);default:return Te}}))}},{key:"render",value:function(){var e,t,n=this,i=this.locale,o=void 0===i?"en":i,r=null!==(t=null===(e=this.userConfig)||void 0===e?void 0:e.i18n)&&void 0!==t?t:{},a=r.cookieSettingsTitle,h=void 0===a?"":a,d=r.cookieSettingSaveBtn,p=void 0===d?"":d,v=r.cookieSettingsSubTitle,g=void 0===v?"":v;if(!this.deferredVisible&&!this.visible)return Te;var m=lu.getSettings();return Ae(s||(s=y(["<style>:host{",'}</style><div class="','" style="','"><div ',' class="','"></div><div class="','"><section class="tiktok-cookie-setting-modal"><div class="tiktok-cookie-setting-header-container">','<div class="tiktok-cookie-setting-modal-close" @click="','" .innerHTML="','"></div></div><div class="tiktok-cookie-setting-modal-description-container"><div class="tiktok-cookie-setting-modal-description"><p class="tiktok-cookie-manage-tip-context">',"</p></div></div><div ",' class="tiktok-cookie-setting-content">','</div><div class="tiktok-cookie-setting-footer"><button class="tiktok-cookie-setting-footer-btn-primary" @click="','">',"</button></div></section></div></div>"])),this.customTheme,Ze({"tiktok-cookie-setting-portal":!0,"is-rtl":nt.includes(o)}),Ou({zIndex:"".concat(this.zIndex)}),ku(this.modalBackdropRef),Ze({"tiktok-cookie-setting-backdrop":!0,visible:this.visible&&this.deferredVisible}),Ze({"tiktok-cookie-setting-modal-container":!0,visible:this.visible&&this.deferredVisible}),h,this.handleClose,'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M21.1718 23.9999L10.2931 13.1212C9.90261 12.7307 9.90261 12.0975 10.2931 11.707L11.7074 10.2928C12.0979 9.90228 12.731 9.90228 13.1216 10.2928L24.0002 21.1715L34.8789 10.2928C35.2694 9.90228 35.9026 9.90228 36.2931 10.2928L37.7073 11.707C38.0979 12.0975 38.0979 12.7307 37.7073 13.1212L26.8287 23.9999L37.7073 34.8786C38.0979 35.2691 38.0979 35.9023 37.7073 36.2928L36.2931 37.707C35.9026 38.0975 35.2694 38.0975 34.8789 37.707L24.0002 26.8283L13.1216 37.707C12.731 38.0975 12.0979 38.0975 11.7074 37.707L10.2931 36.2928C9.90261 35.9023 9.90261 35.2691 10.2931 34.8786L21.1718 23.9999Z"></path></svg>',this.renderVendorDescription(g),ku(this.scrollableListRef),m.map((function(e){return Ae(c||(c=y(['<div class="','"><h1 class="tiktok-cookie-vendor-group-name"><div class="tiktok-cookie-vendor-group-name-outside with-hover-effect" @click="','">',' <i class="','" .innerHTML="','"></i></div><span class="tiktok-cookie-vertical-info-icon" .innerHTML="','"></span></h1><cookie-setting-switch .value="','" .disabled="','" @checkedChange="','"></cookie-setting-switch></div>'," ",""])),Ze({"tiktok-cookie-vendor-group":!0,"show-detail":n.expandRowKeys.includes(e.groupName)}),(function(){return n.handleCookieClick(e.groupName,!0)}),e.groupName,Ze({"tiktok-cookie-setting-info-icon":!0,hide:!n.expandRowKeys.includes(e.groupName)}),rt,at,!!e.disabled||function(e){var t=e.reduce((function(e,t){return b(b({},e),{},k({},t,n.cookieConsent[t]))}),{});return Object.values(t).every((function(e){return Boolean(e)}))}(lu.getSettingItemKeys(e.items,e.groupEntityKeys)),e.disabled,(function(t){e.disabled||n.disagreeToAll({value:t.detail,groupName:e.groupName})}),n.expandRowKeys.includes(e.groupName)?Ae(l||(l=y(['<div class="tiktok-cookie-setting-desc">',"</div>"])),e.groupDescription):Te,lu.getSettingItemKeys(e.items).map((function(t){var i,o;return Ae(u||(u=y(['<div class="tiktok-cookie-vendor-container"><div class="tiktok-cookie-vendor"><div class="tiktok-cookie-vendor-label-outside with-hover-effect" @click="','"><p class="tiktok-cookie-vendor-label">',' <i class="','" .innerHTML="','"></i></p></div><span class="tiktok-cookie-vertical-info-icon" .innerHTML="','"></span><cookie-setting-switch .value="','" .disabled="','" @checkedChange="','"></cookie-setting-switch></div>',"</div>"])),(function(){return n.handleCookieClick(t,!1)}),(null===(i=e.items[t])||void 0===i?void 0:i.vendorName)||"",Ze({"tiktok-cookie-setting-info-icon":!0,hide:!n.expandRowKeys.includes(t)}),rt,at,Boolean(n.cookieConsent[t]),e.disabled,(function(){e.disabled||n.disagreeToOne(t)}),n.expandRowKeys.includes(t)?Ae(f||(f=y(['<p class="tiktok-cookie-vendor-context">',"</p>"])),n.renderVendorDescription(null===(o=e.items[t])||void 0===o?void 0:o.description)):Te)})))})),this.handleSave,p)}}]),n}(Ve);function Pu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer.push(arguments)}Nu.styles=Q(Ru),V([et({attribute:"z-index"})],Nu.prototype,"zIndex",void 0),V([et({converter:function(e){return"true"===e}})],Nu.prototype,"visible",void 0),V([et({attribute:"user-config-ele-id"})],Nu.prototype,"userConfigEleId",void 0),V([et()],Nu.prototype,"locale",void 0),V([tt()],Nu.prototype,"deferredVisible",void 0),V([tt()],Nu.prototype,"userConfig",void 0),V([tt()],Nu.prototype,"cookieConsent",void 0),V([tt()],Nu.prototype,"expandRowKeys",void 0),V([tt()],Nu.prototype,"customTheme",void 0),Nu=V([Qe("cookie-setting-modal")],Nu),window.dataLayer=window.dataLayer||[];var ju=new(function(){function e(){L(this,e)}return F(e,[{key:"defaultGrantAll",value:function(){Pu("consent","default",{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})}},{key:"defaultDenyAll",value:function(){Pu("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}},{key:"updateGrantAll",value:function(){Pu("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})}},{key:"updateDenyAll",value:function(){Pu("consent","update",{ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}},{key:"initializeWithConsent",value:function(e){e.ga?this.defaultGrantAll():this.defaultDenyAll()}},{key:"updateWithConsent",value:function(e){e.ga?this.updateGrantAll():this.updateDenyAll()}}]),e}());[["tiktok-display-bold","TikTokDisplayFont-Bold.woff2?_default_font=1&v=2"],["tiktok-display-regular","TikTokDisplayFont-Regular.woff2?_default_font=1&v=2"],["tiktok-display-medium","TikTokDisplayFont-Semibold.woff2?_default_font=1&v=2"],["tiktok-text-bold","TikTokFont-Bold.woff2?_default_font=1&v=2"],["tiktok-text-regular","TikTokFont-Regular.woff2?_default_font=1&v=2"],["tiktok-text-medium","TikTokFont-SEMIBOLD.woff2?_default_font=1&v=2"]].forEach((function(e){var t=S(e,2),n=t[0],i=t[1];!function(e,t){var n=document.querySelector("style[data-tiktok-cookie-banner-font='".concat(e,"']"));n||((n=document.createElement("style")).setAttribute("data-tiktok-cookie-banner-font",e),n.innerHTML='\n  @font-face {\n    font-family: "'.concat(e,'";\n    src: url("').concat(t,'");\n    font-display: swap;\n  }\n    '),document.head.appendChild(n))}(n,"".concat(ot).concat(i))})),function(){var e,t=null===(e=document.currentScript)||void 0===e?void 0:e.src;t&&window.addEventListener("error",(function(e){e instanceof ErrorEvent&&e.filename===t&&Kn("cookie_banner_js_error",b(b({},Ln(e.error,["name","message","stack"])),Ln(e,["filename","lineno","colno"])))}))}();var Uu=function(e){T(i,e);var t,n=O(i);function i(){var e;return L(this,i),(e=n.apply(this,arguments)).disabled=!1,e.disabledAccessKey="",e.i18n={},e.disabledByPolicy=!1,e.settingVisible=!1,e.forceUpdater=1,e.disabledAccessKeyConfig=[],e.customTheme="",e.region="",e.isFTC=!1,e.previousShow=!1,e.isEffective=!1,e}return F(i,[{key:"showCookieBanner",get:function(){var e=!this._disabledByAccessKey()&&!this.disabledByPolicy&&lu.isShowCookieBanner({isEffective:this.isEffective,isFTC:this.isFTC});return e!==this.previousShow&&(e&&Kn("cookie_banner_show"),this._sendEvent("bannerEvents",{type:e?"show":"hide"}),this.previousShow=e),e}},{key:"reload",value:(t=D(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.requestUpdate();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"connectedCallback",value:function(){w(P(i.prototype),"connectedCallback",this).call(this);try{var e=uu(this.userConfigEleId,this.locale);if(!e)return;Kn("cookie_banner_load");var t=e.i18n,n=e.region,o=e.isFTC,r=e.disabled,a=e.isEffective,s=e.consent,c=e.disabledAccessKeys,l=e.consentApiDomain,u=e.customTheme;iu({config:s,region:n,consentApiDomain:l}),Object.assign(this,{i18n:t,region:n,isFTC:o,disabledByPolicy:r,isEffective:a,disabledAccessKeyConfig:c,customTheme:u});var f=lu.getCookieConsents({isEffective:a,isFTC:o});ju.initializeWithConsent(f),this._execConsentsGetCallback(f),this.cookieConsent=f,this._updatePumbaaContext(a,o),this._updateLocalStorage(a,o)}catch(e){console.error(e)}}},{key:"updated",value:function(e){if(e.has("locale")){var t=uu(this.userConfigEleId,this.locale);(null==t?void 0:t.i18n)&&(this.i18n=t.i18n)}}},{key:"_disabledByAccessKey",value:function(){var e,t=this;try{return!!(this.disabled&&this.disabledAccessKey&&(null===(e=this.disabledAccessKeyConfig)||void 0===e?void 0:e.length))&&this.disabledAccessKeyConfig.some((function(e){var n=e.path,i=e.accessKeys,o=location.pathname;return new RegExp(n).test(o)&&(i.includes(t.disabledAccessKey)||i.includes("*"))}))}catch(e){return console.error("disabled by access key error, err=".concat(e)),!1}}},{key:"_updatePumbaaContext",value:function(e,t){var n,i,o;try{var r=su(e||t),a=document.head.querySelector('meta[name="pumbaa-ctx"]');a||((a=document.createElement("meta")).name="pumbaa-ctx",document.head.appendChild(a)),a.content="".concat(a.content?a.content+",":"","cb_enabled=").concat(r),(null===(n=window.__PNS_RUNTIME__)||void 0===n?void 0:n.updateContext)&&(null===(o=(i=window.__PNS_RUNTIME__).updateContext)||void 0===o||o.call(i,{cb_enabled:r}))}catch(e){console.error("update pumbaa context error"),console.error(e)}}},{key:"_updateLocalStorage",value:function(e,t){try{var n=su(e||t);localStorage.setItem(st,n)}catch(n){console.error("update local is effective error"),console.error(n),this._updateWindow(e,t)}}},{key:"_updateWindow",value:function(e,t){try{var n=su(e||t);window[st]=n}catch(e){console.error("window - update local is effective error"),console.error(e)}}},{key:"_execConsentsGetCallback",value:function(e){window.gtm_permission=e;var t={region:this.region,isFTC:this.isFTC,isEffective:this.isEffective};this._sendEvent("bannerEvents",{type:"consentGet",payload:[e,t]}),this._sendEvent("getConsent",{payload:{cookieConsent:e,consentOptions:t}})}},{key:"_handleDescClick",value:function(e){var t=e.target;if(t instanceof HTMLAnchorElement){var n=t.href;if(!n)return;n.includes("policy")?Kn("cookie_banner_go_to_policy"):n.includes("cookie-settings")&&(e.preventDefault(),this._openSettingModal())}}},{key:"_handleConfirm",value:function(){var e=this.i18n.cookieBannerSaveToast,t=lu.setFullConsents();ju.updateWithConsent(t),this._execConsentsGetCallback(t),this._sendEvent("bannerEvents",{type:"accept"}),this.cookieConsent=t,Du(e),Kn("cookie_banner_accept")}},{key:"_handleDecline",value:function(){var e=this.i18n.cookieBannerSaveToast,t=lu.setEmptyConsents();ju.updateWithConsent(t),this._execConsentsGetCallback(t),this._sendEvent("bannerEvents",{type:"decline"}),this.cookieConsent=t,Du(e),Kn("cookie_banner_decline")}},{key:"_handleSave",value:function(e){var t=e.detail,n=this.i18n.cookieBannerSaveToast;ju.updateWithConsent(t),this._execConsentsGetCallback(t),this._sendEvent("bannerEvents",{type:"save",payload:[t]}),this.cookieConsent=t,Du(n)}},{key:"_sendEvent",value:function(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}},{key:"_openSettingModal",value:function(){this.settingVisible=!0,Kn("cookie_banner_go_to_settings")}},{key:"render",value:function(){var e=this,t=this.locale,n=void 0===t?"en":t,i=this.i18n,o=i.cookieBannerTitle,r=void 0===o?"":o,a=i.cookieBannerSubTitle,s=void 0===a?"":a,c=i.cookieBannerBtnDecline,l=void 0===c?"":c,u=i.cookieBannerBtnAccept,f=void 0===u?"":u,v=i.cookieBannerBtnSetting,g=void 0===v?"":v,m=this.showCookieBanner?Ae(h||(h=y(['<div class="','"><div class="cookie-content"><p class="cookie-title">','</p><p class="cookie-desc" @click="','" .innerHTML="','"></p></div><div class="button-wrapper">',' <button type="button" @click="','">','</button> <button type="button" @click="','">',"</button></div></div>"])),Ze({"tiktok-cookie-banner":!0,"is-rtl":nt.includes(n)}),r,this._handleDescClick,s,g?Ae(d||(d=y(['<button type="button" @click="','">',"</button>"])),this._openSettingModal,g):Te,this._handleDecline,l,this._handleConfirm,f):Te;return Ae(p||(p=y(["<style>:host{","}</style>",'<cookie-setting-modal .visible="','" .userConfigEleId="','" .locale="','" @close="','" @save="','"></cookie-setting-modal>'])),this.customTheme,m,this.settingVisible,this.userConfigEleId,this.locale,(function(){return e.settingVisible=!1}),this._handleSave)}}]),i}(Ve);Uu.styles=Q(Tu),V([et()],Uu.prototype,"locale",void 0),V([et({attribute:"user-config-ele-id"})],Uu.prototype,"userConfigEleId",void 0),V([et({converter:function(e){return"true"===e}})],Uu.prototype,"disabled",void 0),V([et({attribute:"disabled-access-key"})],Uu.prototype,"disabledAccessKey",void 0),V([tt()],Uu.prototype,"i18n",void 0),V([tt()],Uu.prototype,"userConfig",void 0),V([tt()],Uu.prototype,"cookieConsent",void 0),V([tt()],Uu.prototype,"disabledByPolicy",void 0),V([tt()],Uu.prototype,"settingVisible",void 0),V([tt()],Uu.prototype,"forceUpdater",void 0),V([tt()],Uu.prototype,"disabledAccessKeyConfig",void 0),V([tt()],Uu.prototype,"customTheme",void 0),Uu=V([Qe("tiktok-cookie-banner")],Uu)}();
//# sourceMappingURL=default.ttp.esm.js.map
