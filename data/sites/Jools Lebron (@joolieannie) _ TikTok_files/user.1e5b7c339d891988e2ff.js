"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6806],{15906:(e,t,i)=>{i.d(t,{B:()=>v});var n=i(2787),a=i(40099),o=i(11060),r=i(20813),l=i(89787),s=i(15068),d=i(6874),c=i(63244),u=i(24642),p=i(33688),h=i(73998),g=i(22588),m=i(59673),f=i(87895),_=i(22611);const b="three_column",v=(0,a.memo)((function({isOnTabBar:e}){const t=(0,d.s)(),i=(0,o.W6)(),v=(0,s.useStatusToast)(),[{isFetching:y},x]=(0,p.I)(s.createCollectionAtom,{resetStateBeforeDispatch:!0}),[C,k]=(0,f.B6)(),[w,I]=(0,h._K)((e=>e.list.length>0)),S=(0,s.useCollectionInfoListState)((e=>{var t;return BigInt(null!==(t=e.total)&&void 0!==t?t:0)>0})),T=e?"small":"medium",P=e?"secondary":"primary",D=(0,a.useMemo)((()=>{var e,t;return null!==(t=null===(e=(0,c.x)().user)||void 0===e?void 0:e.uniqueId)&&void 0!==t?t:""}),[]),[Y,F]=(0,a.useState)(!1),[L,j]=(0,a.useState)(!1),[E,U]=(0,a.useState)(""),[M,O]=(0,a.useState)(!1),B=(0,a.useCallback)((e=>{const t=(0,_.w)(D,E,e);i.push(t)}),[i,D,E]),z=(0,a.useCallback)((e=>{F(!1),j(!1),u.f.sendEvent("collection_create_success",{video_selection:"added_videos",play_mode:b}),B(e)}),[B]),[A,q]=(0,m.l)({onSuccess:z,enterMethod:"collection_creation",playMode:b}),R=y||A,W=(0,a.useCallback)((({statusCode:e,collectionIdString:i})=>{if(0===e&&i)if(F(!1),j(!1),0===C.size){const e=w?"did_not_select":"no_candidate";u.f.sendEvent("collection_create_success",{video_selection:e,play_mode:b}),v({success:!0,message:t("collectionsProfilePage_collectionsPage_topSection_collectionToast")}),B(i)}else q(i,C);else v({success:!1,message:t("Sorry, something wrong with the server, please try again.")})}),[C,w,v,t,B,q]),N=(0,a.useCallback)((()=>{return e=this,t=void 0,n=function*(){yield x({collectionName:E.trim(),collectionStatus:M?3:1},W)},new((i=void 0)||(i=Promise))((function(a,o){function r(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}s((n=n.apply(e,t||[])).next())}));var e,t,i,n}),[E,M,x,W]),V=(0,a.useCallback)((()=>{F(!1),j(!0),u.f.sendEvent("name_collection",{make_public:M?1:0,enter_method:e?"top_right_button":"middle_button",play_mode:b})}),[e,M]),H=(0,a.useCallback)((()=>{j(!1),F(!0)}),[]),$=(0,a.useCallback)((()=>{U(""),O(!1),k.clear(),I.resetCandidates(),j(!1),F(!0),u.f.sendEvent("create_collection",{enter_method:e?"top_right_button":"middle_button",has_collections:S?1:0,play_mode:b})}),[k,I,e,S]),K=(0,a.useCallback)((e=>{u.f.sendEvent("close_create_collection",{stage:e,play_mode:b})}),[]),G=(0,a.useCallback)((e=>{F(e),e||L||K("naming stage")}),[L,K]),Z=(0,a.useCallback)((e=>{j(e),e||Y||K(w?"select videos stage":"no videos to select")}),[Y,K,w]);return(0,n.FD)("div",{children:[(0,n.Y)(l.I05,{leadingIcon:(0,n.Y)(r.l,{}),label:t("create_new_collection_btn"),size:T,variant:P,onClick:$,"data-e2e":"collection-action-create","aria-label":t("create_new_collection_btn")}),(0,n.Y)(s.ModifyCollectionModal,{open:Y,onOpenChange:G,name:E,onNameChange:U,isPublic:M,onIsPublicChange:O,onNext:V}),(0,n.Y)(g.l,{isFromCreateCollection:!0,open:L,onOpenChange:Z,onPrev:H,onCommit:N,loading:R})]})}))},22611:(e,t,i)=>{i.d(t,{w:()=>o});var n=i(11060),a=i(37734);function o(e,t,i){return(0,n.tW)(a.OZ.collection,{uniqueId:e,title:encodeURIComponent(t),id:i})}},20266:(e,t,i)=>{i.d(t,{W:()=>p});var n=i(2787),a=i(52964),o=i(69750),r=i(12869),l=i(6555),s=i(15346),d=i(40099),c=i(84830),u=i(95715);const p=(0,d.memo)((function({relation:e,uniqueId:t,nickname:i,style:p={},hideMutualIcon:h=!1,teaParams:g}){var m;const{user:f}=null!==(m=(0,a.W)((()=>["user"]),[]))&&void 0!==m?m:{},_=(0,d.useRef)(null),b=!!f&&t===f.uniqueId,v=(0,o.K)({query:{enter_method:"click_follow"}}),{handleFollow:y,text:x,isFollowing:C,relation:k}=(0,r.Tu)({uniqueId:t,teaParams:g,onNeedLogin:v}),[w,I]=(0,d.useState)(!1),S=3===k,T=4===k,P=C&&!(null==f?void 0:f.hasIMPermission),D=T||S||P||C&&(null==f?void 0:f.hasIMPermission);(0,d.useEffect)((()=>{T&&s.h.handleBlockShow(!T)}),[T]);const Y=(0,d.useCallback)((()=>{I(!0)}),[]),F=(0,d.useCallback)((()=>{I(!1)}),[]),L=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),T?Y():y(e)}),[T,Y,y]);return(0,n.FD)(n.FK,{children:[!b&&(0,n.Y)(u.s5,{ref:_,children:(0,n.FD)(u.lZ,{size:"small",buttonTheme:D?"default":"primary","data-e2e":"follow-button",onClick:L,style:p,"aria-label":`${x} ${i}`,isButtonDefaultStyle:null!=D&&D,children:[2!==e||h?null:(0,n.Y)(c.Yn,{}),x]})}),(0,n.Y)(l.j,{visible:w,uniqueId:t,onClose:F})]})}))},95715:(e,t,i)=>{i.d(t,{lZ:()=>c,rO:()=>l,s5:()=>s});var n=i(98151),a=i(78004),o=i(58302),r=i(85991);const l=(0,n.default)(o.I0,{target:"e1bph0nm0"})((({theme:{colors:e}})=>({padding:"4px 8px",borderRadius:"4px",borderColor:e.ConstTextInverse2,minWidth:"unset",height:"unset","> div":{minWidth:"38px",height:"15px",fontWeight:"bold",fontSize:"12px"}})),"label:StyledFollowButton;"),s=(0,n.default)("div",{target:"e1bph0nm1"})((({hide:e})=>[{display:e?"none":"1"}]),"label:DivFollowButtonWrapperV2;");function d(e,t){return e?{borderRadius:"8px",backgroundColor:t.BGInput,borderStyle:"none",":hover":{backgroundColor:t.BGInput2}}:{borderRadius:"8px"}}const c=(0,n.default)(r.y,{target:"e1bph0nm2"})((({isButtonDefaultStyle:e,theme:t})=>[(0,a.zy)({theme:t,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"16px",flex:1,lineHeight:"36px"},d(e,t.colors)]),"label:StyledFollowButtonV2;")},21483:(e,t,i)=>{i.d(t,{oU:()=>C,yo:()=>k,lD:()=>I,s5:()=>w});var n=i(2787),a=i(53602),o=i(67518),r=i(6874),l=i(50453),s=i(62209),d=i(40099),c=i(24643),u=i(23594);const p={id:"bookmark-23c42bb3",use:"bookmark-23c42bb3-usage",viewBox:"0 0 72 72",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" id="bookmark-23c42bb3"><path fill="currentColor" d="m36.206 48.785 24.891 18.36V7.676c0-1.317-.406-2.162-.884-2.658-.463-.482-1.25-.903-2.563-.903H14.762c-1.313 0-2.1.421-2.564.903-.478.496-.884 1.34-.884 2.657v59.472zm0 3.835L11.944 70.516a2.331 2.331 0 0 1-3.715-1.877V7.674c0-3.934 2.481-6.646 6.533-6.646H57.65c4.051 0 6.533 2.712 6.533 6.646V68.64a2.331 2.331 0 0 1-3.716 1.876z" /></symbol>'};var h=i(22653),g=i(59695),m=i(76068),f=i(44529),_=i(98151),b=i(89787);const v=(0,_.default)("div",{target:"e1brhnzw0"})((()=>({height:"92px",width:"92px",backgroundColor:b.Tj4.UISheetFlat2,color:b.Tj4.UIText1,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"})),"label:DivErrorIconWrapper;"),y=(0,n.Y)(a.A,Object.assign({},h.LR)),x=(0,n.Y)((function(e){const t=(0,d.useContext)(u.X);return(0,d.useLayoutEffect)((()=>(t.add(p),()=>{t.remove("bookmark-23c42bb3")})),[]),(0,c.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,c.jsx)("use",{xlinkHref:"#bookmark-23c42bb3"},void 0)}),void 0)}),Object.assign({},h.I9)),C=({Icon:e})=>(0,n.Y)(v,{children:(0,n.Y)(e,{size:"44px"})}),k=(0,d.memo)((function({detailInfo:{statusCode:e}}){const t=(0,m.M_)(),i=(0,g.tg)(),a=(0,d.useCallback)((()=>{t.setUniqueId(void 0),t.getUserInfo(Object.assign({},i))}),[t,i]);return(0,n.Y)(h.QW,{statusCode:e,iconElement:y,onRefresh:a})})),w=(0,d.memo)((function({listInfo:{statusCode:e},detailInfo:t,listKey:i}){var a;const o=(0,f.Ag)(),r=(0,d.useCallback)((()=>{var e,n;o.resetItemList(i),o.getItemList(i,{secUid:null!==(n=null===(e=t.user)||void 0===e?void 0:e.secUid)&&void 0!==n?n:""})}),[o,null===(a=t.user)||void 0===a?void 0:a.secUid,i]);return(0,n.Y)(h.QW,{statusCode:e,iconElement:y,onRefresh:r})})),I=(0,d.memo)((function({listKey:e,detailInfo:t}){const i=(0,r.s)(),{uniqueId:a,secUid:c}=(0,l.L)(t.user),{colors:u}=(0,o.u)(),{isInProductHoldout:p}=(0,s.Vv)(),m=!p,f=(0,g.b3)({uniqueId:a,secUid:c}),_=(0,d.useMemo)((()=>"favorites"===e?(0,n.Y)("div",{style:{color:u.Primary2},children:x}):m?(0,n.Y)(C,{Icon:b.OBN}):y),[e,u]),v=(0,d.useMemo)((()=>"user-post"===e?f?{title:i("profile_personal_no_content_title"),desc:i("profile_personal_no_content_body")}:{title:i("profile_no_content_title"),desc:i("profile_no_content_des")}:"favorites"===e?{title:i("fc_view_empty_videos_title"),desc:i("fc_view_fav_empty_videos_desc")}:"user-liked"===e?f?{title:i("profile_public_nolikes_title"),desc:i("profile_self_public_nolikes")}:{title:i("profile_public_nolikes_title"),desc:i("profile_others_public_nolikes").replace("%s",a)}:{title:"",desc:""}),[f,e,i,a]);return(0,n.Y)(h.LL,{iconElement:_,emptyTip:v})}))},86122:(e,t,i)=>{i.d(t,{V:()=>h});var n=i(2787),a=i(53602),o=i(20986),r=i(6874),l=i(50453),s=i(62209),d=i(89787),c=i(22653),u=i(59695),p=i(21483);function h({user:e,listKey:t}){const i=(0,r.s)(),{relation:h,openFavorite:g,uniqueId:m="",privateAccount:f,secret:_,secUid:b}=(0,l.L)(e),v=null!=f?f:_,y=(0,u.b3)({uniqueId:m,secUid:b}),{isInProductHoldout:x}=(0,s.Vv)(),C=!x;return 4===h?{title:i("profile_no_content_title"),desc:i("profile_others_blocked_post_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(a.A,Object.assign({},c.LR))}:5===h?{title:i("profile_no_content_title"),desc:i("profile_others_block_post_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(a.A,Object.assign({},c.LR))}:v&&!y&&1!==h&&2!==h?{title:i("This account is private"),desc:i("profile_others_private_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(a.A,Object.assign({},c.LR))}:"user-liked"!==t||g||y?null:{title:i("profile_others_like_private_title"),desc:i("profile_others_like_private_body").replace("%s",m),icon:(0,n.Y)("div",{"data-e2e":"like-lock-icon",style:{display:"flex"},children:(0,n.Y)(o.A,Object.assign({},c.LR))}),isLikePrivate:!0}}},84830:(e,t,i)=>{i.d(t,{QD:()=>p,XT:()=>s,Yn:()=>c,iH:()=>d,rO:()=>h,tR:()=>g,xI:()=>u});var n=i(98151),a=i(77694),o=i(62738),r=i(78004),l=i(85991);const s=(0,n.default)("div",{target:"e18e4obn0"})((({theme:e})=>[(0,r.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P1"}),{position:"relative",width:"208px",height:"36px",padding:"0",margin:"0",marginTop:"16px"}]),"label:DivShareFollowContainer;"),d=(0,n.default)("div",{target:"e18e4obn1"})((({hide:e,status:t})=>{const i=t===a.ns||t===a._K,n=t===a.ns||t===a.ze;return[{display:"flex",position:"absolute",left:"0",top:"0",opacity:Number(i),zIndex:e?-1:"unset"},n?{transition:"opacity 0.5s"}:null]}),"label:DivMessageContainer;"),c=(0,n.default)(o.A,{target:"e18e4obn2"})((({theme:{direction:e}})=>(0,r.mp)({direction:e,marginEnd:8})),"label:StyledArrowLeftRight;"),u=(0,n.default)(l.y,{target:"e18e4obn3"})((({theme:{direction:e}})=>[{height:"36px",lineHeight:"22px"},(0,r.mp)({direction:e,marginEnd:8})]),"label:StyledMessageButton;"),p=(0,n.default)("div",{target:"e18e4obn4"})((({hide:e,status:t})=>{const i=t===a.ns||t===a._K,n=t===a.ns||t===a.ze;return[{position:"absolute",left:"0",top:"0",minWidth:"208px",height:"36px",lineHeight:"22px",zIndex:e?-1:"unset",opacity:Number(i)},n?{transition:"opacity 0.5s"}:null]}),"label:DivFollowButtonWrapper;"),h=(0,n.default)(l.y,{target:"e18e4obn5"})({minWidth:"208px",lineHeight:"22px"},"label:StyledFollowButton;"),g=(0,n.default)("div",{target:"e18e4obn6"})((({theme:{direction:e,colors:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",width:"36px",height:"36px",border:"1px solid rgba(22, 24, 35, .12)",borderRadius:"4px",cursor:"pointer",position:"relative",backgroundColor:t.BGSecondary2,float:(0,r.t7)(e,"end"),":hover":{backgroundColor:t.BGView}}]),"label:DivFollowIconContainer;")},61232:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_l});var n=i(2787),a=i(72268),o=i.n(a),r=i(40099),l=i(11060),s=i(93796),d=i(27885),c=i(6874),u=i(60417),p=i(58632),h=i(57938),g=i(7130),m=i(87407);const f=(e,t)=>{const[i,n]=(0,m.useAtom)(g.K);(0,r.useEffect)((()=>{let a=null;function o(){a&&(clearTimeout(a),a=null)}return e&&"0"!==e?(function r(){var l;return(0,p.__awaiter)(this,void 0,void 0,(function*(){if(i.isError)return void o();const s=yield(0,h.R)({room_ids:e,enter_from:t}),d=null===(l=s.data)||void 0===l?void 0:l.find((t=>t.alive&&t.room_id_str===e));n(Object.assign(Object.assign({},i),{isLive:!!d})),o(),a=setTimeout((()=>{r()}),1e4)}))}(),n(Object.assign(Object.assign({},i),{isLive:!0}))):n(Object.assign(Object.assign({},i),{isLive:!1})),()=>{o()}}),[i.isError,e])};var _=i(59590),b=i(19086),v=i(24643),y=i(85420),x=i(15835),C=i(13549),k=i(25695),w=i(43823),I=i(50453),S=i(52964),T=i(91244),P=i(16392);const D=e=>{const{items:t,detail:i,musicList:n}=e,a=(0,w.wW)(),o=(0,c.s)(),{language:r,appType:l}=(0,I.L)((0,S.W)((()=>["language","appType"]),[])),s=(0,k.w)(T.e),d=(0,m.useSetAtom)(x.b);return(0,C.o)((()=>(0,p.__awaiter)(void 0,void 0,void 0,(function*(){var e,c;const{statusCode:u}=i;if(-1!==u){const p={language:r},h=Object.assign(Object.assign(Object.assign({},i),p),{musicList:n,statusCode:u,seoProps:{pageId:null!==(c=null===(e=i.userInfo)||void 0===e?void 0:e.user.id)&&void 0!==c?c:"",pageType:1,abtest:a},items:t,t:o}),g=yield(0,P.G)(h,y.f),{metaParams:m={},jsonldList:f=[]}=g;return d({metaParams:m,jsonldList:f}),s.setUserSharingMetaEffect({seoProps:g,response:i,appType:l})}}))),[l,r,i]),(0,v.jsx)(v.Fragment,{})};var Y=i(72531),F=i(47218),L=i(68407),j=i(52354),E=i(40517),U=i(17565),M=i(22653),O=i(62382),B=i(67518),z=i(63077),A=i(76274),q=i(4383),R=i(65649),W=i(85991),N=i(89449),V=i(98901),H=i(12926),$=i(35239),K=i(89367),G=i(65273),Z=i(64655),X=i(37967),J=i(96235),Q=i(21515);const ee=(0,Z.EY)("create_video_playlist")((0,r.memo)((()=>{const[{list:e},t]=(0,k.S)(A.O,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),{showBrowserMode:i}=(0,r.useContext)(G.g),a=(0,r.useCallback)((e=>()=>{i({index:e,itemListKey:"create_video_playlist",playProgress:0,reportTeaParams:{}})}),[i]),o=(0,r.useCallback)((({id:e,index:t})=>(0,n.Y)(J.$E,{target:"_blank",rel:"opener",needPostDragIcon:!0,id:e,index:t,onClickVideoItem:a(t)},e)),[a]),l=(0,r.useCallback)((i=>{if(!i.destination)return;const n=(0,X.Y)(e,i.source.index,i.destination.index);t.setItemListById({key:"create_video_playlist",list:n})}),[t,e]);return(0,n.Y)(Q.er,{children:(0,n.Y)(X.q,{onDragEnd:l,renderItem:o,list:e})})})));var te=i(64162),ie=i(4126),ne=i(93995),ae=i(42051),oe=i(8536),re=i(23999),le=i(72916),se=i(20259),de=i(74690),ce=i(80339),ue=i(26324),pe=i(73075),he=i(38203),ge=i(76031),me=i(27066),fe=i(79490);let _e=class{constructor(e){this.fetch=e}createPlaylistWithItems(e){var t;return this.fetch.post("/api/playlist/create_with_items/",{baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken},body:ge.stringify({name:e.name,itemIds:null!==(t=e.itemIds)&&void 0!==t?t:""})})}};_e=(0,p.__decorate)([(0,he._)(),(0,p.__metadata)("design:paramtypes",[fe.pM])],_e);var be=i(60696),ve=i(41420),ye=i(52489),xe=i(76068);let Ce=class extends te.E{constructor(e,t,i,n){super(),this.service=e,this.itemList=t,this.t=i,this.jotaiStore=n,this.defaultState={loading:!1,statusCode:0}}setLoading(e,t){e.loading=t}setStatusCode(e,t){e.statusCode=t}setPlaylist(e,t){(0,ve.MA)().setPlaylist(t)}setPlaylistItem(e,t){(0,ye.iy)().setPlaylistItem(t)}setProfileState(e,t){(0,xe.$4)().setProfileState(t)}resetCreatePlaylistState(e){return e.pipe((0,oe.Z)((()=>(0,re.of)(this.getActions().dispose$(),this.getActions().setLoading(!1),this.getActions().setStatusCode(0)))))}createPlaylistWithItems(e){return e.pipe((0,le.n)((({name:e,cover:t,itemIds:i=[],creator:n})=>{const a=this.jotaiStore.get(ve.c8),o={name:e,cover:t,itemIds:null==i?void 0:i.join(",")};return this.service.createPlaylistWithItems(o).pipe((0,se.W)((()=>(0,re.of)({statusCode:-1,playlistId:"",statusMsg:""}))),(0,oe.Z)((({statusCode:o,playlistId:r="",statusMsg:l=""})=>{const s=0===o?"1":"0",d=i.length;if(R.c.handlePostCreatingPlaylist({status:s,fail_reason:l,video_cnt:d,playlist_id:r}),R.c.handleAddPlaylistVideo({enter_method:"create_playlist",video_cnt:d,playlist_id:r,video_list:i.join(","),status:s}),206001===o)return Y.F.open({content:this.t("playlist_webapp_toast_error_cheatPlaylist"),duration:3,widthType:"half"}),(0,re.of)(this.noop());if(0!==o&&206002!==o)return Y.F.open({content:this.t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"}),(0,re.of)(this.noop());const{playList:c=[]}=a,u={id:r,name:e,mixId:r,mixName:e,cover:t,videoCount:d,creator:n};return Y.F.open({content:this.t("playlist_webapp_toast_created"),type:"success",duration:3,widthType:"half"}),(0,re.of)(this.getActions().setStatusCode(o),this.getActions().setPlaylist(Object.assign(Object.assign({},a),{playList:[r,...c]})),this.getActions().setPlaylistItem(u),this.itemList.getActions().setItemListById({key:r,list:i}),this.itemList.getActions().resetItemList({key:"create_video_playlist"}),this.itemList.getActions().resetItemList({key:"user-post-public",loading:!1}),this.getActions().setProfileState("initial"))})),(0,de.Z)(this.getActions().setLoading(!0)),(0,ce.q)(this.getActions().setLoading(!1)))})))}};(0,p.__decorate)([(0,ie.uk)(),(0,p.__metadata)("design:type",ue.c)],Ce.prototype,"dispose$",void 0),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Boolean]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"setLoading",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"setStatusCode",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Object]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"setPlaylist",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Object]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"setPlaylistItem",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,String]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"setProfileState",null),(0,p.__decorate)([(0,ie.Mj)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[ue.c]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"resetCreatePlaylistState",null),(0,p.__decorate)([(0,ie.Mj)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[ue.c]),(0,p.__metadata)("design:returntype",void 0)],Ce.prototype,"createPlaylistWithItems",null),Ce=(0,p.__decorate)([(0,ne.n)("CreatePlaylistModule"),(0,p.__param)(2,(0,ae.y)(pe.hp)),(0,p.__param)(3,(0,ae.y)(be.J7)),(0,p.__metadata)("design:paramtypes",[_e,A.O,Function,Object])],Ce);const ke=(0,r.memo)((()=>{var e;const t=(0,c.s)(),{isDark:i}=(0,B.u)(),[{targetSecUid:a},o]=(0,xe.dF)((e=>{var t;return{targetSecUid:null!==(t=e.secUid)&&void 0!==t?t:""}}),F.bN),[{loading:l},s]=(0,k.S)(Ce,{selector:e=>({loading:e.loading}),dependencies:[]}),{loading:d=!1,hasMore:u=!0}=(0,I.L)((0,z.P)(A.O,{selector:e=>e["user-post-public"],dependencies:[]})),{user:p,abTestVersion:h,language:g}=(0,I.L)((0,S.W)((()=>["user","abTestVersion","language"]),[])),{uid:m}=(0,I.L)(p),[{list:f=[]},_]=(0,k.S)(A.O,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),b=null!==(e=f[0])&&void 0!==e?e:"",{video:v,author:y=""}=(0,I.L)((0,z.P)(q.k,{selector:e=>e[b],dependencies:[b]})),x=(0,I.L)((0,L.nW)((e=>e.users[y]),F.bN)),{cover:C}=(0,I.L)(v),{playlistName:w,checkSuccess:T}=(0,z.P)(H.m,{selector:e=>({playlistName:e.playlistName,checkSuccess:e.isValid&&e.hasChecked}),dependencies:[]}),P=0===f.length,D=w.length>0&&w.length<=$.F&&T&&!P,[Y,j]=(0,r.useState)(!1),E=(0,r.useCallback)((()=>{j(!0),R.c.handleClickAddPlaylistVideo({enter_method:"create_playlist"})}),[]),U=(0,r.useCallback)((()=>{o.setProfileState("initial")}),[o]);(0,r.useEffect)((()=>()=>_.resetItemList({key:"create_video_playlist"})),[]);const M=(0,r.useCallback)((()=>{!d&&u&&_.getUserVideoListByType({secUid:a,key:"user-post-public",userId:m,abTestVersion:h,language:g,user:p})}),[h,u,_,g,d,a,m,p]),O=(0,r.useCallback)((()=>{l||s.createPlaylistWithItems({name:w,itemIds:f,cover:C,creator:x})}),[C,l,s,x,w,f]);return(0,n.FD)(V.mn,{children:[(0,n.FD)(V.cv,{children:[(0,n.FD)(Q.T,{onClick:U,children:[(0,n.Y)(Q.Ul,{}),t("playlist_webapp_creation_backBtn")]}),(0,n.FD)(Q.wV,{children:[(0,n.Y)(Q.AE,{children:t("playlist_webapp_creation_header_create")}),(0,n.Y)(Q.JX,{children:t("playlist_webapp_creation_desc")}),(0,n.FD)(Q.Y4,{children:[(0,n.Y)(Q.TQ,{children:t("playlist_webapp_upload_dropdown_nameaplaylist")}),(0,n.FD)(Q.iT,{children:[(0,n.Y)(Q.EU,{isRed:w.length>$.F,children:`${w.length}`})," ",(0,n.Y)(Q.EU,{children:` / ${$.F}`})]})]}),(0,n.Y)($.y,{}),(0,n.FD)(Q.Y4,{children:[(0,n.FD)(Q.TQ,{children:[t("videos")," ",f.length>0?`(${f.length})`:""]}),!P&&(0,n.FD)(Q.vx,{onClick:E,children:[(0,n.Y)(Q.iP,{}),t("playlist_webapp_upload_addtoplaylist")]})]}),P&&(0,n.FD)(Q.OA,{onClick:E,children:[i?(0,n.Y)(Q.sJ,{}):(0,n.Y)(Q.S_,{}),(0,n.Y)(Q.RX,{children:t("playlist_webapp_creation_selectvid_desc")})]}),!P&&(0,n.Y)(ee,{}),(0,n.FD)(V.dJ,{children:[(0,n.Y)(W.y,{style:N.i9,onClick:U,children:t("playlist_webapp_creation_btn_cancel")}),(0,n.Y)(W.y,{style:N.i9,disabled:!D,loading:l,buttonTheme:"primary",loadingFill:i?"#fff":void 0,onClick:O,children:t("playlist_webapp_creation_btn_create")})]})]})]}),(0,n.Y)(K.$,{itemListKey:"user-post-public",drawerActive:Y,setDrawerActive:j,onHitBottom:M,selectedVideoListKey:"create_video_playlist"})]})}));var we=i(13301);let Ie=class{constructor(e){this.fetch=e}updateUserProfile(e){return this.fetch.post("/api/update/profile/",{body:(0,ge.stringify)(Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken})),baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken}})}removeBlueV(e){return this.fetch.post("/tiktok/v1/username/save_async/",{body:(0,ge.stringify)({username:e,process_type:1}),baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken}})}checkUniqueId(e){return this.fetch.get("/api/uniqueid/check/",{query:{unique_id:e},baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken}})}uploadImage(e){const t=new FormData;return t.append("file",e),t.append("source","0"),this.fetch.post("/api/upload/image/",{body:t,baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken},omitContentType:!0})}updateUniqueId(e){return this.fetch.post("/passport/web/login_name/update/",{body:(0,ge.stringify)({login_name:e}),baseUrlType:2,headers:{[me.nk]:this.fetch.csrfToken}})}};Ie=(0,p.__decorate)([(0,he._)(),(0,p.__metadata)("design:paramtypes",[fe.pM])],Ie);const Se=-1;var Te,Pe,De,Ye;!function(e){e[e.InitialState=0]="InitialState",e[e.Valid=1]="Valid",e[e.Invalid=2]="Invalid"}(Te||(Te={})),function(e){e[e.IllegalLetter=1027]="IllegalLetter",e[e.SensitiveWord=1028]="SensitiveWord",e[e.Used=1024]="Used",e[e.OnceIn30day=1330]="OnceIn30day",e[e.ServerUpgrading=1331]="ServerUpgrading",e[e.ProfileUnderCertification=1332]="ProfileUnderCertification",e[e.ProfileUnderReview=1333]="ProfileUnderReview"}(Pe||(Pe={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ErrServiceInternal=4]="ErrServiceInternal",e[e.ErrInvalidParam=5]="ErrInvalidParam",e[e.ErrPermissionDenied=7]="ErrPermissionDenied",e[e.ErrHitSharkSlideVerifyCode=3058]="ErrHitSharkSlideVerifyCode",e[e.ErrHitSharkClickVerifyCode=3059]="ErrHitSharkClickVerifyCode",e[e.UserUpdateProfileFailed=2060]="UserUpdateProfileFailed",e[e.UserSignatureTooLong=2080]="UserSignatureTooLong",e[e.UserNicknameTooLong=2079]="UserNicknameTooLong",e[e.ErrNicknameUpdateIllegal=2550]="ErrNicknameUpdateIllegal",e[e.ErrCheckMtUpdateUser=2160]="ErrCheckMtUpdateUser",e[e.MtUpdateProfileIsBan=23]="MtUpdateProfileIsBan",e[e.AccountIsBanned=9]="AccountIsBanned",e[e.UpdateNickNameFailedDueToFrequencyControl=3002265]="UpdateNickNameFailedDueToFrequencyControl",e[e.ECommerceNickNameUpdateFailed=3002328]="ECommerceNickNameUpdateFailed"}(De||(De={})),function(e){e[e.NotAvailable=4]="NotAvailable",e[e.InvalidParameters=5]="InvalidParameters",e[e.SUCCESS=0]="SUCCESS",e[e.OtherError=6]="OtherError"}(Ye||(Ye={}));let Fe=class extends te.E{constructor(e,t){super(),this.service=e,this.accountService=t,this.defaultState={uploadImgCode:Se,uniqueIdValid:0,checkLoading:!1,nickNameValid:0,saveCode:Se,avatarInfo:{url:"",uri:""},newUniqueInfo:{uniqueId:""},checkUniqueIdCode:Se,uploadingFile:!1,updatingProfile:!1}}setUploadImgCode(e,t){e.uploadImgCode=t}SetSaveCode(e,t){e.saveCode=t}SetCheckUniqueIdCode(e,t){e.checkUniqueIdCode=t}setUniqueIdValid(e,t){e.uniqueIdValid=t}setCheckLoading(e,t){e.checkLoading=t}setAvatarInfo(e,t){e.avatarInfo=t}setNewUniqueId(e,t){e.newUniqueInfo=t}setNickNameValid(e,t){e.nickNameValid=t}setUploadingFile(e,t){e.uploadingFile=t}setUpdatingProfile(e,t){e.updatingProfile=t}updateUserProfile(e){return e.pipe((0,le.n)((e=>{const{uniqueId:t,needUpdateUniqueId:i,needRemoveBlueV:n}=e,a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i}(e,["uniqueId","needUpdateUniqueId","needRemoveBlueV"]);return i?this.accountService.updateUniqueId(t).pipe((0,se.W)((()=>(0,re.of)({data:{error_code:1331}}))),(0,oe.Z)((e=>{const{error_code:i}=e,o=[],r=void 0===i,l=1027===i||1028===i||1024===i;return o.push(this.getActions().setUniqueIdValid(l?2:1)),r&&n?this.service.removeBlueV(t).pipe((0,oe.Z)((()=>this.handleUpdateProfile(a,t))),(0,se.W)((()=>this.handleUpdateProfile(a,t)))):r?this.handleUpdateProfile(a,t):(0,re.of)(this.getActions().SetSaveCode(i),this.getActions().setUpdatingProfile(!1),...o)})),(0,de.Z)(this.getActions().setUpdatingProfile(!0))):n?this.service.removeBlueV(t).pipe((0,oe.Z)((()=>this.handleUpdateProfile(a,t))),(0,se.W)((()=>this.handleUpdateProfile(a,t)))):this.handleUpdateProfile(a,t)})))}handleUpdateProfile(e,t){return Object.values(e).some((e=>void 0!==e))?this.service.updateUserProfile(e).pipe((0,se.W)((()=>(0,re.of)({status_code:1331,user:{unique_id:"",secUid:""}}))),(0,oe.Z)((({status_code:e,user:i})=>{const n=[];return 2550===e?n.push(this.getActions().setNickNameValid(2550===e?2:1)):(0===e&&n.push(this.getActions().setNewUniqueId({uniqueId:i.unique_id||t})),n.push(this.getActions().SetSaveCode(e))),(0,re.of)(...n)})),(0,de.Z)(this.getActions().setUpdatingProfile(!0)),(0,ce.q)(this.getActions().setUpdatingProfile(!1))):(0,re.of)(this.getActions().setNewUniqueId({uniqueId:t}),this.getActions().SetSaveCode(0),this.getActions().setUpdatingProfile(!1))}checkUniqueId(e){return e.pipe((0,le.n)((e=>this.service.checkUniqueId(e).pipe((0,se.W)((()=>(0,re.of)({status_code:6,is_valid:!1}))),(0,oe.Z)((({status_code:e,is_valid:t})=>{const i=[];return t&&4!==e?t&&0===e&&i.push(this.getActions().setUniqueIdValid(1)):i.push(this.getActions().setUniqueIdValid(2)),i.push(this.getActions().SetCheckUniqueIdCode(e)),(0,re.of)(...i)})),(0,de.Z)(this.getActions().setCheckLoading(!0)),(0,ce.q)(this.getActions().setCheckLoading(!1))))))}uploadImage(e){return e.pipe((0,le.n)((e=>this.service.uploadImage(e).pipe((0,oe.Z)((({status_code:e,data:t})=>{const i={url:"",uri:""};return t&&(i.uri=t.uri,i.url=t.url_list[0]),(0,re.of)(this.getActions().setAvatarInfo(i),this.getActions().setUploadImgCode(e))})),(0,de.Z)(this.getActions().setUploadingFile(!0)),(0,ce.q)(this.getActions().setUploadingFile(!1))))))}};(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setUploadImgCode",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"SetSaveCode",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"SetCheckUniqueIdCode",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setUniqueIdValid",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Boolean]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setCheckLoading",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Object]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setAvatarInfo",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Object]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setNewUniqueId",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Number]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setNickNameValid",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Boolean]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setUploadingFile",null),(0,p.__decorate)([(0,ie.h5)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[Object,Boolean]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"setUpdatingProfile",null),(0,p.__decorate)([(0,ie.Mj)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[ue.c]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"updateUserProfile",null),(0,p.__decorate)([(0,ie.Mj)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[ue.c]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"checkUniqueId",null),(0,p.__decorate)([(0,ie.Mj)(),(0,p.__metadata)("design:type",Function),(0,p.__metadata)("design:paramtypes",[ue.c]),(0,p.__metadata)("design:returntype",void 0)],Fe.prototype,"uploadImage",null),Fe=(0,p.__decorate)([(0,ne.n)("EditProfileModule"),(0,p.__metadata)("design:paramtypes",[Ie,we.r])],Fe);var Le=i(75431),je=i(98151),Ee=i(28367),Ue=i(78004);const Me=(0,je.default)("div",{target:"e1xjit530"})({width:"400px",padding:"32px",boxSizing:"border-box"},"label:DivContainer;"),Oe=(0,je.default)("p",{target:"e1xjit531"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont",color:"TextPrimary"}),{fontSize:"24px",lineHeight:"36px",textAlign:"center",marginBottom:"16px"}]),"label:PTitle;"),Be=(0,je.default)("p",{target:"e1xjit532"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"16px",lineHeight:"22px",textAlign:"center",marginBottom:"24px"})),"label:PInfo;"),ze=(0,je.default)("ul",{target:"e1xjit533"})({paddingInlineStart:"12px"},"label:UlInfo;"),Ae=(0,je.default)("li",{target:"e1xjit534"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"15px",lineHeight:"18px",marginBottom:"11px",":last-child":{marginBottom:"24px"}})),"label:LiInfo;"),qe=(0,je.default)("div",{target:"e1xjit535"})({display:"flex",justifyContent:"space-between"},"label:DivBtnContainer;"),Re=(0,je.default)(W.y,{target:"e1xjit536"})({minWidth:"164px",height:"48px",fontSize:"16px"},"label:StyledBtn;"),We=(0,je.default)(W.y,{target:"e1xjit537"})({minWidth:"336px",width:"336px",":not(:last-child)":{marginBottom:"12px"}},"label:StyledLargeBtn;"),Ne=(0,je.default)("div",{target:"e1xjit538"})((({theme:{colors:e}})=>({width:"336px",color:e.TextPrimary,fontSize:"16px",lineHeight:"24px",height:"48px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"})),"label:DivTextBtn;"),Ve=(0,Le.i7)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),He=(0,je.default)(Ee.A,{target:"e1xjit539"})({animation:`${Ve} 1s infinite`},"label:StyledProgressCircle;"),$e="48",Ke=[{info:"blue_v_change_username_review_modal_desc",replaceUserNameTag:"%s"},{info:"blue_v_change_name_review_modal_desc",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_review_modal_desc",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],Ge=(0,r.memo)((({onCancel:e,onConfirm:t,changeType:i,username:a,name:o})=>{const l=(0,c.s)(),{updatingProfile:s}=(0,z.P)(Fe),d=(0,r.useCallback)((()=>{e()}),[e]),u=(0,r.useCallback)((()=>{!s&&t(!1)}),[t,s]),p=Ke[i];let h=l(p.info);p.replaceUserNameTag&&(h=h.replace(p.replaceUserNameTag,a).replace("%d",$e)),p.replaceNameTag&&(h=h.replace(p.replaceNameTag,o).replace("%d",$e));const{colors:g}=(0,B.u)();return(0,n.FD)(Me,{children:[(0,n.Y)(Oe,{children:l("blue_v_change_name_review_modal_title")}),(0,n.Y)(Be,{children:h}),(0,n.FD)(qe,{children:[(0,n.Y)(Re,{disabled:s,onClick:d,children:l("blue_v_change_name_review_cancel_btn")}),(0,n.Y)(Re,{buttonTheme:"primary",onClick:u,children:s?(0,n.Y)(He,{fill:g.ConstTextInverse,width:20,height:20}):l("blue_v_change_name_review_submit_btn")})]})]})}));var Ze=i(21483),Xe=i(62209),Je=i(12869),Qe=i(32623),et=i(25842),tt=i(93974),it=i(3158),nt=i(57700),at=i(61059),ot=i(55118),rt=i(50264),lt=i(5506),st=i(50502),dt=i(73580),ct=i(75045),ut=i(93166),pt=i(21243),ht=i(25775),gt=i(58899),mt=i(35972),ft=i(11441),_t=i(24642),bt=i(27613);const vt=(0,je.default)("div",{target:"e162h3pn0"})({padding:"16px",width:"264px",wordBreak:"break-word"},"label:DivTipWrapper;"),yt=(0,je.default)("h3",{target:"e162h3pn1"})((({theme:e})=>(0,Ue.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{marginBottom:"4px"},"label:H3TipTitle;"),xt=(0,je.default)("p",{target:"e162h3pn2"})((({theme:e})=>(0,Ue.zy)({theme:e,typography:"P3",color:"ConstTextInverse"})),"label:PTipDesc;"),Ct=(0,je.default)("div",{target:"e162h3pn3"})({display:"flex",justifyContent:"flex-end"},"label:DivButtonWrapper;"),kt=(0,je.default)("button",{target:"e162h3pn4"})(Ue.WA,(({theme:e})=>(0,Ue.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonOk;"),wt=(0,je.default)("button",{target:"e162h3pn5"})(Ue.WA,(({theme:e})=>(0,Ue.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonCancel;"),It=(0,r.memo)((({showPopover:e,title:t,description:i,cancelText:a,okText:o,onOkClick:l,onCancel:s})=>{const{colors:d,direction:c}=(0,B.u)(),u=(0,r.useRef)(!1);(0,r.useEffect)((()=>{let t;return e&&(t=window.setTimeout((()=>{u.current=!0,s("auto_cancel")}),5e3)),()=>clearTimeout(t)}),[s,e]),(0,r.useEffect)((()=>()=>{e&&!u.current&&s("other")}),[e]);const p=(0,r.useCallback)((()=>{l()}),[l]),h=(0,r.useCallback)((()=>{u.current=!0,s("cancel")}),[s]),g="ltr"===c?"bottomLeft":"bottomRight";return(0,n.Y)(bt.z,{active:e,backgroundColor:d.ConstSecondary2,placement:g,arrowMargin:"58px",margin:"0",children:(0,n.FD)(vt,{children:[(0,n.Y)(yt,{children:t}),(0,n.Y)(xt,{children:i}),(0,n.FD)(Ct,{children:[(0,n.Y)(wt,{onClick:h,children:a}),o&&(0,n.Y)(kt,{onClick:p,children:o})]})]})})}));var St=i(73635),Tt=i(1257),Pt=i(551),Dt=i(26847),Yt=i(12527),Ft=i(48883);const Lt=(0,je.default)("div",{target:"e1gjao0r0"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{height:"72px",padding:"12px 24px 0 24px",boxSizing:"border-box",fontSize:"24px",color:e.colors.TextPrimary,display:"flex",alignItems:"center",background:e.colors.BGPrimary}]),"label:DivHeaderContainer;"),jt=(0,je.default)("div",{target:"e1gjao0r1"})({lineHeight:"36px"},"label:DivText;"),Et=(0,je.default)("div",{target:"e1gjao0r2"})((({theme:e})=>[{cursor:"pointer",width:"24px",height:"24px",display:"inline-block",transform:"rtl"===e.direction?"rotateY(180deg)":""},(0,Ue.mp)({direction:e.direction,marginEnd:"8px"})]),"label:DivArrow;"),Ut=(0,je.default)("div",{target:"e1gjao0r3"})({background:"#000000",paddingTop:"32px"},"label:DivContentContainer;"),Mt=(0,je.default)("div",{target:"e1gjao0r4"})({height:"441px",width:"700px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivZoomArea;"),Ot=(0,je.default)("div",{target:"e1gjao0r5"})({width:"360px",height:"360px",borderRadius:"360px",boxShadow:"0 0 0 250px rgba(0, 0, 0, 0.3)",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:DivMask;"),Bt=(0,je.default)("div",{target:"e1gjao0r6"})({fontSize:"14px",lineHeight:"22px",color:"#ffffff",height:"69px",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivSlider;"),zt=(0,je.default)("span",{target:"e1gjao0r7"})((({theme:e})=>(0,Ue.mp)({direction:e.direction,marginEnd:"16px"})),"label:SpanLabel;"),At=(0,je.default)("div",{target:"e1gjao0r8"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",alignItems:"center",background:e.BGPrimary})),"label:DivFooterContainer;"),qt=(0,je.default)(W.y,{target:"e1gjao0r9"})((({theme:e})=>[{lineHeight:"24px",minWidth:"0",padding:"7px 16px"},(0,Ue.mp)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),Rt=(0,je.default)("div",{target:"e1gjao0r10"})({width:"320px",height:"16px",position:"relative"},"label:DivSliderContainer;"),Wt=(0,je.default)("div",{target:"e1gjao0r11"})({height:"6px",borderRadius:"3px",background:"#ffffff",position:"absolute",width:"100%",left:"0",top:"5px",cursor:"pointer"},"label:DivSliderBar;"),Nt=(0,je.default)("div",{target:"e1gjao0r12"})({height:"6px",borderRadius:"3px",width:"100%",position:"absolute",left:"0",top:"5px",cursor:"pointer",overflow:"hidden"},"label:DivSliderProgress;"),Vt=(0,je.default)("div",{target:"e1gjao0r13"})({width:"100%",background:"#FE2C55",height:"100%",transformOrigin:"left"},"label:DivSliderColor;"),Ht=(0,je.default)("div",{target:"e1gjao0r14"})((({theme:e})=>[{width:"16px",height:"16px",borderRadius:"16px",background:"#FE2C55",position:"absolute",top:0,left:0,cursor:"pointer"},(0,Ue.mp)({direction:e.direction,marginStart:"-8px"})]),"label:DivSliderDot;"),$t=(0,je.default)("img",{target:"e1gjao0r15"})({maxWidth:"unset"},"label:Img;"),Kt=(0,r.memo)((({onPercentChange:e,transformScalePercent:t})=>{const i=(0,r.useRef)(null),a=(0,r.useRef)(null),o=(0,r.useRef)(null),l=(0,r.useRef)(null),{direction:s}=(0,B.u)(),d=(0,r.useCallback)((t=>{e(t)}),[e]),{percent:c,bindDrag:u,seek:p,update:h}=(0,Ft.M)({direction:s,progressRef:l,circleRef:o,barRef:a,initialPercent:0,draggingPercentCb:d});(0,r.useEffect)((()=>{h(t)}),[h,t]);const g="ltr"===s?{left:`calc(${100*c}%)`}:{right:`calc(${100*c}%)`},m="ltr"===s?{transform:`scaleX(${c})`}:{transform:`scaleX(${c})`,transformOrigin:"right"};return(0,n.FD)(Rt,{ref:i,children:[(0,n.Y)(Wt,{onMouseDown:u,onClick:p,ref:l}),(0,n.Y)(Nt,{ref:a,onClick:p,onMouseDown:u,children:(0,n.Y)(Vt,{style:m})}),(0,n.Y)(Ht,{style:g,onMouseDown:u,ref:o})]})}));const Gt=360,Zt=(0,r.memo)((({onClose:e,onSaveAvatar:t,imageInfo:i,style:a={}})=>{const{url:o,width:l,height:s,initScale:d}=i,[u,p]=(0,r.useState)(0),[{uploadImgCode:h,uploadingFile:g},m]=(0,k.S)(Fe),f=(0,c.s)(),_=(0,r.useRef)(null),b=(0,r.useCallback)((()=>{e()}),[e]);(0,r.useEffect)((()=>{0===h?t():h!==Se&&Y.F.open({content:f("editprofile_editpage_error_photofail_others"),duration:2})}),[h,t,f]);const v=(0,r.useCallback)((()=>{return e=void 0,t=void 0,n=function*(){if(_.current){const{positionX:e,positionY:t,scale:i}=_.current.state;try{const n=yield function(e,t,i,n){return new Promise(((a,o)=>{const r=new Image;r.src=e,r.onload=()=>{const e=document.createElement("canvas");e.width=200,e.height=200;const o=e.getContext("2d"),l=0-t/n,s=0-i/n,d=360/n,c=360/n;null==o||o.drawImage(r,l,s,d,c,0,0,200,200),e.toBlob((e=>{e&&a(e)}))},r.onerror=()=>{o()}}))}(o,e,t,i*d);m.uploadImage(n)}catch(e){Y.F.open({content:f("editprofile_editpage_error_photofail_others"),duration:2})}}},new((i=void 0)||(i=Promise))((function(a,o){function r(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}s((n=n.apply(e,t||[])).next())}));var e,t,i,n}),[d,o,m,f]),y=(0,r.useMemo)((()=>({direction:"ltr",height:"360px",width:"360px",overflow:"unset"})),[]),x=(0,r.useMemo)((()=>({cursor:"move"})),[]),C=(0,r.useCallback)((e=>{const{scale:t}=e.state;p(Math.max(t-1,0)/7)}),[]),w=(0,r.useCallback)((e=>{if(_.current){const{setTransform:t,state:{positionX:i,positionY:n,scale:a}}=_.current,o=7*e+1;let r=Math.min(i-l*(o-a)/2,0),d=Math.min(n-s*(o-a)/2,0);d+s*o<Gt&&(d=Gt-s*o),r+l*o<Gt&&(r=Gt-l*o),t(r,d,o)}}),[s,l]);return(0,n.FD)("div",{style:a,children:[(0,n.FD)(Lt,{children:[(0,n.Y)(Et,{onClick:b,children:(0,n.Y)(Yt.A,{width:24,height:24})}),(0,n.Y)(jt,{children:f("editprofile_editpage_photo_editphoto")})]}),(0,n.Y)(Ut,{children:(0,n.FD)(Dt.GT,{centerOnInit:!0,ref:_,onZoom:C,maxScale:8,initialScale:1,children:[(0,n.FD)(Mt,{children:[(0,n.Y)(Dt.WZ,{wrapperStyle:y,contentStyle:x,children:(0,n.Y)($t,{src:o,width:l,height:s})}),(0,n.Y)(Ot,{})]}),(0,n.FD)(Bt,{children:[(0,n.Y)(zt,{children:f("editprofile_editimage_zoom")}),(0,n.Y)(Kt,{transformScalePercent:u,onPercentChange:w})]})]})}),(0,n.FD)(At,{children:[(0,n.Y)(qt,{size:"tiny",onClick:b,children:f("editprofile_cancel")}),(0,n.Y)(qt,{disabled:g,size:"tiny",buttonTheme:"primary",onClick:v,children:f("editprofile_editpage_photo_apply")})]})]})})),Xt=[{title:"editprofile_editpage_username_confirmtitle",info:"editprofile_editpage_username_confirmtext"},{title:"nickname_change_pop_up_title",info:"nickname_change_pop_up_description",replaceTag:"%d"},{title:"nickname_username_change_pop_up_title",info:"nickname_username_change_pop_up_description",replaceTag:"%d"}],Jt=(0,r.memo)((({onCancel:e,onConfirm:t,active:i,changeType:a,replaceStr:o,isVerified:l,nextStep:s})=>{const d=(0,c.s)(),u=(0,r.useCallback)((()=>{e()}),[e]),p=(0,r.useCallback)((()=>{l?s((e=>Object.assign(Object.assign({},e),{confirmStep:"blueVConfirm"}))):t(!1)}),[l,s,t]),h=Xt[a];let g=d(h.info);return h.replaceTag&&(g=g.replace(h.replaceTag,o)),(0,n.FD)(Me,{"data-e2e":"set-username-popup",children:[(0,n.Y)(Oe,{"data-e2e":"set-username-popup-title",children:d(h.title)}),(0,n.Y)(Be,{"data-e2e":"set-username-popup-desc",children:g}),(0,n.FD)(qe,{children:[(0,n.Y)(Re,{"data-e2e":"set-username-popup-cancel",onClick:u,children:d("editprofile_cancel")}),(0,n.Y)(Re,{"data-e2e":"set-username-popup-confirm",disabled:!i,buttonTheme:"primary",onClick:p,children:d("nickname_username_change_pop_up_cta_2")})]})]})})),Qt=[{title:"blue_v_change_username_modal_title",desc1:"blue_v_change_username_modal_desc",desc2:"blue_v_change_username_modal_desc_2"},{title:"blue_v_change_name_modal_title",desc1:"blue_v_change_name_modal_desc",desc2:"blue_v_change_name_modal_desc_2"},{title:"blue_v_change_username_name_modal_title",desc1:"blue_v_webapp_change_name_modal_desc",desc2:"blue_v_webapp_change_name_modal_desc_2"}],ei=(0,r.memo)((({onCancel:e,nextStep:t,changeType:i})=>{const a=(0,c.s)(),o=(0,r.useCallback)((()=>{e()}),[e]),l=(0,r.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"loseVerifyConfirm"})))}),[t]),s=(0,r.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"submitConfirm"})))}),[t]),d=Qt[i];return(0,n.FD)(Me,{children:[(0,n.Y)(Oe,{children:a(d.title)}),(0,n.FD)(ze,{children:[(0,n.Y)(Ae,{children:a(d.desc1)}),(0,n.Y)(Ae,{children:a(d.desc2)})]}),(0,n.FD)("div",{children:[(0,n.Y)(We,{buttonTheme:"primary",onClick:s,children:a("blue_v_change_name_modal_submit_request_btn")}),(0,n.Y)(We,{onClick:l,children:a("blue_v_change_name_modal_change_btn")}),(0,n.Y)(Ne,{buttonTheme:"default",onClick:o,children:a("blue_v_change_name_review_cancel_btn")})]})]})})),ti=[{info:"blue_v_change_username_lose_badge_modal_title",replaceUserNameTag:"%s"},{info:"blue_v_change_name_lose_badge_modal_title",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_lose_badge_modal_title",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],ii=(0,r.memo)((({onCancel:e,onConfirm:t,changeType:i,username:a,name:o})=>{const{updatingProfile:l}=(0,z.P)(Fe),s=(0,c.s)(),d=(0,r.useCallback)((()=>{e()}),[e]),u=(0,r.useCallback)((()=>{!l&&t(!0)}),[t,l]),p=ti[i];let h=s(p.info);p.replaceUserNameTag&&(h=h.replace(p.replaceUserNameTag,a)),p.replaceNameTag&&(h=h.replace(p.replaceNameTag,o));const{colors:g}=(0,B.u)();return(0,n.FD)(Me,{children:[(0,n.Y)(Oe,{children:h}),(0,n.Y)(Be,{children:s("blue_v_change_name_lose_badge_modal_desc")}),(0,n.FD)(qe,{children:[(0,n.Y)(Re,{disabled:l,onClick:d,children:s("blue_v_change_name_review_cancel_btn")}),(0,n.Y)(Re,{buttonTheme:"primary",onClick:u,children:l?(0,n.Y)(He,{fill:g.ConstTextInverse,width:20,height:20}):s("blue_v_change_name_lose_badge_confirm_btn")})]})]})}));var ni=i(54502),ai=i(24515);const oi=(0,je.default)("div",{target:"e13yu7jj0"})((({showVerified:e})=>({height:e?"754px":"700px"})),"label:DivModalContainer;"),ri=(0,je.default)("div",{target:"e13yu7jj1"})((({theme:e})=>[{padding:"24px 24px 12px 24px",lineHeight:"36px",borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,display:"flex",justifyContent:"space-between",alignItems:"center"}]),"label:DivHeaderContainer;"),li=(0,je.default)("h1",{target:"e13yu7jj2"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary}]),"label:H1Header;"),si=(0,je.default)("div",{target:"e13yu7jj3"})((({theme:e})=>[{width:"24px",height:"24px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Ue.mp)({direction:e.direction,marginEnd:"12px"})]),"label:DivCloseContainer;"),di=(0,je.default)("div",{target:"e13yu7jj4"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",borderTop:`0.5px solid ${e.LinePrimary2}`,alignItems:"center",position:"absolute",width:"100%",bottom:0})),"label:DivFooterContainer;"),ci=(0,je.default)(W.y,{target:"e13yu7jj5"})((({theme:e})=>[{lineHeight:"24px",padding:"7px 16px",minWidth:"96px",height:"36px"},(0,Ue.mp)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),ui=(0,je.default)("div",{target:"e13yu7jj6"})({width:"700px",padding:"8px 24px 0 24px"},"label:DivContentContainer;"),pi=(0,je.default)("div",{target:"e13yu7jj7"})({padding:"16px 0",display:"flex"},"label:DivItemContainer;"),hi=(0,je.default)(pi,{target:"e13yu7jj10"})((({theme:{colors:e}})=>({borderBottom:`0.5px solid ${e.TUXLineSecondary3}`})),"label:StyledItemContainerWithLine;"),gi=(0,je.default)("div",{target:"e13yu7jj11"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{lineHeight:"24px",fontSize:"16px",width:"120px",marginRight:"24px"}]),"label:DivLabel;"),mi=(0,je.default)("div",{target:"e13yu7jj12"})({position:"relative",height:"96px"},"label:DivAvatarContent;"),fi=(0,je.default)("div",{target:"e13yu7jj13"})({position:"relative"},"label:DivEditAreaContainer;"),_i=(0,je.default)("input",{target:"e13yu7jj14"})((({theme:{colors:e}})=>({width:"360px",height:"38px",borderRadius:"4px",background:e.BGInput,caretColor:"#fe2c55",fontSize:"16px",color:e.TextPrimary,lineHeight:"24px",outline:"none",border:"none",padding:"7px 12px",boxSizing:"border-box","&:focus":{background:e.BGInput2,outline:"1.5px solid rgba(22, 24, 35, 0.2)"}})),"label:InputText;"),bi=(0,je.default)("div",{target:"e13yu7jj15"})((({theme:{colors:e}})=>({fontSize:"16px",lineHeight:"24px",color:e.TextPrimary,marginBottom:"16px"})),"label:DivReadOnlyText;"),vi=_i.withComponent("textarea"),yi=(0,je.default)(vi,{target:"e13yu7jj16"})({height:"100px",padding:"12px",resize:"none"},"label:StyledInputTextArea;"),xi=(0,je.default)("p",{target:"e13yu7jj17"})((({theme:{colors:e}})=>({fontSize:"12px",color:e.TextSecondary,lineHeight:"18px",marginTop:"16px",maxWidth:"460px",overflow:"hidden"})),"label:PProfileSite;"),Ci=(0,je.default)(xi,{target:"e13yu7jj18"})({marginTop:"8px",width:"360px"},"label:StyledTip;"),ki=(0,je.default)("div",{target:"e13yu7jj19"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"12px",lineHeight:"18px"})),"label:DivTextCount;"),wi=(0,je.default)("div",{target:"e13yu7jj20"})((({theme:e})=>[{width:"32px",height:"32px",borderRadius:"16px",background:e.colors.BGTertiary,border:"1px solid #D0D0D3",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"absolute",bottom:"0","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Ue.mp)({direction:e.direction,marginStart:"192px"})]),"label:DivAvatarEditIcon;"),Ii=(0,je.default)(ai.i,{target:"e13yu7jj21"})((({theme:e})=>(0,Ue.mp)({direction:e.direction,marginStart:"128px"})),"label:StyledAvatar;"),Si=(0,je.default)("input",{target:"e13yu7jj22"})({width:"1px",height:"1px",position:"absolute",top:0,left:0,opacity:0},"label:InputUpload;"),Ti=(0,je.default)("p",{target:"e13yu7jj23"})({height:"18px",lineHeight:"18px",color:"#FF4C3A",fontSize:"12px",marginTop:"6px"},"label:PInputError;"),Pi=(0,je.default)(ni.A,{target:"e13yu7jj24"})((({theme:e})=>[(0,Ue.mp)({direction:e.direction,start:"328px"}),{position:"absolute",top:"11px"}]),"label:StyledTickBold;"),Di=(0,Le.i7)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),Yi=(0,je.default)(Ee.A,{target:"e13yu7jj25"})((({theme:e})=>[(0,Ue.mp)({direction:e.direction,end:"12px"}),{position:"absolute",top:"7px",animation:`${Di} 1s infinite`}]),"label:StyledProgressCircle;"),Fi=e=>{const{onBioChange:t,bio:i,bioValid:a,onBioValidChange:o}=e,l=(0,c.s)(),s=(0,r.useCallback)((e=>{const{value:i}=e.target;i.split("\n").length<=5?(o("bioValid",i.length<=80),t("bio",i)):Y.F.open({content:l("editprofile_editpage_error_row"),duration:2})}),[t,o,l]);return(0,n.FD)(fi,{children:[(0,n.Y)(yi,{"data-e2e":"edit-profile-bio-input",style:{outline:a?"":"1.5px solid #FF4C3A"},placeholder:l("editprofile_editpage_bio"),onChange:s,value:i}),(0,n.FD)(ki,{children:[(0,n.FD)("span",{style:{color:a?"":"#FF4C3A"},children:[i.length,"/"]}),80]})]})};var Li=i(50490);const ji=["jpg","jpeg","png","tiff","heic","webp"],Ei=ji.map((e=>`.${e}`)).join(","),Ui=({fileUploadRef:e,processCallback:t,errorCallback:i})=>{const n=(0,r.useRef)({url:"",width:0,height:0,initScale:1}),a=(0,r.useCallback)((()=>{e.current.value="",e.current.click()}),[e]),o=(0,r.useCallback)((e=>{return a=void 0,o=void 0,l=function*(){const a=e.target.files[0];if(a.size>10485760)return void i(0);try{const e=yield(e=>new Promise(((t,i)=>{const n=new FileReader;n.onload=function(e){var n,a,o;const r=null===(n=e.target)||void 0===n?void 0:n.result;if(r&&"string"!=typeof r){const e=null!==(a=(0,Li.filetypeinfo)(new Uint8Array(r)))&&void 0!==a?a:[{typename:""}];t(null===(o=e[0])||void 0===o?void 0:o.typename)}else i()},n.onerror=()=>{i()},n.readAsArrayBuffer(e)})))(a);if(!ji.includes(e))return void i(1)}catch(e){return void i(1)}const o=URL.createObjectURL(a),{width:r,height:l}=yield function(e){return new Promise(((t,i)=>{const n=new Image;n.src=e,n.onload=()=>{t({width:n.width,height:n.height})},n.onerror=()=>{i()}}))}(o);let s=Gt,d=Gt;r>l?s=d*r/l:d=s*l/r,n.current={url:o,width:s,height:d,initScale:s/r},t()},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{s(l.next(e))}catch(e){t(e)}}function n(e){try{s(l.throw(e))}catch(e){t(e)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof r?a:new r((function(e){e(a)}))).then(i,n)}s((l=l.apply(a,o||[])).next())}));var a,o,r,l}),[t,i]);return{handleFileChange:o,imageInfoRef:n,handleAvatarEditIconClick:a}},Mi=e=>{const{onNameChange:t,onNameErrorChange:i,name:a,nameErrMsg:o,nameChangeInfo:l,nickNameControlDay:s}=e,d=(0,c.s)(),{nickNameValid:u}=(0,z.P)(Fe);(0,r.useEffect)((()=>{1===u?i("nameErrMsg",""):2===u&&i("nameErrMsg",d("editprofile_editpage_error_namenotavail"))}),[u,i,d]);const p=(0,r.useCallback)((e=>{const{value:n}=e.target;n.length>30?i("nameErrMsg",d("editprofile_editpage_error_max")):i("nameErrMsg",""),t("name",n)}),[t,i,d]);return(0,n.Y)(fi,{"data-e2e":"edit-profile-name-input",children:l.changeable?(0,n.FD)(n.FK,{children:[(0,n.Y)(_i,{"aria-invalid":Boolean(o),"aria-label":o,style:{outline:o?"1.5px solid #FF4C3A":""},placeholder:d("editprofile_editpage_name"),value:a,onChange:p}),o?(0,n.Y)(Ti,{children:o}):(0,n.Y)(Ci,{children:d("nickname_change_1st_time_description").replace("%d",s)})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(bi,{children:a}),(0,n.Y)(Ci,{children:d("nickname_change_description").replace("%d",s).replace("%s",l.nextTimeStr)})]})})};var Oi=i(72302);const Bi=/^[0-9a-z._A-Z]{2,24}$/,zi=e=>{const{username:t,onUsernameChange:i,onUsernameErrorChange:a,uniqueIdChangeInfo:o,usernameErrMsg:l}=e,[{checkLoading:s,uniqueIdValid:d,checkUniqueIdCode:u},p]=(0,k.S)(Fe),h=(0,c.s)(),{colors:g}=(0,B.u)(),m=(0,Oi.d7)((e=>{p.checkUniqueId(e.toLowerCase())}),[p],1e3);(0,r.useEffect)((()=>{1===d&&Bi.test(t)?a("usernameErrMsg",""):2===d&&a("usernameErrMsg",h("editprofile_editpage_error_notavailable"))}),[d,t]),(0,r.useEffect)((()=>{6===u&&Y.F.open({content:h("editprofile_editpage_error_tryagain"),duration:2})}),[u]);const f=(0,r.useCallback)((e=>{const{value:t}=e.target;t.length<2?a("usernameErrMsg",h("editprofile_editpage_error_min2char")):t.length>24?a("usernameErrMsg",h("editprofile_editpage_error_username_max")):Bi.test(t)?m(t):a("usernameErrMsg",h("editprofile_editpage_error_notavailable")),i("userName",t)}),[m,i,a,h]);return(0,n.Y)(fi,{"data-e2e":"edit-profile-username-input",children:o.changeable?(0,n.FD)(n.FK,{children:[(0,n.Y)(_i,{"aria-invalid":Boolean(l),"aria-label":l,style:{outline:l?"1.5px solid #FF4C3A":""},placeholder:h("editprofile_editpage_username"),value:t,onChange:f}),(()=>{const e=l,t=d;return e?(0,n.Y)(Ti,{children:e}):s?(0,n.Y)(Yi,{fill:g.LineInput,width:24,height:24}):t?(0,n.Y)(Pi,{fill:"#0BE09B",width:16,height:16}):void 0})(),(0,n.FD)(xi,{"data-e2e":"edit-profile-username-link",children:["www.tiktok.com/@",t]}),(0,n.Y)(Ci,{"data-e2e":"edit-profile-username-tip",children:h("editprofile_editpage_username_subtext1")})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(bi,{children:t}),(0,n.FD)(xi,{children:["www.tiktok.com/@",t]}),(0,n.Y)(Ci,{children:h("editprofile_editpage_username_subtext2").replace("%s",o.nextTimeStr)})]})})},Ai="reset",qi="report",Ri=(0,r.memo)((({visible:e=!1,user:t,onCloseModal:i,onUpdated:a,uniqueIdChangeInfo:o,editProfileFrom:l,nameChangeInfo:s,nickNameControlDay:d})=>{const{signature:u,nickname:p,avatarThumb:h,uniqueId:g}=t,[m,f]=(0,r.useState)(!1),[{confirmStep:_,changeType:b},v]=(0,r.useState)({changeType:3,confirmStep:"none"}),y=(0,r.useRef)(null),[{checkLoading:x,avatarInfo:C,saveCode:w,updatingProfile:I},S]=(0,k.S)(Fe),T=(0,c.s)(),P=Boolean(t.verified),D=(0,r.useCallback)(((e,i)=>{if(i.type===qi){const n=i.playload?2:1;return mt.s.handleSaveReport(Object.assign(Object.assign({},((e,t,i)=>({username_updated:e.userName===t.uniqueId?0:i,photo_updated:e.avatar===t.avatarThumb?0:i,bio_updated:e.bio===t.signature?0:i,name_updated:e.name===t.nickname?0:i}))(e,t,n)),{enter_from:l})),e}return i.type===Ai?Object.assign(Object.assign({},e),i.playload):Object.assign(Object.assign({},e),{[i.type]:i.playload})}),[t,l]),[F,L]=(0,r.useReducer)(D,{userName:g,name:p,bio:u,avatar:h,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}),j=(0,r.useMemo)((()=>((e,t,i,n,a)=>{const{name:o,userName:r,bio:l,nameErrMsg:s,usernameErrMsg:d,bioValid:c,avatar:u}=e,{nickname:p,signature:h,uniqueId:g,avatarThumb:m}=i,f=Boolean(o)&&o!==p,_=Boolean(r)&&r!==g,b=l!==h,v=Boolean(a.uri&&u!==m);return(f||_||b||v)&&!s&&!d&&!n&&c&&!t})(F,I,t,x,C)),[F,I,x,t,C]),E=(0,r.useCallback)((()=>{f(!0)}),[]),U=(0,r.useCallback)((e=>{const t=((e,t)=>{let i="";return 0===e?i=t("editprofile_editpage_error_photofail_max"):1===e&&(i=t("editprofile_editpage_error_image_cantuse")),i})(e,T);Y.F.open({content:t,duration:2})}),[T]),{imageInfoRef:M,handleAvatarEditIconClick:O,handleFileChange:z}=Ui({fileUploadRef:y,processCallback:E,errorCallback:U}),A=(0,r.useCallback)((e=>{z(e)}),[z]);(0,r.useEffect)((()=>{C.url&&L({type:"avatar",playload:C.url})}),[C]),(0,r.useEffect)((()=>{if(!I){if(0===w)return L({type:qi}),void a("submitConfirm"===_);const e=((e,t,i)=>{let n="";switch(e){case 1332:n=t("editprofile_editpage_error_cantmodify_others");break;case 1333:n=t("editprofile_editpage_error_cantmodify_review");break;case 1330:n=t("editprofile_editpage_error_username_cantchange");break;case 23:n=t("alert_user_update_profile_limited_toast");break;case 9:n=t("account_status_banned");break;case 3002265:n=t("nickname_change_fail_toast").replace("%d",i);break;case 3002328:n=t("ecom_changename_web");break;default:e!==Se&&(n=t("editprofile_editpage_error_tryagain"))}return n})(w,T,d);e&&L({type:qi,playload:" "}),e&&Y.F.open({content:e,duration:2})}}),[w,I,_]);const q=(0,r.useCallback)((()=>{L({type:Ai,playload:{userName:g,name:p,bio:u,avatar:h,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}}),S.setUpdatingProfile(!1),S.setAvatarInfo({uri:"",url:""}),S.SetSaveCode(Se),S.setNickNameValid(0),S.setUploadImgCode(Se),S.setUniqueIdValid(0)}),[h,S,p,u,g]);(0,r.useEffect)((()=>{L({type:Ai,playload:{userName:g,name:p,bio:u,avatar:h,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}})}),[h,p,u,g]);const R=(0,r.useCallback)((()=>{i(),mt.s.handleCancelEditProfile({enter_from:l}),q()}),[l,i,q]),W=(0,r.useCallback)((()=>{F.userName!==g&&F.name!==p?v({changeType:2,confirmStep:"frequencyConfirm"}):F.userName!==g?v({changeType:0,confirmStep:"frequencyConfirm"}):F.name!==p?v({changeType:1,confirmStep:"frequencyConfirm"}):S.updateUserProfile({signature:F.bio!==u?F.bio:void 0,nickname:F.name!==p?F.name:void 0,avatar_uri:C.uri?C.uri:void 0,uniqueId:F.userName.toLowerCase(),needUpdateUniqueId:F.userName.toLowerCase()!==g,needRemoveBlueV:!1})}),[F.userName,F.name,F.bio,g,p,S,u,C.uri]),N=(0,r.useCallback)((()=>{v({changeType:3,confirmStep:"none"}),q()}),[q]),V=(0,r.useCallback)((e=>{S.updateUserProfile({signature:F.bio!==u?F.bio:void 0,nickname:F.name!==p?F.name:void 0,avatar_uri:C.uri?C.uri:void 0,uniqueId:F.userName.toLowerCase(),needUpdateUniqueId:F.userName.toLowerCase()!==g,needRemoveBlueV:e})}),[S,F.bio,F.name,F.userName,u,p,C.uri,g]),H=(0,r.useCallback)((e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),R())}),[R]),$=(0,r.useCallback)((e=>{13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),R())}),[R]),K=(0,r.useCallback)((e=>{var t;13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),null===(t=y.current)||void 0===t||t.click())}),[]),G=(0,r.useCallback)(((e,t)=>{L({type:e,playload:t})}),[]),Z=(0,r.useCallback)((()=>{f(!1),S.setUploadImgCode(Se)}),[S]),{colors:X}=(0,B.u)();return(0,n.Y)(Pt.i,{style:{background:X.BGSecondary},compact:!0,isOpen:e,children:"none"!==_?(()=>{const e={isVerified:P,replaceStr:d,changeType:b,active:!I,onCancel:N,onConfirm:V,username:F.userName,name:F.name,nextStep:v};switch(_){case"frequencyConfirm":return(0,n.Y)(Jt,Object.assign({},e));case"blueVConfirm":return(0,n.Y)(ei,Object.assign({},e));case"loseVerifyConfirm":return(0,n.Y)(ii,Object.assign({},e));case"submitConfirm":return(0,n.Y)(Ge,Object.assign({},e));default:return null}})():(0,n.FD)(oi,{"aria-label":T("editprofile_editprofile"),role:"dialog",onKeyDown:H,"data-e2e":"edit-profile-popup",showVerified:P&&!m,children:[(0,n.FD)(ri,{"data-e2e":"edit-profile-header",children:[(0,n.Y)(li,{children:T("editprofile_editprofile")}),(0,n.Y)(si,{"aria-label":T("Close_button"),role:"button",tabIndex:0,onKeyDown:$,onClick:R,"data-e2e":"edit-profile-close",children:(0,n.Y)(St.A,{width:"24",height:"24",fill:X.TextSecondary})})]}),(0,n.FD)(ui,{children:[(0,n.FD)(hi,{children:[(0,n.Y)(gi,{"data-e2e":"edit-profile-photo",children:T("editprofile_editpage_photo")}),(0,n.FD)(mi,{"data-e2e":"edit-profile-avatar",children:[(0,n.Y)(Ii,{onClick:O,src:F.avatar,isShowLive:!1,isShowLiveTag:!1,needAnimation:!1,size:96}),(0,n.FD)(wi,{"aria-label":T("editprofile_editpage_photo"),role:"button",tabIndex:0,onKeyDown:K,"data-e2e":"edit-profile-avatar-edit-icon",onClick:O,children:[(0,n.Y)(Tt.A,{width:16,height:16}),(0,n.Y)(Si,{ref:y,tabIndex:-1,type:"file",accept:Ei,onChange:A})]})]})]}),(0,n.FD)(hi,{children:[(0,n.Y)(gi,{"data-e2e":"edit-profile-username",children:T("editprofile_editpage_username")}),(0,n.Y)(zi,{username:F.userName,usernameErrMsg:F.usernameErrMsg,uniqueIdChangeInfo:o,onUsernameErrorChange:G,onUsernameChange:G})]}),(0,n.FD)(hi,{children:[(0,n.Y)(gi,{"data-e2e":"edit-profile-name",children:T("editprofile_editpage_name")}),(0,n.Y)(Mi,{name:F.name,nameErrMsg:F.nameErrMsg,onNameChange:G,onNameErrorChange:G,nameChangeInfo:s,nickNameControlDay:d})]}),(0,n.FD)(pi,{children:[(0,n.Y)(gi,{"data-e2e":"edit-profile-bio",children:T("editprofile_editpage_bio")}),(0,n.Y)(Fi,{bio:F.bio,bioValid:F.bioValid,onBioChange:G,onBioValidChange:G})]})]}),(0,n.FD)(di,{children:[(0,n.Y)(ci,{"data-e2e":"edit-profile-cancel",size:"tiny",onClick:R,children:T("editprofile_cancel")}),(0,n.Y)(ci,{"data-e2e":"edit-profile-save",size:"tiny",buttonTheme:"primary",onClick:W,disabled:!j,children:T("editprofile_save")})]}),m&&(0,n.Y)(Zt,{style:{position:"absolute",left:0,top:0,background:"#fff",borderRadius:"8px"},imageInfo:M.current,onClose:Z,onSaveAvatar:Z})]})})}));var Wi=i(23594);const Ni={id:"edit-fd9cf296",use:"edit-fd9cf296-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="edit-fd9cf296"><path fill="currentColor" fill-rule="evenodd" d="M15.393 2.226a.84.84 0 0 0-1.17.02L8.142 8.33a.84.84 0 0 0-.247.595v2.34c0 .464.377.841.842.841h2.183a.84.84 0 0 0 .596-.246l6.237-6.238a.843.843 0 0 0-.02-1.211zM9.58 9.273l5.26-5.26 1.107 1.033-5.374 5.375H9.58zM9.58 2a.42.42 0 0 1 .42.421v.842a.42.42 0 0 1-.42.421H4.526a.84.84 0 0 0-.842.842v10.948c0 .465.377.842.842.842h10.947a.84.84 0 0 0 .842-.842V10.42c0-.232.189-.421.421-.421h.842c.233 0 .422.188.422.421v5.053A2.526 2.526 0 0 1 15.473 18H4.526A2.526 2.526 0 0 1 2 15.474V4.526A2.526 2.526 0 0 1 4.526 2z" clip-rule="evenodd" /></symbol>'};function Vi(e){const t=(0,r.useContext)(Wi.X);return(0,r.useLayoutEffect)((()=>(t.add(Ni),()=>{t.remove("edit-fd9cf296")})),[]),(0,v.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,v.jsx)("use",{xlinkHref:"#edit-fd9cf296"},void 0)}),void 0)}const Hi=(0,je.default)("div",{target:"e33dl3i0"})({position:"relative",height:"36px",padding:0,margin:0,marginTop:"16px",display:"flex",alignItems:"center"},"label:DivEditContainer;"),$i=(0,je.default)(W.y,{target:"e33dl3i1"})((({theme:{direction:e}})=>[{height:"36px",fontSize:"16px",display:"flex",alignItems:"center",padding:"0 16px",minWidth:"136px",lineHeight:"24px","> span":{whiteSpace:"nowrap"}},(0,Ue.mp)({direction:e,marginEnd:8})]),"label:StyledEditButton;"),Ki=(0,je.default)(Vi,{target:"e33dl3i2"})((({theme:{direction:e,colors:t}})=>[{width:"20px",height:"20px",color:t.Primary2},(0,Ue.mp)({direction:e,marginEnd:6})]),"label:StyledEditIcon;");function Gi(e,t){const i=e+24*t*60*60,n=Date.now();return e&&i>Math.ceil(n/1e3)?{changeable:!1,nextTime:i}:{changeable:!0,nextTime:0}}var Zi;!function(e){e.VerifyTip="1",e.ProfileUpdateTip="2"}(Zi||(Zi={}));const Xi=(0,r.memo)((function(){const e=(0,c.s)();return(0,r.useEffect)((()=>{_t.f.sendEvent("Promote_entrance_show",{enter_from:"personal_page_profile"})}),[]),(0,n.FD)($i,{size:"medium",onClick:()=>{_t.f.sendEvent("Promote_entrance_click",{enter_from:"personal_page_profile"}),window.location.href="/promote/web/main?enter_from=personal_page_profile"},children:[(0,n.Y)(ct.x,{color:"Primary2"}),(0,n.Y)("span",{style:{marginInlineStart:6},children:e("Promote_web_entrance_profile")})]})})),Ji=(0,r.memo)((function({user:e}){var t,i,a;const[o,l]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1),{uniqueIdModifyTime:u,nickNameModifyTime:p}=e,[h,g]=(0,r.useState)({changeable:!0,nextTimeStr:""}),[m,f]=(0,r.useState)({changeable:!0,nextTimeStr:""}),{language:v}=null!==(t=(0,S.W)((()=>["language"]),[]))&&void 0!==t?t:{},{config:y}=null!==(i=(0,ut.U)((()=>["config"]),[]))&&void 0!==i?i:{},x=null!==(a=null==y?void 0:y.nickNameControlDay)&&void 0!==a?a:"7",C=null!=v?v:"en",[{newUniqueInfo:w},I]=(0,k.S)(Fe),T=(0,pt.U)({pathname:(0,at.fJR)({uniqueId:w.uniqueId}),search:{}}),P=(0,c.s)(),[D,Y]=(0,r.useState)(""),F=(0,ht.Us)(),L=(0,dt.Nj)(we.r);(0,r.useEffect)((()=>{F.appContext&&L.setContext(F.appContext)}),[F.appContext,L]),(0,r.useEffect)((()=>{if(u){const{changeable:e,nextTime:t}=Gi(Number(u),30),i=(0,gt.SV)(Number(t),C,"MMM D, YYYY");g({changeable:e,nextTimeStr:i})}}),[C,u]),(0,r.useEffect)((()=>{if(p){const{changeable:e,nextTime:t}=Gi(Number(p),Number(x)),i=(0,gt.SV)(Number(t),C,"MMM D, YYYY");f((t=>Object.assign(Object.assign({},t),{changeable:e,nextTimeStr:i})))}}),[C,p,x]);const{removeEditProfilePop:j}=(0,Xe.gR)();(0,r.useEffect)((()=>{const e=!(0,_._S)(b.vt)&&!j;e&&(mt.s.handleShowProfileTooltip({enter_from:"personal_homepage"}),(0,_.AP)(b.vt,"1"),ft.U.handlePopupShow({enter_method:"edit_profile_popup"})),d(e)}),[j]),(0,r.useEffect)((()=>{const e=(0,_.Hd)(b.Iw);e&&(Y(e),l(!0),(0,_.X)(b.Iw))}),[]);const E=(0,r.useCallback)((()=>{mt.s.handleClickEditProfile({enter_from:"personal_homepage"}),Y("personal_homepage"),l(!0)}),[]),U=(0,r.useCallback)((()=>{l(!1)}),[]),M=(0,r.useCallback)((e=>{mt.s.handleCloseProfileTooltip({enter_from:"personal_homepage",close_method:e}),d(!1)}),[]),O=(0,r.useCallback)((e=>{(0,_.J2)(b.BP,e?"1":"2"),I.SetSaveCode(Se),l(!1),setTimeout((()=>{window.location.href=T}),3e3)}),[T,I]),B=!!e.HasPromoteEntry;return(0,n.FD)(Hi,{"data-e2e":"edit-profile-entrance",children:[(0,n.FD)($i,{onClick:E,size:"medium",children:[(0,n.Y)(Ki,{}),(0,n.Y)("span",{children:P("editprofile_editprofile")})]}),B&&(0,n.Y)(Xi,{}),(0,n.Y)(Ri,{editProfileFrom:D,uniqueIdChangeInfo:h,nameChangeInfo:m,onUpdated:O,onCloseModal:U,visible:o,user:e,nickNameControlDay:x}),(0,n.Y)(It,{onCancel:M,showPopover:s,cancelText:P("editprofile_close"),title:P("editprofile_tooltip_title"),description:P("editprofile_tooltip_subtitle")})]})}));var Qi=i(15980),en=i(79056),tn=i(34881),nn=i(38699);const an=(0,je.default)("div",{target:"edpgb5h0"})((()=>({height:"696px",minWidth:"560px",maxWidth:"700px"})),"label:DivModalContainer;"),on=(0,je.default)("div",{target:"edpgb5h1"})((()=>[{padding:"24px",lineHeight:"36px",display:"flex",justifyContent:"space-between",alignItems:"center"}]),"label:DivHeaderContainer;"),rn=(0,je.default)("h1",{target:"edpgb5h2"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary,width:"100%",textAlign:"center"}]),"label:H1Header;"),ln=(0,je.default)("div",{target:"edpgb5h3"})((({theme:e})=>[{width:"32px",height:"32px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Ue.mp)({direction:e.direction})]),"label:DivCloseContainer;"),sn=(0,je.default)("div",{target:"edpgb5h4"})((({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-around",width:"100%",height:"42px",borderBottom:`0.5px solid ${e.LineSecondary}`,marginBottom:"1px"},(0,Ue.mp)({direction:t})]),"label:DivTabs;"),dn=(0,je.default)("div",{target:"edpgb5h5"})((({theme:e,isActive:t})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"medium",typography:"P2"}),{position:"relative",lineHeight:"24px",display:"flex",height:"44px",padding:"10px 24px",cursor:"pointer",columnGap:"5px",borderBottom:t?`2px solid ${e.colors.TextPrimary}`:"none",color:t?e.colors.TextPrimary:e.colors.TextTertiary}]),"label:DivTabItem;"),cn=(0,je.default)("div",{target:"edpgb5h6"})({display:"flex",flexDirection:"column",height:"561px",width:"100%",alignItems:"center",paddingTop:"140px"},"label:DivEmptyListContainer;"),un=(0,je.default)("div",{target:"edpgb5h7"})((({theme:e})=>[(0,Ue.zy)({theme:e,typography:"P3",color:"TextPrimary",fontWeight:"bold"}),{textAlign:"center",lineHeight:"36px",fontSize:24,paddingTop:24}]),"label:DivTitle;"),pn=(0,je.default)("div",{target:"edpgb5h8"})((({theme:e})=>[(0,Ue.zy)({theme:e,typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{fontSize:16,lineHeight:"24px",textAlign:"center",paddingTop:"8px"}]),"label:DivDesc;");var hn=i(69642);const gn=(0,je.default)("div",{target:"eorzdsw0"})({height:"569px",width:"100%",padding:0,marginBottom:"20px",listStyleType:"none",overflowY:"auto","::-webkit-scrollbar":{display:"none"}},"label:DivUserListContainer;"),mn=(0,je.default)("div",{target:"eorzdsw1"})({width:"100%",display:"flex",justifyContent:"center"},"label:DivLoadingWrapper;"),fn=(0,je.default)("div",{target:"eorzdsw2"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"medium",color:"TextTertiary"}),{lineHeight:"18.2px",paddingInlineStart:"40px",marginTop:"24px",display:"flex",flexDirection:"row",alignItems:"center"}]),"label:DivSuggestedAccountTitleContainer;"),_n=(0,je.default)(hn.A,{target:"eorzdsw3"})((({theme:e})=>[(0,Ue.zy)({theme:e,color:"TextQuaternary"}),{marginLeft:"4px",width:"12px",height:"12px"}]),"label:IconExclamationMark;");var bn=i(1905),vn=i(2183),yn=i(29098);const xn=(0,je.default)("div",{target:"es616eb0"})({padding:"16px 40px",display:"flex",flexDirection:"column",width:"100%"},"label:DivUserContainer;"),Cn=(0,je.default)("div",{target:"es616eb1"})({display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"center"},"label:DivUserItem;"),kn=(0,je.default)(vn.E,{target:"es616eb3"})({position:"relative",display:"flex",flexDirection:"row",":hover":{textDecoration:"none"}},"label:StyledUserInfoLink;"),wn=(0,je.default)("div",{target:"es616eb4"})((({theme:{direction:e}})=>(0,Ue.mp)({direction:e,marginStart:12,marginEnd:12})),"label:DivUserInfo;"),In=(0,je.default)("div",{target:"es616eb5"})({display:"flex",alignItems:"center"},"label:DivNicknameContainer;"),Sn=(0,je.default)("span",{target:"es616eb6"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",fontWeight:"bold"}),{maxWidth:220},Ue.PR]),"label:SpanNickname;"),Tn=(0,je.default)(yn.A,{target:"es616eb7"})((({theme:{direction:e}})=>[{flexShrink:0},(0,Ue.mp)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),Pn=(0,je.default)("p",{target:"es616eb8"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},Ue.PR]),"label:PUniqueId;"),Dn=(0,je.default)("div",{target:"es616eb9"})((()=>({display:"flex",flexDirection:"row",alignItems:"center"})),"label:DivCTAContainer;");var Yn=i(38506),Fn=i(80890),Ln=i(20266),jn=i(94683),En=i(5621),Un=i(62203);const Mn=(0,je.default)("div",{target:"eq8nsxf0"})((({hide:e})=>[{display:e?"none":"1"}]),"label:DivMessageButtonContainer;"),On=(0,je.default)(W.y,{target:"eq8nsxf1"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"16px",flex:1,minWidth:"113px",lineHeight:"36px",borderStyle:"none",borderRadius:"8px",backgroundColor:e.colors.BGInput,":hover":{backgroundColor:e.colors.BGInput2}}]),"label:StyledMessageButtonV2;"),Bn=(0,r.memo)((function({uniqueId:e,uid:t,style:i={},buttonText:a,enterMethod:o}){var l;const s=(0,c.s)(),{user:d,language:u="en"}=null!==(l=(0,S.W)((()=>["user","language"]),[]))&&void 0!==l?l:{},p=(0,r.useRef)(null),h=!!d&&e===d.uniqueId,g=(0,r.useCallback)((()=>Un.w.handleEnterChatList(void 0,o)),[o]),{path:m,target:f}=(0,jn._Y)(u);return(0,n.Y)(n.FK,{children:!h&&(0,n.Y)(Mn,{ref:p,children:(0,n.Y)(En.Cz,{forceSSR:!1,to:`${m}&u=${t}`,target:f,onClick:g,style:{textDecoration:"none"},children:(0,n.Y)(On,{size:"small",buttonTheme:"default",style:i,"data-e2e":"message-button",children:s(a||"webdm_message_button")})})})})})),zn=(0,r.memo)((function(e){var t;const{uniqueId:i,activeType:a}=e,{user:o}=null!==(t=(0,S.W)((()=>["user"]),[]))&&void 0!==t?t:{},l=!!o&&i===o.uniqueId,s=(0,L.nW)((e=>{const t=e.users[i];if(!t)return null;const{verified:n,avatarThumb:a,nickname:o,roomId:r,id:l,relation:s,secUid:d}=t;return{verified:n,avatarThumb:a,nickname:o,roomId:r,id:l,uniqueId:i,relation:s,secUid:d}}),F.bN),{verified:d,nickname:c,avatarThumb:u,relation:p,secUid:h,id:g}=(0,I.L)(s),m="profile_popup",f=(0,bn.AL)({user:s,enterMethod:m}),b=(0,r.useCallback)((e=>{(0,_.dG)(e)}),[]);return(0,n.Y)(xn,{children:(0,n.FD)(Cn,{children:[(0,n.FD)(kn,{uniqueId:i,secUid:h,teaParams:f,onClick:b,children:[(0,n.Y)(Yn.e,{size:48,src:u}),(0,n.FD)(wn,{children:[(0,n.FD)(In,{children:[(0,n.Y)(Sn,{children:c}),d&&(0,n.Y)(Tn,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}})]}),(0,n.Y)(Pn,{children:i})]})]}),(0,n.FD)(Dn,{children:[l&&(0,n.Y)(vn.E,{uniqueId:i,secUid:h,teaParams:f,onClick:b,children:(0,n.Y)(Fn.A,{width:16,height:16})}),!l&&("friend"===a?(0,n.Y)(Bn,{uniqueId:i,uid:g,style:{lineHeight:"24px"},enterMethod:m}):(0,n.Y)(Ln.W,{relation:p,uniqueId:i,nickname:c,style:{lineHeight:"24px"},buttonText:"profile_page_message_btn",hideMutualIcon:!0}))]})]})})}));var An=i(50032),qn=i(75301),Rn=i(58302),Wn=i(1949),Nn=i(12669);const Vn=(0,r.memo)((function(e){const{list:t,loading:i,hasMore:a,isProfile:o,activeType:l,secUid:s,onOpenSuggestedAccountPersonalizeModal:d,onCloseFollowModal:u}=e,p=(0,r.useRef)(null),h=(0,Nn.Nl)(),g=(0,it.OB)(!0),m=(0,c.s)(),f=(0,r.useCallback)((()=>{s&&a&&!i&&("others_following"===l?h.getTargetFollowingList({secUid:s}):"others_follower"===l?h.getTargetFollowerList({secUid:s}):"friend"===l?h.getFriendsList({}):"suggested_follow"===l&&h.getSuggestedList({isNonPersonalized:!g}))}),[h,l,s,a,i,g]);(0,An.O9)({elemRef:p,onHitBottom:f,bottomThreshold:200,throttle:200});const _=(0,Xe.Ad)()&&"suggested_follow"===l;(0,r.useEffect)((()=>{_&&Wn.$.handleShowSuggestedAccountInfo()}),[_]);const b=(0,r.useCallback)((()=>{u(),d()}),[]);return(0,n.FD)(gn,{ref:p,children:[_&&(0,n.FD)(fn,{children:[(0,n.Y)(Rn.Fm,{children:m("sug_accounts")}),(0,n.Y)(_n,{onClick:b})]}),t.map((e=>e?(0,n.Y)("li",{children:(0,n.Y)(zn,{uniqueId:e,isPersonalFollowerTab:o&&"others_follower"===l,activeType:l})},e):null)),i&&a&&t.length>1?(0,n.Y)(mn,{children:(0,n.Y)(qn.R,{})}):null]})})),Hn={others_follower:{privateTitle:"profile_page_followerList_private_header",privateDesc:"profile_page_followerList_private_body",emptyTitle:"profile_page_profile_follower_tab",emptyDesc:"profile_page_profile_follower_view_desc"},others_following:{privateTitle:"profile_page_followingList_private_header",privateDesc:"profile_page_followingList_private_body",emptyTitle:"profile_page_profile_following_tab",emptyDesc:"profile_page_profile_following_view_desc"},follower:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_profile_follower_tab",emptyDesc:"profile_page_profile_follower_desc"},following:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_profile_following_tab",emptyDesc:"profile_page_profile_following_desc"},suggest:{privateTitle:"",privateDesc:"",emptyTitle:"",emptyDesc:""},suggested_follow:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_suggested_tab",emptyDesc:""},friend:{privateTitle:"",privateDesc:"",emptyTitle:"",emptyDesc:"profile_page_profile_friends_desc"}},$n=(e,t)=>{"others_following"===e?_t.f.sendEvent("click_following",{to_user_id:t}):"others_follower"===e?_t.f.sendEvent("click_followers",{to_user_id:t}):"suggested_follow"===e?_t.f.sendEvent("click_suggested",{to_user_id:t}):"friend"===e&&_t.f.sendEvent("click_friends",{to_user_id:t})},Kn=(0,r.memo)((({visible:e=!1,onCloseModal:t,user:i,stats:a,isProfile:o,entranceType:l="others_following",onOpenSuggestedAccountPersonalizeModal:s})=>{var d,u,p,h;const g=(0,c.s)(),{colors:m}=(0,B.u)(),{uniqueId:f,secUid:_,id:b}=i,[v,y]=(0,r.useState)(l),[x,C]=(0,Nn.Gd)((e=>({others_follower:e.others_follower,others_following:e.others_following,friend:e.friend,suggested_follow:e.suggested_follow})),F.bN),{loading:k,list:w}=x.others_follower,{loading:I,list:S}=x.others_following,{loading:T,list:P}=x.friend,{loading:D,list:Y}=x.suggested_follow,L=(0,it.OB)(!0);(0,r.useEffect)((()=>{_&&("others_following"===v&&!S.length&&I&&C.getTargetFollowingList({secUid:_}),"others_follower"===v&&!w.length&&k&&C.getTargetFollowerList({secUid:_}),"friend"===v&&!P.length&&T&&C.getFriendsList({}),"suggested_follow"===v&&!Y.length&&D&&C.getSuggestedList({isNonPersonalized:!L}))}),[_,v,C,w.length,k,S.length,I,P.length,T,Y.length,D,L]);const j=(0,r.useCallback)((e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),t())}),[t]),E=(0,r.useCallback)((e=>()=>{$n(e,b),y(e)}),[b]),U=x[v].loading,M=10222===x[v].statusCode,O=(0,Xe.Ad)()||L;return(0,n.Y)(Qi.t,{isMobile:!1,componentName:"user-follow-modal",children:(0,n.Y)(Pt.i,{compact:!0,style:{background:m.BGInput},isOpen:e,closeOnBackdropClick:!0,closeOnEsc:!0,onClose:t,children:(0,n.FD)(an,{role:"dialog","data-e2e":"follow-info-popup",children:[(0,n.FD)(on,{children:[(0,n.Y)(rn,{children:f}),(0,n.Y)(ln,{"aria-label":g("Close_button"),role:"button",tabIndex:0,onKeyDown:j,onClick:t,"data-e2e":"follow-popup-close",children:(0,n.Y)(en.g,{size:32,color:m.TextSecondary})})]}),(0,n.FD)(sn,{children:[(0,n.FD)(dn,{isActive:"others_following"===v,onClick:E("others_following"),children:[(0,n.Y)("div",{children:g("profile_page_profile_following_tab")}),(0,n.Y)("strong",{title:g("profile_page_profile_following_tab"),children:a?(0,ot.D1)(a.followingCount):"--"})]}),(0,n.FD)(dn,{isActive:"others_follower"===v,onClick:E("others_follower"),children:[(0,n.Y)("div",{children:g("profile_page_profile_follower_tab")}),(0,n.Y)("strong",{title:g("profile_page_profile_follower_tab"),children:a?(0,ot.D1)(a.followerCount):"--"})]}),o&&(0,n.FD)(dn,{isActive:"friend"===v,onClick:E("friend"),children:[(0,n.Y)("div",{children:g("profile_page_friends_tab")}),(0,n.Y)("strong",{title:g("profile_page_friends_tab"),children:a?(0,ot.D1)(a.friendCount):"--"})]}),O&&(0,n.Y)(dn,{isActive:"suggested_follow"===v,onClick:E("suggested_follow"),children:g("profile_page_suggested_tab")})]}),0===x[v].list.length&&U&&(0,n.Y)(cn,{children:(0,n.Y)(qn.R,{})}),!U&&0===x[v].list.length&&(M?(0,n.FD)(cn,{children:[(0,n.Y)(tn.d,{size:72,color:"TextQuaternary"}),(0,n.Y)(un,{children:g(null===(d=Hn[v])||void 0===d?void 0:d.privateTitle)}),(0,n.Y)(pn,{children:g(null===(u=Hn[v])||void 0===u?void 0:u.privateDesc,{nickname:f})})]}):(0,n.FD)(cn,{children:[(0,n.Y)(nn.b,{size:72,color:"TextQuaternary"}),(0,n.Y)(un,{children:g(null===(p=Hn[v])||void 0===p?void 0:p.emptyTitle)}),(0,n.Y)(pn,{children:g(null===(h=Hn[v])||void 0===h?void 0:h.emptyDesc,{nickname:f})})]})),(0,n.Y)(Vn,{list:x[v].list,loading:x[v].loading,hasMore:x[v].hasMore,isProfile:!0,activeType:v,secUid:null!=_?_:"",onOpenSuggestedAccountPersonalizeModal:s,onCloseFollowModal:t})]})})})}));var Gn=i(59695),Zn=i(77694),Xn=i(7751),Jn=i(56152),Qn=i(69750),ea=i(6555),ta=i(15346),ia=i(91303),na=i(84830);const aa=(0,r.memo)((function({user:e,style:t={}}){var i,a;const o=(0,c.s)(),{user:l,language:s="en"}=null!==(i=(0,S.W)((()=>["user","language"]),[]))&&void 0!==i?i:{},d=(0,r.useRef)(null),u=(0,r.useRef)(null),{relation:p,uniqueId:h}=e,g=!!l&&h===l.uniqueId,m=(0,Qn.K)({query:{enter_method:"click_follow"}}),{handleFollow:f,text:_,isFollowing:b,relation:v}=(0,Je.Tu)({uniqueId:null!==(a=null==e?void 0:e.uniqueId)&&void 0!==a?a:"",onNeedLogin:m}),[y,x]=(0,r.useState)(!1),C=3===v,k=4===v,w=b&&!(null==l?void 0:l.hasIMPermission),I=k||C||w,T=(0,r.useCallback)((()=>Un.w.handleEnterChatList()),[]);(0,r.useEffect)((()=>{k&&ta.h.handleBlockShow(!k)}),[k]);const P=(0,r.useCallback)((()=>{x(!0)}),[]),D=(0,r.useCallback)((()=>{x(!1)}),[]),Y=(0,r.useCallback)((e=>{k?P():f(e)}),[k,P,f]),{path:F,target:L}=(0,jn._Y)(s);return(0,n.FD)(n.FK,{children:[(0,n.FD)(na.XT,{style:t,children:[!g&&(0,n.Y)(Zn.Ay,{timeout:300,in:!b||!(null==l?void 0:l.hasIMPermission),nodeRef:d,children:i=>(0,n.Y)(na.QD,{ref:d,status:i,style:t,children:(0,n.FD)(na.rO,{size:"medium",buttonTheme:I?"default":"primary",hide:b&&(null==l?void 0:l.hasIMPermission),"data-e2e":"follow-button",onClick:Y,style:t,"aria-label":`${_} ${null==e?void 0:e.nickname}`,children:[2===p?(0,n.Y)(na.Yn,{}):null,_]})})}),!g&&(null==l?void 0:l.hasIMPermission)&&(0,n.Y)(Zn.Ay,{timeout:300,in:b,nodeRef:u,children:t=>(0,n.FD)(na.iH,{hide:!b,status:t,ref:u,children:[(0,n.Y)(En.Cz,{forceSSR:!1,to:`${F}&u=${null==e?void 0:e.id}`,target:L,onClick:T,style:{textDecoration:"none"},children:(0,n.Y)(na.xI,{size:"medium",buttonTheme:"line",children:o("webdm_message_button")})}),(0,n.Y)(ia.m,{overlay:o("user_action_unfollow"),placement:"bottom",children:(0,n.Y)(na.tR,{onClick:f,children:2===p?(0,n.Y)(Xn.A,{width:20,height:20}):(0,n.Y)(Jn.A,{width:20,height:20})})})]})})]}),(0,n.Y)(ea.j,{visible:y,uniqueId:h,onClose:D})]})}));var oa=i(79279),ra=i(924),la=i(31147),sa=i(44390);const da=(0,je.default)("div",{target:"eht0fek0"})((({theme:e})=>(0,Ue.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P2"})),{display:"flex",alignItems:"flex-end",flexWrap:"wrap",marginTop:"5px"},"label:DivShareLinks;"),ca=(0,je.default)("span",{target:"eht0fek1"})((({theme:{colors:e}})=>({display:"inline-block",border:`.5px solid ${e.LineSecondary}`,height:"16px",margin:"0 12px"})),"label:SpanShareLinksSpliter;"),ua=(0,je.default)("span",{target:"eht0fek2"})((({theme:{direction:e}})=>(0,Ue.mp)({direction:e,paddingStart:2})),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"label:SpanLink;"),pa=({theme:e,red:t})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",lineHeight:"18px",typography:"P2",color:t?"Primary":"TextPrimary",isLink:!0}),{display:"flex",alignItems:"flex-end",fontStyle:"normal",height:"22px",maxWidth:"256px"}],ha=(0,je.default)("p",{target:"eht0fek3"})(pa,"label:PShareError;"),ga=(0,je.default)("a",{target:"eht0fek4"})(pa,"label:ABioLink;"),ma=(0,r.memo)((function({user:e}){var t,i;const a=(0,c.s)(),{user:o}=null!==(t=(0,S.W)((()=>["user","language"]),[]))&&void 0!==t?t:{},{bioLink:l={},commerceUserInfo:s={},uniqueId:d}=e,u=!!o&&d===o.uniqueId,{shouldShowDownloadLink:p,shouldShowBioLink:h,secDownloadLink:g,secBioLink:m,showDownloadLink:f}=function({isProfile:e,user:t}){var i,n,a;const{language:o="en"}=null!==(i=(0,S.W)((()=>["language"]),[]))&&void 0!==i?i:{},r=(0,sa.N)(),{secret:l,relation:s,bioLink:d,commerceUserInfo:c}=t,u=[],p=[];let h=!1,g=!1,m=null==d?void 0:d.link;function f(e){return r?e:`https://www.tiktok.com/link/v2?aid=1988&lang=${o}&scene=bio_url&target=${encodeURIComponent(e)}`}(null==d?void 0:d.link)&&(h=!0,m=f(d.link),l&&(h=!1,e&&(h=!0),1===s&&(h=!0)),5===s&&(h=!1),9===d.risk&&(h=!1,e&&(h=!0)));const _=null===(n=null==c?void 0:c.downLoadLink)||void 0===n?void 0:n.ios,b=null===(a=null==c?void 0:c.downLoadLink)||void 0===a?void 0:a.android;return(null==c?void 0:c.commerceUser)&&(_||b)&&(g=!0,b&&(p.push(b),u.push(f(b))),_&&(p.push(_),u.push(f(_)))),{shouldShowDownloadLink:g,shouldShowBioLink:h,secDownloadLink:u,secBioLink:m,showDownloadLink:p}}({isProfile:u,user:e});function _(e){return e.split(/[\s\n\r\t]+/)[0].replace(/^https?:\/\//,"")}const b=(0,r.useMemo)((()=>{var e;return(0,n.Y)(da,{children:(0,n.FD)(ga,{target:"_blank",rel:"noindex nofollow noreferrer noopener",red:!0,href:g[0],children:[(0,n.Y)(oa.A,{width:18,height:18,style:{flexShrink:0}}),(0,n.Y)(ua,{children:_(null!==(e=f[0])&&void 0!==e?e:"")})]})})}),[f,g]);return h?(0,n.FD)(da,{children:[9!==(null==l?void 0:l.risk)?(0,n.FD)(ga,{red:null==s?void 0:s.commerceUser,target:"_blank",rel:"noindex nofollow noreferrer noopener",href:null!=m?m:"","data-e2e":"user-link",children:[(0,n.Y)(ra.A,{fill:(null==s?void 0:s.commerceUser)?"#fe2c55":"currentColor",width:18,height:18,style:{flexShrink:0}}),(0,n.Y)(ua,{children:_(null!==(i=null==l?void 0:l.link)&&void 0!==i?i:"")})]}):(0,n.FD)(ha,{red:!0,children:[(0,n.Y)(la.A,{width:18,height:18,fill:"#ff4c3a",style:{flexShrink:0}}),(0,n.Y)(ua,{children:a("profile_self_link_unavailable")})]}),p&&(0,n.FD)(n.FK,{children:[(0,n.Y)(ca,{}),b]})]}):p?b:null}));var fa=i(70976);const _a=(0,je.default)("div",{target:"e1gnmlil0"})((({useFlex:e})=>[e&&{display:"flex",alignItems:"center",flexDirection:"row",gap:"12px"}]),"label:DivUserTextWrapper;"),ba=(0,je.default)("div",{target:"e1gnmlil1"})((({useFlex:e})=>[e&&{display:"flex",alignItems:"start",flexDirection:"column",width:"100%"}]),"label:DivUserIdentifierWrapper;");var va=i(24488);const ya=(0,je.default)("h3",{target:"e1457k4r0"})((({hasNewHeader:e})=>[{display:"flex",flexDirection:"row",alignItems:"center",marginTop:e?"16px":"22px",color:"rgba(18, 18, 18, .75)"},e&&{flexWrap:"wrap"}]),"label:H3CountInfos;"),xa=(0,je.default)("div",{target:"e1457k4r1"})((({theme:e,theme:{direction:t},isUIRearrange:i,showPointerCursor:n})=>[(0,Ue.zy)({theme:e,fontFamily:i?"TikTokFont":"TikTokDisplayFont",fontWeight:i?"bold":"semiBold",typography:i?"P2":"P1",color:"TextPrimary"}),{display:"flex",direction:"ltr",alignItems:"baseline",cursor:n?"pointer":"default",":not(:last-child)":[(0,Ue.mp)({direction:t,marginEnd:20})]}]),"label:DivNumber;"),Ca=(0,je.default)("span",{target:"e1457k4r2"})((({theme:e,allowTextUnderline:t})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextSecondary"}),{fontSize:"16px",lineHeight:"20px",display:"inline-block",marginLeft:"6px",":hover":{textDecoration:t?"underline":"none"}}]),"label:SpanUnit;"),ka=(0,je.default)("h2",{target:"e1457k4r3"})((({isUIRearrange:e,theme:t,theme:{direction:i}})=>[(0,Ue.mp)({direction:i,textAlign:"start"}),(0,Ue.zy)({theme:t,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextPrimary"}),{whiteSpace:"pre-line",marginTop:e?"16px":"10px",maxWidth:"600px"}]),"label:H2ShareDesc;"),wa=(0,je.default)(lt.Ct,{target:"e1457k4r4"})({marginBottom:"25px"},"label:StyledSkeletonContainer;"),Ia=(0,je.default)(fa.EA.Avatar,{target:"e1457k4r5"})((({theme:e})=>(0,lt.fo)(e)),"label:StyledSkeletonAvatar;"),Sa=(0,je.default)("span",{target:"e1457k4r6"})((({theme:e,theme:{direction:t}})=>[(0,Ue.mp)({direction:t,marginStart:"8px"}),(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextTertiary"}),{overflow:"hidden",textOverflow:"ellipsis"}]),"label:SpanBAInfo;"),Ta=(0,je.default)("h1",{target:"e1457k4r8"})(lt.g2,{wordBreak:"break-word",marginBottom:0},"label:H1ShareTitle;"),Pa=(0,je.default)("div",{target:"e1457k4r13"})((()=>[{marginTop:"13.5px"}]),"label:DivLiveLinksWrapper;"),Da=(0,je.default)(M.L0,{target:"e1457k4r14"})((()=>[{maxWidth:"100%",paddingRight:0,paddingLeft:0,minHeight:"140px",display:"flex",alignItems:"center",gap:"28px"},(0,Ue.jJ)({max:Rn.f5.Small,style:{flexDirection:"column",gap:"20px"}}),{[`${Ta}`]:{fontSize:"24px",lineHeight:"30px"}}]),"label:CreatorPageHeader;"),Ya=(0,je.default)(lt.il,{target:"e1457k4r15"})((()=>[{margin:0,gap:"12px"},{[`> ${va.Dx}`]:{marginTop:0,marginBottom:0}},(0,Ue.jJ)({max:Rn.f5.Small,style:{alignItems:"center",[`${ba}`]:{alignItems:"center",[`${_a}`]:{justifyContent:"center"}}}})]),"label:CreatorPageHeaderShareContainer;"),Fa=(0,je.default)("div",{target:"e1457k4r16"})((()=>[{display:"flex",flexDirection:"column",gap:"12px"},{[`> ${ya}, ${ka}, ${da}, ${Pa}`]:{marginTop:0,marginBottom:0}},(0,Ue.jJ)({max:Rn.f5.Small,style:{alignItems:"center"}})]),"label:CreatorPageHeaderTextContainer;"),La=(0,je.default)("div",{target:"e1a7aieu0"})({minHeight:"255px",maxWidth:"700px"},"label:DivModalContainer;"),ja=(0,je.default)("div",{target:"e1a7aieu1"})((({theme:{colors:e}})=>[{padding:"24px",lineHeight:"36px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`0.5px solid ${e.LineSecondary}`}]),"label:DivHeaderContainer;"),Ea=(0,je.default)("h1",{target:"e1a7aieu2"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary,width:"100%"}]),"label:H1Header;"),Ua=(0,je.default)("div",{target:"e1a7aieu3"})((({theme:e})=>[{width:"32px",height:"32px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Ue.mp)({direction:e.direction})]),"label:DivCloseContainer;"),Ma=(0,je.default)("div",{target:"e1a7aieu4"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontWeight:"normal",fontFamily:"TikTokFont",color:"TextSecondary"}),{padding:"24px",whiteSpace:"pre-wrap"}]),"label:DivContentContainer;"),Oa=(0,je.default)("div",{target:"e1a7aieu5"})((({theme:{colors:e}})=>({padding:"24px",width:"100%",borderTop:`0.5px solid ${e.LinePrimary2}`,display:"flex",justifyContent:"flex-end"})),"label:DivModalFooter;"),Ba=(0,je.default)("span",{target:"e1a7aieu6"})((({theme:e})=>[(0,Ue.zy)({theme:e,color:"Primary"}),{cursor:"pointer",":hover":{textDecoration:"underline"}}]),"label:SpanManagePersonalizedFeeds;"),za=(0,je.default)(En.Cz,{target:"e1a7aieu7"})((({theme:e})=>[(0,Ue.zy)({theme:e,color:"Primary"})]),"label:LinkPrivacy;");var Aa=i(20986),qa=i(89787),Ra=i(6930);function Wa(){return(0,n.FD)(lt.Ov,{children:[(0,n.Y)(lt.TD,{}),(0,n.Y)(lt.pI,{})]})}const Na=(0,r.memo)((function({detailInfo:e}){const{user:t}=e,{uniqueId:i,stateControlledMedia:a,nickname:o,secret:r}=(0,I.L)(t),{isInProductHoldout:l}=(0,Xe.Vv)(),s=!l;if(!t)return(0,n.Y)(Wa,{});const{verified:d,commerceUserInfo:c={}}=t,{category:u,categoryButton:p=!1}=c;return s?(0,n.FD)(ba,{useFlex:!0,children:[(0,n.FD)(_a,{useFlex:!0,children:[(0,n.Y)(Ta,{verified:d,private:r,"data-e2e":"user-title",children:i}),d&&(0,n.Y)(yn.A,{width:20,height:20,"data-e2e":"user-bluev"}),r&&(0,n.Y)(qa.BbK,{size:"20px"}),(0,n.Y)(lt.Qs,{"data-e2e":"user-subtitle",children:o}),p&&u&&(0,n.Y)(Sa,{children:u})]}),(0,n.Y)(Ra.w,{style:{marginTop:"8px"},stateControlledMedia:a,labelType:0,isUserPage:!0})]}):(0,n.FD)(ba,{children:[(0,n.FD)(_a,{children:[(0,n.FD)(Ta,{verified:d,private:r,"data-e2e":"user-title",children:[i," ",d&&(0,n.Y)(yn.A,{width:20,height:20,"data-e2e":"user-bluev"})," ",r&&(0,n.Y)(Aa.A,{width:20,height:20})]}),(0,n.FD)(lt.Qs,{"data-e2e":"user-subtitle",children:[o,p&&u&&(0,n.Y)(Sa,{children:u})]})]}),(0,n.Y)(Ra.w,{style:{marginTop:"8px"},stateControlledMedia:a,labelType:0,isUserPage:!0})]})}));var Va=i(28503);const Ha=(0,r.memo)((function({user:e}){var t;const i=(0,c.s)(),{user:a}=null!==(t=(0,S.W)((()=>["user"]),[]))&&void 0!==t?t:{},o=(0,r.useRef)(null),{uniqueId:l}=e,s=(0,Qn.K)({query:{enter_method:"click_follow"}}),{handleFollow:d,text:u,isFollowing:p,relation:h}=(0,Je.Tu)({uniqueId:l,onNeedLogin:s}),[g,m]=(0,r.useState)(!1),f=3===h,_=4===h,b=p&&!(null==a?void 0:a.hasIMPermission),v=_||f||b||p;(0,r.useEffect)((()=>{_&&ta.h.handleBlockShow(!_)}),[_]);const y=(0,r.useCallback)((()=>{m(!0)}),[]),x=(0,r.useCallback)((()=>{m(!1)}),[]),C=(0,r.useCallback)((e=>{_?y():d(e)}),[_,y,d]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(qa.N0Y,{content:i("user_action_unfollow"),visible:!!v&&void 0,placement:"bottom",variant:"secondary",style:{width:"fit-content"},size:"small",children:(0,n.Y)(qa.I05,{shape:"default",ref:o,label:u,variant:v?"secondary":"primary",leadingIcon:v?(0,n.Y)(qa.fUE,{}):void 0,onClick:C,"aria-label":`${u} ${e.nickname}`,"data-e2e":"follow-button"})}),(0,n.Y)(ea.j,{visible:g,uniqueId:l,onClose:x})]})})),$a=(0,r.memo)((function({uid:e}){var t;const i=(0,c.s)(),a=(0,S.W)((()=>["user"]),[]),o=Boolean(null==a?void 0:a.user),{language:l="en"}=null!==(t=(0,S.W)((()=>["language"]),[]))&&void 0!==t?t:{},s=(0,r.useRef)(null),{path:d,target:u}=(0,jn._Y)(l),p=(0,Qn.K)({query:{enter_method:"click_message"}}),h=(0,r.useCallback)((e=>{o?Un.w.handleEnterChatList():(p(),(0,_.wo)(e))}),[o,p]);return(0,n.Y)(En.Cz,{forceSSR:!1,to:o?`${d}&u=${e}`:"",target:u,onClick:h,style:{textDecoration:"none"},ref:s,children:(0,n.Y)(qa.I05,{label:i("profile_page_message_btn"),variant:"secondary","data-e2e":"message-button"})})}));var Ka=i(2805),Ga=i(6323);const Za=(0,r.memo)((function({report:e,isFollowing:t,itemListKey:i,uniqueId:a}){const o=(0,c.s)(),[l,s]=(0,r.useState)(!1),d=(0,r.useRef)(null),u=(0,r.useCallback)((e=>s((t=>null!=e?e:!t))),[]),p=(0,r.useCallback)((e=>{var t;13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),u()):27===e.keyCode&&l&&(u(!1),null===(t=d.current)||void 0===t||t.focus())}),[u,l]);return e?(0,n.Y)(Ga.E,{itemListKey:i,isFollowing:t,uniqueId:a,report:e,usePopup:!0,popupShowing:l,margin:-5,TuxContainer:({children:e})=>(0,n.Y)(qa.Xwo,{trigger:(0,n.Y)(va.iS,{role:"button",label:"",variant:"secondary",leadingIcon:(0,n.Y)(qa.sLX,{}),onClick:()=>u(),onKeyDown:p,"data-e2e":`${i}-more`,"aria-label":o("creatorCenter_content_actions"),ref:d,tabIndex:0}),placement:"bottom",children:e}),hideMessage:!0}):null}));var Xa;!function(e){e.VerifyTip="1",e.ProfileUpdateTip="2"}(Xa||(Xa={}));const Ja=(0,r.memo)((function({user:e}){var t,i,a;const[o,l]=(0,r.useState)(!1),{uniqueIdModifyTime:s,nickNameModifyTime:d}=e,[u,p]=(0,r.useState)({changeable:!0,nextTimeStr:""}),[h,g]=(0,r.useState)({changeable:!0,nextTimeStr:""}),{language:m}=null!==(t=(0,S.W)((()=>["language"]),[]))&&void 0!==t?t:{},{config:f}=null!==(i=(0,ut.U)((()=>["config"]),[]))&&void 0!==i?i:{},v=null!==(a=null==f?void 0:f.nickNameControlDay)&&void 0!==a?a:"7",y=null!=m?m:"en",[{newUniqueInfo:x},C]=(0,k.S)(Fe),w=(0,pt.U)({pathname:(0,at.fJR)({uniqueId:x.uniqueId}),search:{}}),I=(0,c.s)(),[T,P]=(0,r.useState)(""),D=(0,ht.Us)(),Y=(0,dt.Nj)(we.r);(0,r.useEffect)((()=>{D.appContext&&Y.setContext(D.appContext)}),[D.appContext,Y]),(0,r.useEffect)((()=>{if(s){const{changeable:e,nextTime:t}=Gi(Number(s),30),i=(0,gt.SV)(Number(t),y,"MMM D, YYYY");p({changeable:e,nextTimeStr:i})}}),[y,s]),(0,r.useEffect)((()=>{if(d){const{changeable:e,nextTime:t}=Gi(Number(d),Number(v)),i=(0,gt.SV)(Number(t),y,"MMM D, YYYY");g((t=>Object.assign(Object.assign({},t),{changeable:e,nextTimeStr:i})))}}),[y,d,v]),(0,r.useEffect)((()=>{!(0,_._S)(b.vt)&&(mt.s.handleShowProfileTooltip({enter_from:"personal_homepage"}),(0,_.AP)(b.vt,"1"))}),[]),(0,r.useEffect)((()=>{const e=(0,_.Hd)(b.Iw);e&&(P(e),l(!0),(0,_.X)(b.Iw))}),[]);const F=(0,r.useCallback)((()=>{mt.s.handleClickEditProfile({enter_from:"personal_homepage"}),P("personal_homepage"),l(!0)}),[]),L=(0,r.useCallback)((()=>{l(!1)}),[]),j=(0,r.useCallback)((e=>{(0,_.J2)(b.BP,e?"1":"2"),C.SetSaveCode(Se),l(!1),setTimeout((()=>{window.location.href=w}),3e3)}),[w,C]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(va.$7,{label:I("editprofile_editprofile"),leadingIcon:(0,n.Y)(qa.OH6,{}),"data-e2e":"edit-profile-entrance",onClick:F}),(0,n.Y)(Ri,{editProfileFrom:T,uniqueIdChangeInfo:u,nameChangeInfo:h,onUpdated:j,onCloseModal:L,visible:o,user:e,nickNameControlDay:v})]})}));var Qa=i(4112),eo=i(37734);const to=(0,r.memo)((function(){const e=(0,r.useCallback)((()=>{Qa.q.handleEnterSet({enter_method:"top_bar"})}),[]),t=(0,r.useCallback)((t=>{13===t.keyCode&&e()}),[e]);return(0,n.Y)(En.Cz,{forceSSR:!1,to:eo.OZ.setting,onClick:e,onKeyDown:t,style:{textDecoration:"none"},children:(0,n.Y)(va.iS,{label:"",variant:"secondary",leadingIcon:(0,n.Y)(qa.CKq,{}),onClick:e,onKeyDown:t,"data-e2e":"settings-entrance"})})})),io=()=>{const e=(0,c.s)();return(0,r.useEffect)((()=>{_t.f.sendEvent("Promote_entrance_show",{enter_from:"personal_page_profile"})}),[]),(0,n.Y)(va.$7,{variant:"secondary",label:e("Promote_web_entrance_profile"),leadingIcon:(0,n.Y)(qa.xTL,{}),"data-e2e":"promote-post-entrance",onClick:()=>{_t.f.sendEvent("Promote_entrance_click",{enter_from:"personal_page_profile"}),window.location.href="/promote/web/main?enter_from=personal_page_profile"}})};var no,ao;!function(e){e.FOLLOW="follow",e.MESSAGE="message",e.SHARE="share",e.MORE="more",e.EDIT="edit",e.SETTINGS="settings",e.PROMOTE="promote"}(no||(no={})),function(e){e.TEXT="text",e.ICON="icon",e.TWO_STATE="twoState"}(ao||(ao={}));const oo=["follow","message","share","more"],ro=["edit","promote","settings","share"],lo=(0,r.memo)((function({buttonList:e,detailInfo:t,report:i}){const{uniqueId:a,secUid:o,id:r,secret:l,profileEmbedPermission:s,isUnderAge18:d,isEmbedBanned:c}=(0,I.L)(t.user),u=(0,Gn.b3)({uniqueId:a,secUid:o}),p=(0,et.CE)(a),{hasNewShareMenu:h}=(0,Xe.mT)(),{isFollowing:g}=(0,Je.Tu)({uniqueId:a}),m=Boolean(l)||3===s||d,f=2===s||c,_=(0,nt.I)(`https://www.tiktok.com${(0,Va.fJ)({uniqueId:a,secUid:o})}`,{sender_device:"pc"});return u&&e.some((e=>!ro.includes(e)))||!u&&e.some((e=>!oo.includes(e)))?null:(0,n.Y)(va.Dx,{children:e.map((e=>{if(!t.user)return null;switch(e){case"message":return(0,n.Y)($a,{uid:r},e);case"share":const o=h?Ka.t:Ka.S;return(0,n.Y)(o,{embedCode:p,embedType:1,isEmbedBanned:f,isEmbedDisabled:m,uniqueId:a,uid:r,shareUrl:_},e);case"more":return(0,n.Y)(Za,{report:i,isFollowing:g,uniqueId:a,itemListKey:"user"},e);case"edit":return(0,n.Y)(Ja,{user:t.user},e);case"settings":return(0,n.Y)(to,{},e);case"promote":return(0,n.Y)(io,{},e);case"follow":return(0,n.Y)(Ha,{user:t.user},e);default:return null}}))})}));function so(){return(0,n.Y)(M.L0,{hideActions:!0,children:(0,n.FD)(wa,{children:[(0,n.Y)(Ia,{}),(0,n.FD)(lt.Ov,{children:[(0,n.Y)(lt.TD,{}),(0,n.Y)(lt.pI,{})]})]})})}const co=(0,r.memo)((function({detailInfo:e}){const t=(0,c.s)(),{user:i,stats:a}=e,{language:o="en",user:l}=(0,I.L)((0,S.W)((()=>["language","user"]),[])),{uniqueId:s,secUid:d,nickname:u,relation:p,privateAccount:h,secret:g}=(0,I.L)(i),{isInProductHoldout:m}=(0,Xe.Vv)(),f=!m,{isFollowing:_}=(0,Je.Tu)({uniqueId:s}),b=(0,Gn.b3)({uniqueId:s,secUid:d}),v=(0,Qe.b1)(),y=(0,L.eI)(),[x,C]=(0,r.useState)(!1),[k,w]=(0,r.useState)("others_following"),T=(0,et.CE)(s),{isRTL:P}=(0,tt.m)(),D=(0,Xe.a6)(),Y=4===p||5===p||(null!=h?h:g)&&!(b||1===p||2===p),F=null==l?void 0:l.ftcUser,j=Boolean(l),E=!!(null==i?void 0:i.HasPromoteEntry),U=b?["edit",...E?["promote"]:[],"settings","share"]:["follow","message","share","more"],O=(0,r.useMemo)((()=>{var e;return b?null:{report_type:"user",object_id:null!==(e=null==i?void 0:i.id)&&void 0!==e?e:"",owner_id:null==i?void 0:i.id,secUid:d,nickname:u,lang:o}}),[o,b,null==i?void 0:i.id,d,u]),z=(0,r.useMemo)((()=>"undefined"!=typeof window&&window.innerWidth<=768?150:212),[]);(0,r.useEffect)((()=>{C(!1)}),[s]),(0,r.useEffect)((()=>{a&&!a.needFix||!s||y.getUserDetail({uniqueId:s,secUid:d,language:o})}),[y,a,s,d,o]),(0,r.useEffect)((()=>{void 0===(null==i?void 0:i.uniqueIdModifyTime)&&s&&y.getUserDetail({uniqueId:s,secUid:d,language:o})}),[y,s,d,o,null==i?void 0:i.uniqueIdModifyTime]);const A=(0,r.useCallback)((e=>t=>{var n;D&&(j?(t.preventDefault(),Y||($n(e?"others_following":"others_follower",null!==(n=null==i?void 0:i.id)&&void 0!==n?n:""),w(e?"others_following":"others_follower"),C(!0))):v.openModal({query:{enter_method:e?"click_following":"click_followers"}}))}),[j,v,D,Y,null==i?void 0:i.id]),q=(0,r.useCallback)((()=>{C(!1)}),[]),{handleOpenModal:R,PersonalizedModal:N}=(0,it.D0)({isFeed:!0}),{handleOpenModal:V,SuggestedAccountPersonalizeModal:H}=(({onOpenPersonalizedModal:e})=>{const t=(0,c.s)(),{colors:i}=(0,B.u)(),a=(0,Rn.eb)({closeOnBackdropClick:!0,closeOnEsc:!0,onCloseComplete:e=>{e&&Wn.$.handleCloseManageFeedsHalfSheet()}}),o=(0,r.useCallback)((()=>{a.open(),Wn.$.handleShowManageFeedsHalfSheet()}),[a]),l=(0,r.useCallback)((()=>{a.close("closeButton")}),[a]);return{SuggestedAccountPersonalizeModal:(0,n.Y)(Qi.t,{isMobile:!1,componentName:"suggested-account-personalize-modal",children:(0,n.FD)(Rn.nO,Object.assign(Object.assign({width:"Compact",height:"Compact"},a),{closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,n.FD)(La,{role:"dialog","data-e2e":"follow-info-popup",children:[(0,n.FD)(ja,{children:[(0,n.Y)(Ea,{children:t("sug_accounts")}),(0,n.Y)(Ua,{"aria-label":t("Close_button"),role:"button",tabIndex:0,onClick:l,children:(0,n.Y)(en.g,{size:32,color:i.TextSecondary})})]}),(()=>{const o=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_body",{},"When personalized feeds are turned on, accounts are suggested based on people you may know, including connections of people you follow. You can change what’s suggested to you in %1$s. \n\nYour account may also be suggested to people you may know. Change your discoverability anytime in your %2$s settings."),r=o.indexOf("%1$s"),l=o.indexOf("%2$s"),s=o.substring(0,r),d=o.substring(r+4,l),c=o.substring(l+4)+" ";return(0,n.FD)(Ma,{children:[s,(()=>{const i=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_bodyManagePersonFeedsVariable",{},"Manage personalized feed");return(0,n.Y)(Ba,{onClick:()=>{e(),Wn.$.handleClickInManageFeedsHalfSheet(),a.close()},children:i})})(),d,(()=>{const e=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_bodyPrivacyVariable",{},"Privacy");return(0,n.Y)(za,{to:"/setting",style:{color:i.Primary},onClick:()=>{Wn.$.handleClickInManageFeedsHalfSheet()},children:e})})(),c,(0,n.Y)("a",{href:"https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/suggested-accounts",target:"_blank",rel:"noreferrer",style:{color:i.Primary},onClick:()=>{Wn.$.handleClickInManageFeedsHalfSheet()},children:t("nonpersonalizedFeeds_modal_allScenarios_body_learnMore_articleLink",{},"Learn more")})]})})()]}),(0,n.Y)(Oa,{children:(0,n.Y)(W.y,{buttonTheme:"primary",size:"medium",onClick:l,children:t("nonpersonalizedFeeds_turnOn_modal_toggle_CTA")})})]}))}),handleOpenModal:o,handleCloseModal:l}})({onOpenPersonalizedModal:R});if(!i)return(0,n.Y)(so,{});const{signature:$,isUnderAge18:K,id:G,isEmbedBanned:Z=!1,profileEmbedPermission:X,eventList:J}=i,Q=$||t("No bio yet."),ee=(0,nt.I)(`https://www.tiktok.com${(0,at.fJR)({uniqueId:s,secUid:d})}`,{sender_device:"pc"}),te=Boolean(g)||3===X||K,ie=2===X||Z,ne=(null==J?void 0:J.length)?J.map((e=>({eventId:e.id,eventStartTime:Number(e.start_time),authorId:G}))):void 0,ae=(0,n.FD)(ya,{hasNewHeader:f,children:[(0,n.FD)(xa,{showPointerCursor:D&&!Y,onClick:A(!0),children:[(0,n.Y)("strong",{title:t("Following"),"data-e2e":"following-count",children:a?(0,ot.D1)(a.followingCount):"--"}),(0,n.Y)(Ca,{"data-e2e":"following",allowTextUnderline:D&&!Y,children:t("Following")})]}),(0,n.FD)(xa,{showPointerCursor:D&&!Y,onClick:A(!1),children:[(0,n.Y)("strong",{title:t("Followers"),"data-e2e":"followers-count",children:a?(0,ot.D1)(a.followerCount):"--"}),(0,n.Y)(Ca,{"data-e2e":"followers",allowTextUnderline:D&&!Y,children:t("Followers")})]}),(0,n.FD)(xa,{children:[(0,n.Y)("strong",{title:t("Likes"),"data-e2e":"likes-count",children:a?(0,ot.D1)(Number(a.heart)||a.heartCount):"--"}),(0,n.Y)(Ca,{"data-e2e":"likes",children:t("Likes")})]})]});return f?(0,n.FD)(Da,{embedType:1,embedCode:T,hideActions:!0,isProfile:b,isFollowing:_,isEmbedDisabled:te,isEmbedBanned:ie,uniqueId:s,itemListKey:"user",report:O,shareUrl:ee,uid:G,children:[(0,n.Y)(st.H,{user:i,isFTC:F,e2eTag:"user-avatar",size:z,quality:"Larger"}),(0,n.FD)(Ya,{children:[(0,n.Y)(Na,{detailInfo:e}),(0,n.Y)(lo,{buttonList:U,detailInfo:e,report:O}),(0,n.FD)(Fa,{children:[ae,(0,n.Y)(ka,{"data-e2e":"user-bio",children:Q}),(0,n.Y)(ma,{user:i}),ne?(0,n.Y)(Pa,{children:(0,n.Y)(rt._,{displayMultiEvents:!0,eventList:ne})}):null]})]}),x&&!F&&(0,n.Y)(Kn,{visible:x,onCloseModal:q,user:i,isProfile:b,stats:a,entranceType:k,onOpenSuggestedAccountPersonalizeModal:V}),H,N]}):(0,n.FD)(M.L0,{embedType:1,embedCode:T,hideActions:b,isProfile:b,isFollowing:_,isEmbedDisabled:te,isEmbedBanned:ie,uniqueId:s,itemListKey:"user",report:O,shareUrl:ee,uid:G,style:{maxWidth:"624px",paddingRight:P?0:"92px",paddingLeft:P?"92px":0,minHeight:"140px",display:"flex",flexDirection:"column"},children:[(0,n.FD)(lt.b_,{children:[(0,n.Y)(st.H,{user:i,isFTC:F,e2eTag:"user-avatar"}),(0,n.FD)(lt.il,{children:[(0,n.Y)(Na,{detailInfo:e}),!b&&(0,n.Y)(aa,{user:i}),b&&!F&&(0,n.Y)(Ji,{user:i})]})]}),ae,(0,n.Y)(ka,{"data-e2e":"user-bio",children:Q}),(0,n.Y)(ma,{user:i}),ne?(0,n.Y)(Pa,{children:(0,n.Y)(rt._,{displayMultiEvents:!0,eventList:ne})}):null,x&&!F&&(0,n.Y)(Kn,{visible:x,onCloseModal:q,user:i,isProfile:b,stats:a,entranceType:k,onOpenSuggestedAccountPersonalizeModal:V}),H,N]})}));var uo=i(4072),po=i(38131),ho=i(19682),go=i(65812),mo=i(12898),fo=i(38680),_o=i(22006),bo=i(15068),vo=i(43904),yo=i(34535),xo=i(81661);const Co=e=>{_t.f.sendEvent("click_sort_option",e)};var ko=i(62318),wo=i(75010),Io=i(44529),So=i(15906),To=i(68698),Po=i(55972),Do=i(23709),Yo=i(21039),Fo=i(41001),Lo=i(41828);const jo=(0,je.default)("div",{target:"ejxl5ua0"})((({theme:e})=>({width:"100%",display:"flex",alignItems:"center",padding:"12px 0",paddingInlineEnd:"24px",boxSizing:"border-box",borderRadius:"8px",cursor:"pointer",userSelect:"none",":hover":{background:e.colors.BGView}})),"label:DivPlaylistCardContainer;"),Eo=(0,je.default)("p",{target:"ejxl5ua1"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{minWidth:"36px",justifyContent:"center",marginInlineEnd:"12px",textAlign:"center",alignItems:"center",fontSize:"16px",lineHeight:"20px"}]),"label:PIndex;"),Uo=(0,je.default)("img",{target:"ejxl5ua2"})({width:"80px",height:"80px",objectFit:"cover",flexShrink:0,borderRadius:"2px"},"label:ImgVideoCover;"),Mo=(0,je.default)("div",{target:"ejxl5ua3"})({width:"80px",height:"80px",flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"2px"},"label:DivCoverContainer;"),Oo=(0,je.default)("div",{target:"ejxl5ua4"})({display:"flex",flexDirection:"column",justifyContent:"space-between",marginInlineStart:"20px",flexGrow:1,height:"80px",padding:"10px 0",boxSizing:"border-box"},"label:DivPlaylistInfoContainer;"),Bo=(0,je.default)("p",{target:"ejxl5ua5"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,Ue.m4)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PTitle;"),zo=(0,je.default)("p",{target:"ejxl5ua6"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),Ao=(0,je.default)("div",{target:"ejxl5ua7"})((({theme:e})=>({width:"36px",height:"28px",display:"flex",justifyContent:"center",alignItems:"center","*":{fill:e.colors.TextSecondary}})),"label:DivIconWrapper;"),qo=(0,r.memo)((({id:e,index:t})=>{const i=(0,c.s)(),{name:a="",cover:o,videoCount:r}=(0,I.L)((0,ye.cw)((t=>t[e]),F.bN)),l=i("playlist_webapp_profileview_playlists_numbervid",{num:r,number:(0,ot.D1)(r)}),s=(0,Lo.o0)(a);return(0,n.FD)(jo,{children:[(0,n.Y)(Eo,{children:t<9?`0${t+1}`:t+1}),o?(0,n.Y)(Uo,{src:o}):(0,n.Y)(Mo,{children:(0,n.Y)(Yo.r,{size:40})}),(0,n.FD)(Oo,{children:[(0,n.FD)(Bo,{children:[s,a]}),(0,n.Y)(zo,{children:l})]}),(0,n.Y)(Ao,{children:(0,n.Y)(Fo.D,{size:28})})]})})),Ro=(0,je.default)("div",{target:"eo04fh20"})((()=>[{width:"100%",display:"flex",flexDirection:"column"}]),"label:DivPlaylistContainer;"),Wo=(0,je.default)("p",{target:"eo04fh21"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{fontSize:"16px",lineHeight:"20px",margin:"24px 0 16px"}]),"label:PPlaylistTitle;"),No=(0,je.default)("div",{target:"eo04fh22"})({width:"100%",height:"94px",overflowX:"visible",position:"relative"},"label:DivListContainer;"),Vo=(0,je.default)("div",{target:"eo04fh23"})({width:"100%",height:"94px",overflowX:"auto",overflowY:"hidden",display:"flex",paddingBottom:"6px",position:"relative",scrollbarHeight:"none","::-webkit-scrollbar":{height:0}},"label:DivListInnerContainer;"),Ho=(0,je.default)("div",{target:"eo04fh24"})((({theme:{colors:e,direction:t,isDark:i}})=>[{position:"absolute",width:"32px",height:"32px",borderRadius:"32px",display:"flex",justifyContent:"center",alignItems:"center",border:`0.5px solid ${e.LinePrimary}`,top:"50%",transform:`translateY(-50%) rotateZ(${"rtl"===t?"180deg":0})`,background:i?e.BGInput2:e.BGPrimary,cursor:"pointer"},(0,Ue.mp)({direction:t,start:"-16px"})]),"label:DivSwitchLeft;"),$o="94px",Ko=(0,je.default)("div",{target:"eo04fh25"})((({theme:{colors:e,direction:t}})=>[{background:"rtl"===t?`linear-gradient(0.25turn, ${e.BGPrimary}, 50%, rgba(255,0,0,0))`:`linear-gradient(0.25turn, rgba(255,0,0,0), 50%, ${e.BGPrimary})`,position:"absolute",width:"86px",height:`${$o}`,transform:"translateY(-100%)",pointerEvents:"none"},(0,Ue.mp)({direction:t,end:"0px"})]),"label:DivStyledShadow;"),Go=(0,je.default)(Ho,{target:"eo04fh26"})((({theme:{direction:e}})=>(0,Ue.mp)({direction:e,start:"unset",end:"-16px"})),"label:StyledSwitchRight;"),Zo={width:"calc(33% - 4px)",height:`${$o}`},Xo=(0,je.default)(fa.sH,{target:"eo04fh27"})(Object.assign(Object.assign({},Zo),{marginInlineEnd:"16px",flexShrink:0,borderRadius:"4px","@media screen and (max-width: 1072px)":{minWidth:"230px"}}),"label:StyledSkeleton;"),Jo=(0,je.default)(En.Cz,{target:"eo04fh28"})((({theme:{isDark:e,colors:t},hideMarginEnd:i=!1})=>Object.assign(Object.assign({},Zo),{padding:"12px",boxSizing:"border-box",marginInlineEnd:i?0:"16px",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer",background:e?t.BGInput2:t.BGView,"@media screen and (max-width: 1072px)":{minWidth:"230px"}})),"label:StyledLink;"),Qo=(0,je.default)("div",{target:"eo04fh29"})({width:"100%",height:"100%",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer"},"label:DivPlaylistCardContainer;"),er=(0,je.default)("div",{target:"eo04fh210"})((({theme:{colors:e},needBorder:t})=>({width:"72px",height:"72px",borderRadius:"2px",marginInlineEnd:"12px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexShrink:0,border:t?`1px solid ${e.LineSecondary}`:"none"})),"label:DivPlaylistCardCover;"),tr=(0,je.default)("img",{target:"eo04fh211"})({width:"72px",height:"72px",borderRadius:"2px",objectFit:"cover"},"label:ImgCover;"),ir=(0,je.default)("div",{target:"eo04fh212"})({display:"flex",flexDirection:"column",height:"100%",padding:"4px 0",boxSizing:"border-box",justifyContent:"space-between"},"label:DivPlaylistInfoContainer;"),nr=(0,je.default)("p",{target:"eo04fh213"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,Ue.m4)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PPlaylistName;"),ar=(0,je.default)("p",{target:"eo04fh214"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),or=(0,je.default)("div",{target:"eo04fh215"})((({paddingBottom:e="0px",theme:{colors:t}})=>({width:"692px",height:"calc(100vh - 288px)",maxHeight:"736px",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:e,background:t.BGTertiary,borderRadius:"8px"})),"label:DivModalContainer;"),rr=(0,je.default)("div",{target:"eo04fh216"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P0",color:"TextPrimary"}),{display:"flex",justifyContent:"center",alignItems:"center",height:"80px",borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,width:"100%",flexShrink:0}]),"label:DivModalTitle;"),lr=(0,je.default)("div",{target:"eo04fh217"})({display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",padding:"8px 16px",boxSizing:"border-box",overflowY:"auto"},"label:DivModalContentContainer;"),sr=(0,je.default)("div",{target:"es7r6k70"})((({theme:e,translateY:t,showPlaylistCards:i})=>[(0,Ue.mp)({direction:e.direction,end:i?"12px":"200px"}),{position:"absolute",display:"flex",alignItems:"center",justifyContent:"flex-end",top:"10px",transform:`translateY(${t})`,zIndex:"0"}]),"label:DivPlaylistManageContainer;"),dr=(0,je.default)("div",{target:"es7r6k71"})((({theme:e})=>[(0,Ue.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextSecondary"}),{display:"flex",alignItems:"center",marginInlineStart:"16px",cursor:"pointer",fontSize:"16px",lineHeight:"24px"}]),"label:DivManageItem;"),cr=(0,je.default)(dr,{target:"es7r6k72"})((({theme:e})=>({color:e.colors.Primary})),"label:StyledDivManageItem;"),ur=(0,je.default)("div",{target:"es7r6k73"})({width:"20px",height:"20px",marginInlineEnd:"2px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivPlusContainer;"),pr=(0,je.default)(ur,{target:"es7r6k74"})({transform:"rotateZ(90deg)",marginInlineEnd:"unset",marginTop:"2px"},"label:StyledReorderContainer;");const hr=(0,r.memo)((({showPlaylistCards:e=!1})=>{const t=(0,c.s)(),{isDark:i}=(0,B.u)(),[{playlist:a,changeOrderLoading:o,loading:l},s]=(0,ve.kn)((e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],changeOrderLoading:e.changeOrderLoading,loading:e.loading}}),F.bN),d=(0,xe.M_)(),[u,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(a);(0,r.useEffect)((()=>{g(a)}),[a,u]);const[m,f]=(0,r.useState)(-1),_=(0,r.useCallback)((()=>{p(!1)}),[]),b=(0,r.useCallback)((()=>{d.setProfileState("create_playlist"),R.c.handleCreatePlaylist()}),[d]),v=(0,r.useCallback)((()=>{p(!0),R.c.handleClickChangePlaylistOrder()}),[]),y=(0,r.useCallback)((()=>{return e=void 0,i=void 0,a=function*(){m<=0||0!==(yield s.changePlaylistOrder({playlist:h,endIndex:m,successCallback:_}))&&Y.F.open({content:t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"})},new((n=void 0)||(n=Promise))((function(t,o){function r(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,l)}s((a=a.apply(e,i||[])).next())}));var e,i,n,a}),[s,m,_,h,t]),x=(0,r.useCallback)((e=>{if(!e.destination)return;const t=(0,X.Y)(h,e.source.index,e.destination.index);g(t),f(Math.max(m,e.source.index,e.destination.index))}),[m,h]),C=(0,r.useCallback)((({id:e,index:t})=>(0,n.Y)(qo,{id:e,index:t},e)),[]),k=e&&a.length>0?"64px":"0px";return 0===a.length&&l?null:(0,n.FD)(sr,{translateY:k,showPlaylistCards:e,children:[a.length>=2&&(0,n.FD)(dr,{onClick:v,children:[(0,n.Y)(pr,{children:(0,n.Y)(To.a,{size:16})}),t("playlist_webapp_profileview_btn_changeorder")]}),(0,n.FD)(cr,{onClick:b,children:[(0,n.Y)(ur,{children:(0,n.Y)(Po.m,{size:16})}),t("playlist_webapp_profile_entry_create")]}),(0,n.Y)(Do.aF,{visible:u,closeStyle:3,onClose:_,zIndex:3e3,children:(0,n.FD)(or,{paddingBottom:"92px",children:[(0,n.Y)(rr,{children:t("playlist_webapp_changeorder_header")}),(0,n.Y)(lr,{children:(0,n.Y)(X.q,{onDragEnd:x,list:h,renderItem:C})}),(0,n.Y)(V.dJ,{onClick:y,children:(0,n.Y)(W.y,{style:N.i9,buttonTheme:"primary",disabled:m<=0,loading:o,loadingFill:i?"#fff":void 0,children:t("playlist_webapp_upload_nameplaylist_btn")})})]})})]})}));var gr=i(57293),mr=i(61658);const fr=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==i?i:0},_r=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.clientWidth)&&void 0!==i?i:0},br=(e,t,i)=>{if(i<=0)return;const n=(t-e.scrollLeft)/i*10;setTimeout((function(){e.scrollTo({left:e.scrollLeft+n,behavior:"instant"}),e.scrollLeft!==t&&br(e,t,i-10)}),10)};var vr=i(81010);const yr=(0,r.memo)((0,r.forwardRef)((({id:e,onClickPlaylistCard:t,hideMarginEnd:i},a)=>{const o=(0,c.s)(),{name:l="",cover:s="",videoCount:d=0,creator:u}=(0,I.L)((0,ye.cw)((t=>t[e]),F.bN)),p=o("playlist_webapp_profileview_playlists_numbervid",{num:d,number:(0,ot.D1)(d)}),{uniqueId:h}=(0,I.L)(u),g=(0,r.useMemo)((()=>h&&e?eo.$T.videoPlaylist({uniqueId:h,content:l,id:e}):""),[h,l,e]),m=(0,r.useCallback)((e=>e.preventDefault()),[]),f=(0,Lo.o0)(l);return(0,n.Y)(Jo,{forceSSR:!1,to:g,onClick:m,style:{textDecoration:"none"},ref:a,hideMarginEnd:i,children:(0,n.FD)(Qo,{onClick:t({id:e,name:l,uniqueId:h}),children:[(0,n.Y)(er,{needBorder:!s,children:s?(0,n.Y)(tr,{src:s}):(0,n.Y)(vr.y,{size:28,color:"TextQuaternary"})}),(0,n.FD)(ir,{children:[(0,n.FD)(nr,{children:[f,l]}),(0,n.Y)(ar,{children:p})]})]},e)})}))),xr=(0,r.memo)((()=>(0,n.FD)(n.FK,{children:[(0,n.Y)(Xo,{}),(0,n.Y)(Xo,{}),(0,n.Y)(Xo,{}),(0,n.Y)(Xo,{}),(0,n.Y)(Xo,{})]}))),Cr=(0,r.memo)((({isSelf:e,relation:t})=>{const i=(0,c.s)(),a=(0,l.W6)(),{playlist:o=[],loading:s}=(0,ve.aD)((e=>({playlist:e.playList,loading:e.loading})),F.bN),[d,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),{language:m="en"}=(0,I.L)((0,S.W)((()=>["language"]),[])),{rootRef:f}=(({mixId:e})=>{const[t,i]=(0,k.S)(A.O,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{}},dependencies:[e]}),{loading:n=!1,hasMore:a=!0}=(0,I.L)(t),{language:o}=(0,I.L)((0,S.W)((()=>["language"]),[])),l=(0,r.useCallback)((()=>{!n&&a&&e&&i.getPlaylistVideoList({mixId:e,language:o})}),[a,i,o,n,e]);(0,mr.Wj)(e,l);const s=(0,r.useRef)(null);return(0,An.O9)({onHitBottom:l,elemRef:s}),{rootRef:s}})({mixId:d}),[b,v]=(0,k.S)(A.O,{selector:e=>{var t;return null!==(t=e[d])&&void 0!==t?t:{}},dependencies:[d]}),{videoCount:y}=(0,I.L)((0,ye.cw)((e=>e[d]),F.bN)),{loading:x=!1,hasMore:C=!0,list:w=[]}=(0,I.L)(b),[T,P]=(0,r.useState)(!1),D=(0,r.useCallback)((({id:t,name:i,uniqueId:n})=>()=>{if(R.c.handleClickPlaylistEntrance({playlist_id:t}),e){const e=t&&n&&i?eo.$T.videoPlaylist({id:t,uniqueId:n,content:i}):"";e&&a.push(e)}else P(!0),p(t),g(i)}),[a,e]),Y=(0,r.useCallback)((()=>{P(!1)}),[]),{showBrowserMode:j,isBrowserModeShowing:E}=(0,r.useContext)(G.g),[U,{setItemListKey:M}]=(0,u.BI)((e=>e.itemListKey)),O=(0,r.useRef)(U);(0,r.useEffect)((()=>{!O.current&&U&&(O.current=U)}),[U]),(0,r.useEffect)((()=>{E||M(O.current)}),[E,M]);const B=(0,r.useMemo)((()=>({playlist_id:d,popup_type:"playlist"})),[d]),z=(0,r.useCallback)((e=>()=>{M(d),j({index:e,itemListKey:d,teaParams:B,playProgress:0,reportTeaParams:B})}),[d,M,j,B]),q=(0,r.useMemo)((()=>E?{display:"none"}:void 0),[E]),{listCardRef:W,listRef:N,showSwitchLeft:V,hideSwitchRight:H,handleClickSwitchLeft:$,handleClickSwitchRight:K,handleScroll:Z}=(()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),{isRTL:i}=(0,tt.m)(),[{playlist:n,hasMore:a},o]=(0,ve.kn)((e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],hasMore:e.hasMore}}),F.bN),l=n.length,[s,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),p=_r(e),h=e=>(p+16)*e,g=h(3),m=i?-1*g:g,{secUid:f="",uniqueId:b=""}=(0,xe.R0)((e=>({secUid:e.secUid,uniqueId:e.uniqueId})),F.bN),{id:v}=(0,I.L)((0,L.nW)((e=>{var t;return null===(t=e.users)||void 0===t?void 0:t[b]}),F.bN)),y=(0,r.useCallback)((n=>{if((0,_.Gu)(n),!t.current||!e.current)return;const a=fr(t),o=i?Math.min(a-m,0):Math.max(a-m,0);br(t.current,o,200)}),[i,m]),x=(0,r.useCallback)((i=>{if((0,_.Gu)(i),!t.current||!e.current)return;const n=fr(t);br(t.current,n+m,200)}),[m]),C=l*p+16*(l-1),k=(0,Oi._g)((()=>{var e;if(!t.current)return;const i=Math.abs(fr(t)),n=(null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.scrollWidth)-i-_r(t);C-i<=h(4)&&o.getVideoPlaylistData({secUid:f,uid:v}),u(!a&&n<5),d(0!==i)}),[l,p],200);return{listRef:t,listCardRef:e,showSwitchLeft:s,hideSwitchRight:c,handleClickSwitchLeft:y,handleClickSwitchRight:x,handleScroll:k}})();return(0,r.useEffect)((()=>{!x&&0===w.length&&C&&d&&v.getPlaylistVideoList({mixId:d,language:m})}),[C,v,m,w.length,d,x,t]),(0,n.FD)(Ro,{children:[(s||o.length>0)&&(0,n.FD)(n.FK,{children:[(0,n.Y)(Wo,{children:i("playlist_webapp_profileview_playlists")}),(0,n.FD)(No,{children:[(0,n.FD)(Vo,{ref:N,onScroll:Z,children:[o.map(((e,t)=>(0,n.Y)(yr,{id:e,onClickPlaylistCard:D,ref:0===t?W:void 0,hideMarginEnd:t===o.length-1},e))),s&&(0,n.Y)(xr,{})]}),V&&(0,n.Y)(Ho,{onClick:$,children:(0,n.Y)(gr.p,{size:16})}),o.length>3&&!H&&(0,n.FD)(n.FK,{children:[(0,n.Y)(Ko,{}),(0,n.Y)(Go,{onClick:K,children:(0,n.Y)(Fn.a,{size:16})})]})]}),(0,n.Y)(Wo,{children:i("Videos")})]}),(0,n.Y)(Do.aF,{visible:T,containerStyle:q,maskCloseable:!0,onClose:Y,zIndex:3e3,closeStyle:3,children:(0,n.FD)(or,{children:[(0,n.FD)(rr,{children:[h," (",y,")"]}),(0,n.FD)(lr,{ref:f,children:[w.map(((e,t)=>(0,n.Y)(J.$E,{id:e,index:t,onClickVideoItem:z(t),extraTeaParams:B},e))),x&&(0,n.Y)(qn.R,{size:48})]})]})})]})})),kr=(0,i(47236).Ay)({resolved:{},chunkName:()=>"favorites",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>i.e(4062).then(i.bind(i,11993)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>11993}),wr=(0,je.default)("div",{target:"e1jjp0pq0"})((({theme:{direction:e}})=>[{position:"relative",top:"0px",zIndex:"0",display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",width:"100%",height:"44px"},(0,Ue.mp)({direction:e})]),"label:DivVideoFeedTab;"),Ir=({theme:e,theme:{colors:t},active:i})=>{let n="#73747b";return i?n=t.Primary2:e.isDark&&(n=t.TextTertiary),[(0,Ue.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P1"}),{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:"44px",padding:"0 32px",cursor:"pointer",textAlign:"center",color:n,gap:"4px","& > svg":{height:"20px",width:"20px"}}]},Sr=(0,je.default)("p",{target:"e1jjp0pq1"})(Ir,"label:PPost;"),Tr=(0,je.default)("p",{target:"e1jjp0pq2"})(Ir,"label:PRepost;"),Pr=(0,je.default)("p",{target:"e1jjp0pq3"})(Ir,"label:PFavorite;"),Dr=(0,je.default)("p",{target:"e1jjp0pq4"})(Ir,"label:PLike;"),Yr=(0,je.default)("span",{target:"e1jjp0pq5"})((({theme:{direction:e}})=>(0,Ue.mp)({direction:e,marginStart:6})),"label:SpanLiked;"),Fr=(0,je.default)("div",{target:"e1jjp0pq6"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",height:"2px",background:e.TextPrimary,bottom:"0",transition:"transform .3s"},(0,Ue.mp)({direction:t,start:0})]),"label:DivBottomLine;"),Lr={padding:"2px",marginTop:"2px",marginBottom:"8px"},jr={minWidth:"102px",marginTop:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)"},Er=(0,je.default)("div",{target:"e1jjp0pq7"})((({theme:{colors:e},hasPlaylist:t})=>[{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",minHeight:"46px",marginBottom:t?void 0:"24px",backgroundColor:e.BGPrimary,"::after":{position:"absolute",bottom:0,left:0,content:'""',width:"100%",height:"1px",backgroundColor:e.ShadowPrimary,transform:"scaleY(50%)"}}]),"label:FeedTabWrapper;"),Ur=(0,je.default)("div",{target:"e1jjp0pq8"})((({isCenter:e,hasPlaylist:t})=>[{width:"100%",height:"60px",display:"flex",paddingTop:t?"24px":void 0},e?{justifyContent:e?"center":"flex-start"}:null]),"label:SortTypeContainer;"),Mr=(0,je.default)("div",{target:"e1jjp0pq9"})((({theme:{direction:e,colors:t,isDark:i},active:n})=>[{cursor:"pointer",display:"flex",height:"32px",padding:"8px",justifyContent:"center",alignItems:"center",borderRadius:"8px",color:i?t.TextSecondary:"rgba(138, 139, 145, 1)","&:not(:last-child)":(0,Ue.mp)({direction:e,marginEnd:"16px"}),"&:hover":{color:i?"rgba(138, 139, 145, 1)":t.UIText1},":active":{background:t.UIShapeNeutral4,color:i?t.TextSecondary:"rgba(138, 139, 145, 1)"}},n?{backgroundColor:i?t.ConstBGPlaceholderOpaque:t.UIShapeNeutral4,color:i?t.ConstTextPrimary:t.UIText1}:null]),"label:SortTypeButton;"),Or=(0,je.default)("span",{target:"e1jjp0pq10"})({fontStyle:"normal",fontWeight:500,fontSize:"15px",lineHeight:"19.5px",letterSpacing:"0.061px"},"label:SortTypeText;");var Br=i(84679);const zr=(0,r.memo)((function({detailInfo:e}){var t;const{isRTL:i}=(0,tt.m)(),{isRepostTabEnabled:a}=(0,Xe.hn)(),{isCollectionEnabled:o}=(0,Xe.Ge)(),{isPostSortBottomLeftEnabled:s,isPostSortBottomMiddleEnabled:d,isPostSortRightTwoOptionsEnabled:p,isPostSortRightMenuEnabled:h,isPostSortRightThreeOptionsEnabled:g}=(0,Xe.s0)(),[{hasRepostVideo:m,hasMoreRepostVideo:f},_]=(0,ko.zu)((e=>({hasMoreRepostVideo:e.hasMore,hasRepostVideo:e.list.length>0})),F.bN),b=(0,bo.useCollectionInfoListState)((e=>{var t,i;return(null!==(i=null===(t=e.collectionList)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0})),v=(0,c.s)(),{user:y}=(0,I.L)(e),{relation:x,secUid:C="",openFavorite:k,profileTab:w,canExpPlaylist:S=!1,privateAccount:T=!1}=(0,I.L)(y),{uniqueId:P}=(0,l.g)(),{showPlayListTab:D=!1}=(0,I.L)(w),Y=(0,Gn.b3)({secUid:C,uniqueId:P}),{state:{isJumpToFavorite:L=!1}={}}=(0,l.zy)(),[E,U]=(0,j.eW)(),O=v(1===E?"nonpersonalizedFeeds_LIVEfeed_navP_menuLink":"ttep_homepage_nav_header_latest"),B=(0,r.useRef)(null),z=(0,r.useRef)(null),A=(0,r.useRef)(null),q=(0,r.useRef)(null),R=(0,r.useRef)(P),W=(0,r.useRef)(L),[N,V]=(0,r.useState)("user-post"),[H,$]=(0,r.useState)(!1),[K,G]=(0,r.useState)({left:0,width:0}),Z=(0,wo.cI)(),X=(0,dt.Nj)(vo.AU),J=(0,Io.Ag)(),Q=(0,r.useMemo)((()=>({"user-post":B,"user-repost":z,favorites:A,"user-liked":q})),[]),[ee,te]=(0,r.useState)(0),ie={author_id:Number(null!==(t=null==y?void 0:y.id)&&void 0!==t?t:0),page_name:Y?"personal_homepage":"others_homepage",sort_option:"latest"};(0,r.useEffect)((()=>{te(0)}),[C]),(0,r.useEffect)((()=>{ee<1&&C&&a&&!m&&f&&(te((e=>e+1)),_.getItemList({secUid:C}))}),[C,ee,a,m,f]),(0,r.useEffect)((()=>{var e,t;R.current!==P&&(V("user-post"),G({left:0,width:null!==(t=null===(e=B.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0}),Z.setLoading(!1),R.current=P)}),[Z,P]);const ne=(0,u.YZ)();(0,r.useEffect)((()=>{ne.setItemListKey(N)}),[ne,N]),(0,r.useEffect)((()=>{var e,t;G({left:0,width:null!==(t=null===(e=B.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0})}),[]);const ae=(0,r.useCallback)((e=>{const{offsetWidth:t}=(0,I.L)(e.parentNode),{offsetLeft:n,offsetWidth:a}=e;return i?n+a-t:n}),[i]),oe=(0,r.useCallback)((e=>t=>{if(N===e)return;"favorites"!==e||W.current||yo.W.handleEnterFavourite("click_favourite_tab"),"user-liked"===e&&xo.z.handleEnterLike("click_like_tab"),J.setLoading(N,!1),ne.setItemListKey(e);const i=t.currentTarget,n=ae(i),a=i.offsetWidth;G({left:n,width:a}),V(e),X.handleUserChangeVideoOrPlayMode()}),[N,J,ne,ae,X]),re=(0,r.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||oe(e)(t)}),[oe]),le=(0,r.useCallback)((e=>{const t=ae(e.currentTarget),i=e.currentTarget.offsetWidth;G({left:t,width:i})}),[ae]),se=(0,r.useCallback)((()=>{var e,t;const i=Q[N].current;if(i){const n=ae(i);G({left:n,width:null!==(t=null===(e=Q[N].current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0})}}),[ae,N,Q]),de=(0,r.useCallback)((e=>{U.setUserPostSortType(e),0===e?ie.sort_option="latest":1===e?ie.sort_option="popular":2===e&&(ie.sort_option="oldest"),Co(ie)}),[ie]);(0,r.useEffect)((()=>{W.current=L}),[L]),(0,r.useEffect)((()=>{if(W.current){oe("favorites")({currentTarget:Q.favorites.current}),W.current=!1;const e=Object.assign(Object.assign({},window.history.state),{state:Object.assign(Object.assign({},window.history.state.state),{isJumpToFavorite:!1})});window.history.replaceState(e,document.title)}}),[oe,Q,L]);const ce=4===x,ue=(0,r.useMemo)((()=>!(T&&!Y)&&D&&!ce&&"user-post"===N),[T,Y,D,ce,N]),pe=Y&&S,he=a&&m,ge=Y||o&&b;return(0,r.useEffect)((()=>{if(he||ge){const e=Q[N].current,t=ae(e),i=e.offsetWidth;G({left:t,width:i})}}),[he,ge,Q,N,ae]),(0,n.FD)(M.zk,{style:{minWidth:"0"},children:[(0,n.FD)(Er,{hasPlaylist:ue,children:[(0,n.FD)(wr,{onMouseLeave:se,children:[(0,n.FD)(Sr,{"aria-selected":"user-post"===N,role:"tab",active:"user-post"===N,ref:B,"data-e2e":"videos-tab",onMouseEnter:le,onClickCapture:oe("user-post"),onKeyDown:re("user-post"),tabIndex:0,children:[o&&(0,n.Y)(uo.C,{}),(0,n.Y)("span",{children:v("Videos")})]}),(0,n.FD)(Tr,{"aria-selected":"user-repost"===N,role:"tab",active:"user-repost"===N,ref:z,"data-e2e":"repost-tab",onMouseEnter:le,onClickCapture:oe("user-repost"),onKeyDown:re("user-repost"),tabIndex:0,style:{display:he?void 0:"none"},children:[o&&(0,n.Y)(po.z,{}),(0,n.Y)("span",{children:v("pcWeb_repostTab")})]}),(0,n.Y)(Pr,{"aria-selected":"favorites"===N,role:"tab",active:"favorites"===N,onMouseEnter:le,onClickCapture:oe("favorites"),style:{display:ge?void 0:"none"},ref:A,onKeyDown:re("favorites"),tabIndex:0,children:o?(0,n.FD)(n.FK,{children:[Y?(0,n.Y)(ho.o,{}):(0,n.Y)(go.M,{}),(0,n.Y)("span",{children:v("sortbyvv_profile_tab_text_favorites")})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(_o.A,{}),(0,n.Y)(Yr,{children:v("sortbyvv_profile_tab_text_favorites")})]})}),(0,n.Y)(Dr,{"aria-selected":"user-liked"===N,role:"tab",active:"user-liked"===N,ref:q,"data-e2e":"liked-tab",onMouseEnter:le,onClickCapture:oe("user-liked"),onKeyDown:re("user-liked"),tabIndex:0,children:o?(0,n.FD)(n.FK,{children:[k?(0,n.Y)(mo.K,{}):(0,n.Y)(fo.w,{}),(0,n.Y)("span",{children:v("liked")})]}):(0,n.FD)(n.FK,{children:[!k&&(0,n.Y)(_o.A,{}),(0,n.Y)(Yr,{children:v("liked")})]})}),(0,n.Y)(Fr,{style:{transform:`translateX(${K.left}px)`,width:K.width}})]}),"user-post"===N&&(p||g)&&(0,n.Y)(qa.DUM,{compact:!0,size:"xs",shape:"rectangle",style:Lr,value:E,onChange:de,items:[{value:0,title:v("ttep_homepage_nav_header_latest")},{value:1,title:v("nonpersonalizedFeeds_LIVEfeed_navP_menuLink")},...g?[{value:2,title:v("sortVideos_menu_oldest")}]:[]]}),"user-post"===N&&h&&(0,n.FD)(qa.nb1,{trigger:(0,n.Y)(qa.I05,{label:O,size:"small",variant:"secondary",style:jr,trailingIcon:(0,n.Y)(qa.zus,{size:"medium"})}),open:H,onOpenChange:$,children:[(0,n.Y)(qa.KhS,{checked:0===E,onClick:()=>{U.setUserPostSortType(0),Co(Object.assign(Object.assign({},ie),{sort_option:"latest"}))},children:v("ttep_homepage_nav_header_latest")}),(0,n.Y)(qa.KhS,{checked:1===E,onClick:()=>{U.setUserPostSortType(1),Co(Object.assign(Object.assign({},ie),{sort_option:"popular"}))},children:v("nonpersonalizedFeeds_LIVEfeed_navP_menuLink")})]}),"favorites"===N&&o&&Y&&(0,n.Y)(So.B,{isOnTabBar:!0})]}),"user-post"===N&&(s||d)&&(0,n.FD)(Ur,{isCenter:d,hasPlaylist:ue,children:[(0,n.Y)(Mr,{active:0===E,onClick:()=>{U.setUserPostSortType(0),Co(Object.assign(Object.assign({},ie),{sort_option:"latest"}))},children:(0,n.Y)(Or,{children:v("ttep_homepage_nav_header_latest")})}),(0,n.Y)(Mr,{active:1===E,onClick:()=>{U.setUserPostSortType(1),Co(Object.assign(Object.assign({},ie),{sort_option:"popular"}))},children:(0,n.Y)(Or,{children:v("nonpersonalizedFeeds_LIVEfeed_navP_menuLink")})})]}),"user-post"===N&&(0,n.FD)(n.FK,{children:[pe&&(0,n.Y)(hr,{showPlaylistCards:ue}),ue&&(0,n.Y)(Cr,{isSelf:Y,relation:x})]}),"favorites"===N&&o?(0,n.Y)(kr,{detailInfo:e}):(0,n.Y)(Br.z,{detailInfo:e,listKey:N})]})})),Ar=Le.i7`
  0% {
    transform: scale3d(1, 0, 1);
    opacity: 0;
  }

  100% {
    transform: scale3d(1, 1, 1);
    opacity: 1;
  }
`,qr=400,Rr=(0,je.default)("div",{target:"eq582980"})((({theme:e,scaleInShow:t})=>[{display:"flex",width:"100%",height:0,background:e.colors.ConstBGInverse,transform:"scale3d(1, 0, 1)",transformOrigin:"0 0",opacity:0,position:"relative"},"ltr"===e.direction?{justifyContent:"right"}:{justifyContent:"left"},t&&{height:qr,animation:`${Ar} .5s cubic-bezier(0.19, 1, 0.22, 1) forwards`}]),"label:DivLiveBanner;"),Wr=(0,je.default)("div",{target:"eq582981"})((({theme:{direction:e}})=>[{display:"flex",height:"100%",width:"100%",overflow:"hidden",flexDirection:"column",justifyContent:"center",position:"absolute",top:0,left:0,zIndex:4},"ltr"===e?{background:"linear-gradient(90deg, #000 11.72%, rgba(0, 0, 0, 0.97) 14.48%, rgba(0, 0, 0, 0.93) 16.9%, rgba(0, 0, 0, 0.89) 19.04%, rgba(0, 0, 0, 0.84) 20.93%, rgba(0, 0, 0, 0.79) 22.62%, rgba(0, 0, 0, 0.72) 24.16%, rgba(0, 0, 0, 0.66) 25.6%, rgba(0, 0, 0, 0.59) 26.98%, rgba(0, 0, 0, 0.51) 28.34%, rgba(0, 0, 0, 0.43) 29.73%, rgba(0, 0, 0, 0.35) 31.2%, rgba(0, 0, 0, 0.27) 32.79%, rgba(0, 0, 0, 0.18) 34.55%, rgba(0, 0, 0, 0.09) 36.52%, rgba(0, 0, 0, 0.03) 38.75%), linear-gradient(90deg, rgba(0, 0, 0, 0.30) 72.03%, rgba(0, 0, 0, 0.29) 74.89%, rgba(0, 0, 0, 0.28) 77.39%, rgba(0, 0, 0, 0.27) 79.6%, rgba(0, 0, 0, 0.25) 81.56%, rgba(0, 0, 0, 0.24) 83.31%, rgba(0, 0, 0, 0.22) 84.91%, rgba(0, 0, 0, 0.20) 86.39%, rgba(0, 0, 0, 0.18) 87.82%, rgba(0, 0, 0, 0.15) 89.23%, rgba(0, 0, 0, 0.13) 90.67%, rgba(0, 0, 0, 0.11) 92.19%, rgba(0, 0, 0, 0.08) 93.83%, rgba(0, 0, 0, 0.05) 95.65%, rgba(0, 0, 0, 0.03) 97.69%, rgba(0, 0, 0, 0.00) 100%)",paddingLeft:72}:{background:"linear-gradient(270deg, #000 11.25%, rgba(0, 0, 0, 0.97) 14.1%, rgba(0, 0, 0, 0.93) 16.61%, rgba(0, 0, 0, 0.89) 18.82%, rgba(0, 0, 0, 0.84) 20.78%, rgba(0, 0, 0, 0.79) 22.53%, rgba(0, 0, 0, 0.72) 24.13%, rgba(0, 0, 0, 0.66) 25.61%, rgba(0, 0, 0, 0.59) 27.04%, rgba(0, 0, 0, 0.51) 28.44%, rgba(0, 0, 0, 0.43) 29.88%, rgba(0, 0, 0, 0.35) 31.4%, rgba(0, 0, 0, 0.27) 33.05%, rgba(0, 0, 0, 0.18) 34.87%, rgba(0, 0, 0, 0.09) 36.91%, rgba(0, 0, 0, 0.03) 39.22%), linear-gradient(270deg, rgba(0, 0, 0, 0.30) 72.03%, rgba(0, 0, 0, 0.29) 74.89%, rgba(0, 0, 0, 0.28) 77.39%, rgba(0, 0, 0, 0.27) 79.6%, rgba(0, 0, 0, 0.25) 81.56%, rgba(0, 0, 0, 0.24) 83.31%, rgba(0, 0, 0, 0.22) 84.91%, rgba(0, 0, 0, 0.20) 86.39%, rgba(0, 0, 0, 0.18) 87.82%, rgba(0, 0, 0, 0.15) 89.23%, rgba(0, 0, 0, 0.13) 90.67%, rgba(0, 0, 0, 0.11) 92.19%, rgba(0, 0, 0, 0.08) 93.83%, rgba(0, 0, 0, 0.05) 95.65%, rgba(0, 0, 0, 0.03) 97.69%, rgba(0, 0, 0, 0.00) 100%)",paddingRight:72}]),"label:DivLiveTitleWrapper;"),Nr=(0,je.default)("div",{target:"eq582982"})((({theme:e})=>({fontSize:"32px",fontStyle:"normal",fontWeight:700,lineHeight:"120%",color:e.colors.ConstTextInverse,marginTop:4})),"label:DivLiveTitle;"),Vr=(0,je.default)("div",{target:"eq582983"})((({theme:e})=>({display:"flex",alignItems:"center",fontSize:"18px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",color:e.colors.ConstTextInverse,marginTop:24})),"label:DivLiveSubTitle;"),Hr=(0,je.default)("div",{target:"eq582984"})({height:26},"label:DivLiveBadgeWrapper;"),$r=(0,je.default)("span",{target:"eq582985"})((({theme:e})=>[(0,Ue.zy)({theme:e,typography:"P2",fontWeight:"semiBold",color:"ConstTextInverse"}),{display:"inline-block",height:26,background:"linear-gradient(131deg, #FF1764 0%, #ED3495 94.15%)",lineHeight:"22px",padding:"2px 8px",borderRadius:"5px"}]),"label:SpanLiveBadge;"),Kr=(0,je.default)("div",{target:"eq582986"})((({theme:e})=>({display:"flex",transform:"ltr"===e.direction?"none":"rotateY(180deg)"})),"label:DivIconWrapper;");var Gr=i(80832),Zr=i(45499),Xr=i(16711),Jr=i(34005),Qr=i(17787),el=i(29592),tl=i(28450),il=i(88035),nl=i(64402),al=i(72267),ol=i(65479),rl=i(9603),ll=i(29440),sl=i(30588);const dl=(0,je.default)("div",{target:"e18i8ga0"})((({theme:e,ratio:t})=>[{width:t>1?Math.floor(t*qr):463,height:qr,background:e.colors.ConstBGInverse,position:"relative",overflow:"hidden"}]),"label:DivLiveWrapper;"),cl=(0,je.default)("div",{target:"e18i8ga1"})((({ratio:e})=>[{width:e>1?Math.floor(e*qr):463,height:e>1?"100%":Math.floor(463/e),position:"absolute",left:"50%",zIndex:1},e>1?{transform:"translateX(-50%)",top:0}:{transform:"translate(-50%, -50%)",top:"50%"}]),"label:DivLiveCutter;"),ul=(0,je.default)("div",{target:"e18i8ga2"})({width:"100%",height:"100%",position:"absolute",zIndex:3,pointerEvents:"none",top:0,left:0},"label:DivFeedPlayerMultiGuestPanelWrapper;"),pl=e=>{const{url:t,roomId:i,liveLinkTeaParams:a,onPlay:o}=e,l=(0,r.useRef)(),s=(0,r.useRef)(!1),d=(0,r.useRef)(!1),[c,u]=(0,r.useState)(1),[p,h]=(0,m.useAtom)(g.K),[f]=(0,m.useAtom)(el.J),[_,b]=(0,r.useState)(!0),v=(0,r.useRef)(0),{handleMultiGuestPanelShow:y}=(0,tl.P)({roomId:i,active:!0}),x=(0,r.useMemo)((()=>({enter_from_merge:a.enter_from_merge,enter_method:a.enter_method,follow_status:a.follow_status,anchor_id:a.anchor_id,room_id:a.room_id,action_type:a.action_type,previous_page:_t.f.commonParams.previous_page})),[a]),C=(0,r.useCallback)((()=>{var e;if(!s.current)return null===(e=l.current)||void 0===e||e.retry(),void(s.current=!0);Jr.mx.handleLivePreviewFail(Object.assign({},x)),h(Object.assign(Object.assign({},p),{isError:!0}))}),[l,s,a,p,h]),k=(0,r.useCallback)((()=>{b(!0),o(),v.current=Date.now(),d.current=!1}),[o,a]),w=(0,r.useCallback)((()=>{v.current>0&&!d.current&&sl.p.handleLivePreviewDuration(Object.assign(Object.assign({},x),{duration:Date.now()-v.current}),{sendBeacon:!0})}),[v,x]),I=(0,r.useCallback)((()=>{b(!1),w()}),[b,w]);(0,r.useEffect)((()=>{const e=()=>{w(),d.current=!0};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,r.useEffect)((()=>()=>{w(),d.current=!0}),[]);const{handleMultiGuestSeiParsedCallback:S,multiGuestMaskPanelProps:T}=(0,il.$)({hideUserCoin:!0,handleMultiGuestShow:y,linkedUsers:f.linkedUsers}),{handleMultiGuestSeiParsed:P}=(0,nl.n)({handleMultiGuestSeiParsedCallback:S,url:t,handleMultiGuestSeiParsedReport:()=>{}}),D=(0,r.useCallback)(((e,t,i)=>{e&&t&&i&&P(e,t,i)}),[P]),Y=(0,r.useCallback)(((e,t)=>{u(e/t)}),[u]),F=(0,al.C)({handleParentPlayError:C}),{handlePlayError:L,handleStreamEnd:j}=(0,ol.Z)({active:!0,handleParentPlayError:C,roomId:i,playerRef:l,noPreCheck:!0});return(0,n.Y)(dl,{ratio:c,children:(0,n.FD)(cl,{ratio:c,children:[(0,n.Y)(rl.d,Object.assign({ref:l,visible:!0,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:_,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:t,onPlay:k,onPause:I,onPlayError:L,onStreamEnd:j,onLoadedData:Y,onSeiParsed:D},F)),(0,n.Y)(ul,{children:(0,n.Y)(ll.y,Object.assign(Object.assign({},T),{canShowUserInfo:!1}))})]})})},hl=(0,r.memo)((e=>{const{userData:t}=e,i=(0,c.s)(),[a,o]=(0,r.useState)(!1),l=null==t?void 0:t.user,{showPreviewPlayer:s,streamUrl:d,userCount:u,drmSecretKey:p}=(0,Gr.H)(l,"v2"),{recordingInitTime:h,sendFirstFrameDuration:g}=(0,Zr.T)(),m=(0,bn.AL)({user:l,enterMethod:"top_live_cell"}),f=(0,r.useMemo)((()=>({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method})),[m]),_=(0,r.useCallback)((()=>{Jr.mx.handleRecLivePlay({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:_t.f.commonParams.previous_page})}),[m]),b=(0,r.useCallback)((()=>{o(!0),g()}),[o,g]);return(0,r.useEffect)((()=>{s&&(Jr.mx.handleLiveShow({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:_t.f.commonParams.previous_page}),h())}),[s]),(0,n.Y)(n.FK,{children:!(!s||!d)&&(0,n.Y)(Xr.B,{uniqueId:(null==l?void 0:l.uniqueId)||"",secUid:null==l?void 0:l.secUid,teaParams:m,extraQuery:f,onClick:_,children:(0,n.FD)(Rr,{scaleInShow:a,children:[(0,n.FD)(Wr,{children:[(0,n.Y)(Hr,{children:(0,n.Y)($r,{children:i("LIVE")})}),(0,n.Y)(Nr,{children:i("webLIVE_personalPage_LIVEbanner_title",{username:null==l?void 0:l.uniqueId})}),(0,n.FD)(Vr,{children:[i("webLIVE_personalPage_LIVEbanner_numViewerDesc",{num:u}),(0,n.Y)(Kr,{children:(0,n.Y)(Rn.Ft,{icon:Qr.L,size:14,color:"TextPrimary"})})]})]}),(0,n.Y)(pl,{url:d,roomId:null==l?void 0:l.roomId,liveLinkTeaParams:m,onPlay:b,drmSecretKey:p})]})})})})),gl=(0,je.default)("div",{target:"e1ej9wgb0"})({flex:"1 1 auto",overflow:"hidden"},"label:UserContainer;"),ml=[0,10222],fl=o()(s.F,(0,U.JP)("user-post"),(0,d.c)("others_homepage"))((function({containerID:e,tabIndex:t}){var i,a,o;const s=(0,c.s)(),{justWatchedVideoId:d,justWatchedAuthorUniqueId:p}=(0,Gn.xr)(),h=(0,u.JD)((e=>e.jumpSamePageTime)),[{uniqueId:g,statusCode:m=0,profileState:v},y]=(0,xe.dF)((e=>{var t;return{uniqueId:e.uniqueId,statusCode:null!==(t=e.statusCode)&&void 0!==t?t:0,profileState:e.profileState}}),F.bN),x=(0,L.nW)((e=>{var t;const i=e.users[null!=g?g:""],n=e.stats[null!=g?g:""];return"number"==typeof(null===(t=null==i?void 0:i.extraInfo)||void 0===t?void 0:t.statusCode)&&n?{statusCode:m,user:i,stats:n}:{statusCode:m}}),F.bN),k=(0,j.I4)((e=>e.items),F.bN),w=(0,Gn.tg)();f(null===(i=x.user)||void 0===i?void 0:i.roomId,"webapp_profile"),(0,Gn.Nj)();const{uniqueId:I}=(0,l.g)(),S=I.toLowerCase(),T=(0,Gn.b3)({uniqueId:S,secUid:I}),P=(0,r.useMemo)((()=>T?"personal_homepage":"others_homepage"),[T]);(0,E.x)(P,h);const B=(0,r.useMemo)((()=>x.user&&x.stats?{statusCode:x.statusCode,userInfo:{user:x.user,stats:x.stats}}:{statusCode:x.statusCode}),[x]);return(0,r.useEffect)((()=>{const e=window.location.search;/from=rss_publish/.test(e)&&Y.F.open({content:s("podcasts_linkFullEpisodes_publishEpisodePage_confirmationBanner"),duration:3})}),[]),(0,C.o)((()=>y.getUserInfo(Object.assign(Object.assign({},w),d&&p===(null==w?void 0:w.uniqueId)&&{locateItemID:d}))),[y,w]),(0,r.useEffect)((()=>{const e=(0,_.Hd)(b.BP);if(e){let t=s("editprofile_toast");e===String("1")&&(t=s("blue_v_change_name_toast_request_submitted").replace("%d",$e)),Y.F.open({content:t,duration:2}),(0,_.X)(b.BP)}}),[s]),(0,r.useEffect)((()=>y.resetUserPage),[y,I]),(0,O.Ob)("others_homepage",null!==(o=null===(a=k[0])||void 0===a?void 0:a.id)&&void 0!==o?o:""),"create_playlist"===v||"create_playlist_ready"===v?(0,n.Y)(ke,{}):(0,n.FD)(n.FK,{children:[(0,n.FD)(gl,{children:[(0,n.Y)(hl,{userData:x}),(0,n.Y)(M.EA,{"data-e2e":"user-page",id:e,tabIndex:t,disableResponsiveV2:!0,children:(0,n.Y)(U.cM,{id:null!=g?g:"",detailInfo:x,successStatusCodeList:ml,List:zr,Header:co,Error:Ze.yo})})]}),(0,n.Y)(D,{detail:B,musicList:[],items:k})]})})),_l=fl},84679:(e,t,i)=>{i.d(t,{z:()=>ae});var n=i(2787),a=i(40099),o=i(50453),r=i(93166),l=i(61658),s=i(170),d=i(80832),c=i(62209),u=i(740),p=i(33797),h=i(21587),g=i(44529),m=i(63697),f=i(47218),_=i(53013),b=i(17565),v=i(61076),y=i(86122),x=i(21483),C=i(59695),k=i(98151),w=i(75431),I=i(78004);const S=w.i7`
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
`,T=(0,k.default)("div",{target:"e139luw90"})({width:"100%",height:"100%",position:"relative",opacity:0,animation:`${S} .5s cubic-bezier(0.95, 0.05, 0.795, 0.035) forwards`},"label:DivLiveItem;"),P=(0,k.default)("div",{target:"e139luw91"})((({theme:e})=>({width:"100%",fontSize:"16px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",color:e.colors.TextPrimary,marginTop:4,padding:"2px 4px 0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),"label:DivLiveTitle;"),D=(0,k.default)("div",{target:"e139luw92"})((({theme:{direction:e}})=>[{position:"absolute",zIndex:20,top:8},(0,I.mp)({direction:e,end:8})]),"label:DivLiveBadgeWrapper;"),Y=(0,k.default)("span",{target:"e139luw93"})((({theme:e})=>[(0,I.zy)({theme:e,typography:"P3",fontWeight:"medium",color:"ConstTextInverse"}),{display:"inline-block",height:20,background:"linear-gradient(131deg, #FF1764 0%, #ED3495 94.15%)",lineHeight:"16px",padding:"2px 5px",borderRadius:"4px"}]),"label:SpanLiveBadge;");var F=i(6874),L=i(45499),j=i(1905),E=i(51617),U=i(16711),M=i(7130),O=i(29592),B=i(28450),z=i(88035),A=i(64402),q=i(72267),R=i(65479),W=i(9603),N=i(29440);const V=(0,k.default)("div",{target:"e1kupnb0"})((({theme:e})=>[{width:"100%",height:"100%",background:e.colors.ConstBGInverse,position:"relative",borderRadius:4,overflow:"hidden"}]),"label:DivLiveWrapper;"),H=(0,k.default)("div",{target:"e1kupnb1"})((()=>[{width:"100%",height:370,position:"absolute",transform:"translateY(-50%)",top:"50%",right:0,zIndex:1}]),"label:DivLiveCutter;"),$=(0,k.default)("div",{target:"e1kupnb2"})({width:"100%",height:"100%",position:"absolute",zIndex:3,pointerEvents:"none",top:0,left:0},"label:DivFeedPlayerMultiGuestPanelWrapper;");var K=i(34005),G=i(30588),Z=i(24642),X=i(87407);const J=e=>{const{url:t,drmSecretKey:i,roomId:o,liveLinkTeaParams:r,onPlay:l}=e,[s,d]=(0,X.useAtom)(M.K),c=(0,a.useRef)(),u=(0,a.useRef)(!1),p=(0,a.useRef)(!1),[h,g]=(0,a.useState)(!0),[m]=(0,X.useAtom)(O.J),{handleMultiGuestPanelShow:f}=(0,B.P)({roomId:o,active:!0}),_=(0,a.useRef)(0),b=(0,a.useMemo)((()=>({enter_from_merge:r.enter_from_merge,enter_method:r.enter_method,follow_status:r.follow_status,anchor_id:r.anchor_id,room_id:r.room_id,action_type:r.action_type,previous_page:Z.f.commonParams.previous_page})),[r]),v=(0,a.useCallback)((()=>{var e;if(!u.current)return null===(e=c.current)||void 0===e||e.retry(),void(u.current=!0);K.mx.handleLivePreviewFail(Object.assign({},b)),d(Object.assign(Object.assign({},s),{isError:!0}))}),[s,d,u,c,r]),y=(0,a.useCallback)((()=>{l(),g(!0),_.current=Date.now(),p.current=!1}),[r]),x=(0,a.useCallback)((()=>{_.current>0&&!p.current&&G.p.handleLivePreviewDuration(Object.assign(Object.assign({},b),{duration:Date.now()-_.current}),{sendBeacon:!0})}),[_,b]),C=(0,a.useCallback)((()=>{g(!1),x()}),[g,x]);(0,a.useEffect)((()=>{const e=()=>{x(),p.current=!0};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,a.useEffect)((()=>()=>{x(),p.current=!0}),[]);const{handleMultiGuestSeiParsedCallback:k,multiGuestMaskPanelProps:w}=(0,z.$)({hideUserCoin:!0,handleMultiGuestShow:f,linkedUsers:m.linkedUsers}),{handleMultiGuestSeiParsed:I}=(0,A.n)({handleMultiGuestSeiParsedCallback:k,url:t,handleMultiGuestSeiParsedReport:()=>{}}),S=(0,a.useCallback)(((e,t,i)=>{e&&t&&i&&I(e,t,i)}),[I]),T=(0,q.C)({handleParentPlayError:v}),{handlePlayError:P,handleStreamEnd:D}=(0,R.Z)({active:!0,handleParentPlayError:v,roomId:o,playerRef:c,noPreCheck:!0});return(0,n.Y)(V,{children:(0,n.FD)(H,{children:[(0,n.Y)(W.d,Object.assign({ref:c,visible:!0,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:h,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:t,drmSecretKey:i,onPlay:y,onPause:C,onPlayError:P,onStreamEnd:D,onSeiParsed:S},T)),(0,n.Y)($,{children:(0,n.Y)(N.y,Object.assign(Object.assign({},w),{canShowUserInfo:!1}))})]})})};var Q=i(3846),ee=i(38725);const te=(0,a.memo)((e=>{const{userData:t}=e,i=(0,F.s)(),{isInProductHoldout:o}=(0,c.Vv)(),r=!o,l=null==t?void 0:t.user,{showPreviewPlayer:s,streamUrl:u,drmSecretKey:p}=(0,d.H)(l,"v3"),{recordingInitTime:h,sendFirstFrameDuration:g}=(0,L.T)(),m=(0,j.AL)({user:l,enterMethod:"video_live_cell"}),f=(0,a.useMemo)((()=>({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method})),[m]),_=(0,a.useCallback)((()=>{g()}),[g]),b=(0,a.useCallback)((()=>{K.mx.handleRecLivePlay({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:Z.f.commonParams.previous_page})}),[m]);return(0,a.useEffect)((()=>{s&&(K.mx.handleLiveShow({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:Z.f.commonParams.previous_page}),h())}),[s]),(0,n.Y)(n.FK,{children:s&&u?(0,n.FD)(Q.iP,{style:{overflow:"hidden"},children:[(0,n.Y)(ee.w,{copyrightMuted:!1,ratio:E.f.compact.ratio,children:(0,n.Y)(U.B,{uniqueId:(null==l?void 0:l.uniqueId)||"",secUid:null==l?void 0:l.secUid,teaParams:m,extraQuery:f,onClick:b,children:(0,n.FD)(T,{children:[(0,n.Y)(D,{children:(0,n.Y)(Y,{children:i("LIVE")})}),(0,n.Y)(J,{url:u,drmSecretKey:p,roomId:null==l?void 0:l.roomId,liveLinkTeaParams:m,onPlay:_})]})})}),r?null:(0,n.Y)("div",{style:{position:"relative",display:"flex"},children:(0,n.Y)(P,{children:i("webLIVE_personalPage_LIVEbanner_title",{username:null==l?void 0:l.uniqueId})})})]}):null})})),ie=(0,a.memo)((function({detailInfo:e,listInfo:t,listKey:i}){const{list:s,loading:d,hasMore:c,hasLocateItem:u}=t,{user:p}=e,{count:h}=(0,C.R8)(),g=(0,C.Sw)({user:p,listKey:i,count:h}),{isGoogleBot:m}=(0,o.L)((0,r.U)((()=>["isGoogleBot"]),[])),f=(0,a.useCallback)((()=>{!d&&c&&0!==s.length&&g()}),[c,g,d,s.length]);(0,l.Wj)(i,f);const _=(0,a.useMemo)((()=>{let e;switch(i){case"favorites":e="favourite_video";break;case"user-liked":e="liked_video";break;case"user-repost":e="reposted_video";break;default:e="personal_video"}return{tab_name:e}}),[i]),b=(0,a.useMemo)((()=>"user-post"===i?[{position:0,renderNode:()=>{var t,i;return(0,n.Y)(te,{userData:e},null!==(i=null===(t=e.user)||void 0===t?void 0:t.id)&&void 0!==i?i:"0")}}]:[]),[i,e]);return(0,n.Y)(v.Z,{pageType:1,itemList:s,itemListKey:i,loading:d,onHitBottom:f,ssrLimit:16,ssrLimitDisable:m,teaParams:_,renderMap:b,hasLocateItem:u})}));function ne(){return(0,n.Y)(_.C,{cardWidth:"196px",cardHeight:"260px",radius:"2px",gap:"2px",isUser:!0})}const ae=(0,a.memo)((function({detailInfo:e,listKey:t}){const{user:i}=e,o=(0,g.jf)((e=>(0,m.yI)(t)?e[t]:s.q),f.bN),{justWatchedVideoId:r,justWatchedAuthorUniqueId:l}=(0,C.xr)(),{count:_}=(0,C.R8)(),{hasMore:v,list:k,statusCode:w,preloadList:I}=o,S=(0,C.Sw)(Object.assign(Object.assign({user:i,listKey:t},r&&l===(null==i?void 0:i.uniqueId)&&{locateItemID:r}),{count:_})),T=(0,y.V)({user:i,listKey:t}),{showPreviewPlayer:P}=(0,d.H)(i,"v3");if((0,c.uT)()?(0,u.xB)(null!=I?I:[]):(0,p.$D)(null!=I?I:[]),(0,a.useEffect)((()=>{!T&&0===w&&0===k.length&&v&&(null==i?void 0:i.secUid)&&S()}),[v,k.length,S,T,w,null==i?void 0:i.secUid]),T){const{title:e,desc:t,icon:i,isLikePrivate:a}=T;let o="",r="";return a&&(o="like-title",r="like-desc"),(0,n.Y)(h.W,{isFullScreen:!0,title:e,desc:t,iconElem:i,e2eTitle:o,e2eDesc:r})}return(0,n.Y)(b.s6,{Error:x.s5,Empty:x.lD,List:ie,Skeleton:ne,detailInfo:e,listInfo:o,listKey:t,hasLivePreview:P})}))},9603:(e,t,i)=>{i.d(t,{d:()=>s});var n=i(24643),a=i(40099),o=i(93958),r=i(9754),l=i(28199);const s=(0,a.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:s,onVolumeChange:d,onMutedChange:c,showVolumeIcon:u}=e,p=(0,a.useRef)(null),{xgplayer:h,mutedPlay:g,handlePlayerDestroy:m}=(0,o.F)(Object.assign(Object.assign({},e),{playerContainerRef:p}));return(0,a.useImperativeHandle)(t,(()=>({destroy:()=>{m()},retry:()=>{var e;null===(e=h.current)||void 0===e||e.retry()}}))),(0,n.jsx)(l.S1,{ref:p,children:(0,n.jsx)(l.jw,{children:(0,n.jsx)(r.b,{xgplayer:h,visible:u,defaultVolume:i,defaultMuted:s,mutedPlay:g,onVolumeChange:d,onMutedChange:c})})})}))},80832:(e,t,i)=>{i.d(t,{H:()=>s});var n=i(40099),a=i(7130),o=i(77026),r=i(17390),l=i(87407);const s=(e,t)=>{const[{roomInfo:i},s]=(0,l.useAtom)(a.r),{livePreviewAb:d}=(0,o.$7)(),{livePreviewSonAb:c}=(0,o.Ru)(),[u]=(0,l.useAtom)(a.K),p=(0,n.useMemo)((()=>(d===t||c===t)&&u.isLive&&!u.isError),[d,u]);(0,n.useEffect)((()=>{p&&s({owner_user_id:null==e?void 0:e.id,scene:"webapp_profile_preview"})}),[p]);const h=(0,n.useMemo)((()=>{var e,t;const n=null===(t=null===(e=null==i?void 0:i.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(!n)return null;const a=r.WL.getAvailableStream(n,{targetQuality:"sd",direction:"up"});return null==a?void 0:a.url.mainFLV}),[i]),g=null==i?void 0:i.user_count,m=4===(null==e?void 0:e.relation),f=(0,n.useMemo)((()=>!(!p||!h||m)),[p,h,m]),_=(0,n.useMemo)((()=>{var e,t;const n=null===(t=null===(e=null==i?void 0:i.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(n)return r.WL.getStreamSecretKey(n)}),[i]);return{showPreviewPlayer:f,streamUrl:h,userCount:g,abVersion:t,isBlockedUser:m,drmSecretKey:_}}},45499:(e,t,i)=>{i.d(t,{T:()=>s});var n,a=i(40099),o=i(73580),r=i(9627);!function(e){e.FirstFrameDuration="live_user_inner_play_duration"}(n||(n={}));const l={initTime:0,firstFrameTime:0};function s(){const e=(0,o.Nj)(r.V),t=(0,a.useRef)(!0);return{recordingInitTime:(0,a.useCallback)((()=>{l.initTime=Date.now()}),[l]),sendFirstFrameDuration:(0,a.useCallback)((()=>{t.current&&(l.firstFrameTime=Date.now(),e.emitEvent("live_user_inner_play_duration",{duration:l.firstFrameTime-l.initTime},{}),t.current=!1)}),[l,e,t])}}},16392:(e,t,i)=>{i.d(t,{G:()=>a});var n=i(34815);const a=(0,i(52094).M)({csr:(e,t)=>{var i,a,o,r;const l=null!==(a=null===(i=(0,n.y)(e,t).seoProps)||void 0===i?void 0:i.metaParams)&&void 0!==a?a:{},s=null!==(r=null===(o=(0,n.d)(e,t).seoProps)||void 0===o?void 0:o.jsonldList)&&void 0!==r?r:[];return Promise.resolve(Object.assign(Object.assign({},e.seoProps),{metaParams:l,jsonldList:s}))}})},93796:(e,t,i)=>{i.d(t,{R:()=>P,F:()=>D});var n=i(24643),a=i(25695),o=i(40099),r=i(9511),l=i(473),s=i(1412),d=i(60070),c=i(37734),u=i(44050),p=i(33688),h=i(87407),g=i(47218),m=i(13549),f=i(58632),_=i(71111),b=i(52094),v=i(79490);const y=(0,b.M)({csr:e=>(0,f.__awaiter)(void 0,void 0,void 0,(function*(){const{url:t}=e;return yield v.hd.get("/api/seo/redirection/",{query:{url:t}})}))}),x={needRedirect:!1},C=(0,p.z)({initState:x,rehydrationDataKey:"shared.seo.pageRedirect",fetchAction:(e,t)=>(0,f.__awaiter)(void 0,void 0,void 0,(function*(){const{url:e}=t;let i;try{i=yield y(t)}catch(t){return{needRedirect:!1,loadedURL:e}}const{redirectURL:n}=i;return{pageRedirectURL:n,loadedURL:e,needRedirect:void 0!==n}}))}),k=(0,g.pj)(C),w=(0,_.atom)(null,((e,t)=>{t(k,x)}));var I=i(45564);const S=Object.assign(Object.assign({},c.OZ),u.Ob),T=e=>Object.values(S).some((t=>null!==(0,r.matchPath)(e,{path:t})));function P(e,t){return function(i){const[{atomState:a},s]=(0,p.I)(C),{pageRedirectURL:d,loadedURL:c,needRedirect:u}=a,g=(0,h.useSetAtom)(w),f=(0,r.useHistory)(),_=(0,r.useLocation)(),b=`${l.C}${decodeURIComponent(_.pathname)}`,v=_.search;return(0,m.o)((()=>[s({url:b}),()=>{g()}]),[b]),(0,o.useEffect)((()=>{if(d){const e=new URL(d);decodeURIComponent(e.pathname)!==decodeURIComponent(_.pathname)&&(T(e.pathname)?f.push(`${e.pathname}${v||""}`):window.location.href=d)}}),[d,f,_.pathname,v]),c!==b||u?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e,Object.assign({},i))})}}function D(e){return function(t){const{pathname:i}=(0,r.useLocation)(),c=`${l.C}${i}`,[{abtest:u},p]=(0,a.S)(d.p),[h,f]=(0,s.ZC)((e=>e.abtest),{equalityFn:g.bN});return(0,m.o)((()=>f.setAbtest(c)),[p,c]),(0,o.useEffect)((()=>{h&&!u&&p.setAbTest(h)}),[h,u]),u?(0,n.jsx)(I.K.Provider,{value:u,children:(0,n.jsx)(e,Object.assign({},t))}):null}}},30588:(e,t,i)=>{i.d(t,{p:()=>o});var n,a=i(24642);!function(e){e.Duration="livesdk_live_window_duration_v2"}(n||(n={}));const o={handleLivePreviewDuration:(e,t)=>{(null==t?void 0:t.sendBeacon)?a.f.beconEvent("livesdk_live_window_duration_v2",e):a.f.event("livesdk_live_window_duration_v2",e)}}}}]);