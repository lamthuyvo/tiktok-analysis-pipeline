"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1076],{38725:(e,t,i)=>{i.d(t,{w:()=>p});var o=i(2787),n=i(40099),r=i(6874),a=i(98151),l=i(64655),d=i(3846);const s=(0,a.default)("div",{target:"e1cg0wnj0"})((({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{})),"label:DivContainer;"),c=(0,a.default)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0","&:hover, &.copyright-muted":{[`& ${d.jG}`]:{opacity:1},'& [data-e2e="explore-card-info-right"]':{opacity:0}}},"label:DivWrapper;"),u=(0,a.default)(s,{target:"eq741c50"})((({borderRadius:e,overflow:t})=>({borderRadius:null!=e?e:"4px",overflow:null!=t?t:"hidden"})),"label:StyledDivContainerV2;"),h=(0,n.memo)((e=>{const{isDetailPage:t}=(0,l.s0)(),i=t?u:s;return(0,o.Y)(i,Object.assign({},e))})),p=(0,n.memo)((function({ratio:e=0,children:t,className:i,borderRadius:n,overflow:a,e2eTag:l="",copyrightMuted:d=!1,onKeyDown:s,id:u}){const p=(0,r.s)(),m=0===e?100:100/e,v=d?"copyright-muted":"";return(0,o.Y)(h,{"data-e2e":l,borderRadius:n,overflow:a,className:i,id:u,tabIndex:0,onKeyDown:s,role:"button","aria-label":p("accessibilityLabels_forYou_videoCard_fullScreen"),children:(0,o.Y)("div",{style:{paddingTop:`${m}%`},children:(0,o.Y)(c,{className:v,children:t})})})}))},67680:(e,t,i)=>{i.d(t,{s:()=>W});var o=i(2787),n=i(63077),r=i(40099),a=i(71196),l=i(18360),d=i(66735),s=i(15710),c=i(58632),u=i(24643),h=i(93958),p=i(9754),m=i(28199);const v=(0,r.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:o,onVolumeChange:n,onMutedChange:a,showVolumeIcon:l}=e,d=(0,r.useRef)(null),{xgplayer:s,mutedPlay:c,handlePlayerDestroy:v}=(0,h.F)(Object.assign(Object.assign({},e),{playerContainerRef:d}));return(0,r.useImperativeHandle)(t,(()=>({destroy:()=>{v()},retry:()=>{var e;null===(e=s.current)||void 0===e||e.retry()}}))),(0,u.jsx)(m.S1,{ref:d,children:(0,u.jsx)(m.jw,{children:(0,u.jsx)(p.b,{xgplayer:s,visible:l,defaultVolume:i,defaultMuted:o,mutedPlay:c,onVolumeChange:n,onMutedChange:a})})})}));var f=i(72267),g=i(55498),b=i(1276);const y=(0,r.memo)((e=>{const{visible:t=!0,teaParams:i}=e,o=(0,c.__rest)(e,["visible","teaParams"]),{handlePlayerClick:n}=function(e=!0,t){const i=(0,r.useRef)(!1),o=(0,r.useRef)(0),n=(0,r.useRef)(t),a=(0,r.useRef)("automatic");n.current=t,(0,r.useEffect)((()=>{n.current&&g.lu.handleLiveShow(Object.assign({action_type:"click"},n.current))}),[]);const l=(0,r.useCallback)((()=>{const e=Date.now()-o.current;e>0&&o.current>0&&n.current&&(g.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},n.current),{play_type:a.current})),o.current=Date.now())}),[]);return(0,r.useEffect)((()=>{!i.current&&e&&(n.current&&(a.current=n.current.play_type),o.current=Date.now());const t=Date.now()-o.current;n.current&&i.current&&!e&&t>0&&o.current>0&&(g.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},n.current),{play_type:a.current})),o.current=Date.now()),i.current=e}),[e]),{handlePlayerClick:l}}(t,i),a=(0,f.C)({handleParentPlayError:o.onPlayError}),l=(0,r.useCallback)((()=>{n()}),[n]);return(0,u.jsx)(b.j7,{onClick:l,children:t?(0,u.jsx)(v,Object.assign({},a,o)):null})}));var _=i(6874),x=i(98151),w=i(78004),k=i(23594);const C={id:"person-fill-fca39243",use:"person-fill-fca39243-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-fca39243"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5M1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822z" clip-rule="evenodd" /></symbol>'};function T(e){const t=(0,r.useContext)(k.X);return(0,r.useLayoutEffect)((()=>(t.add(C),()=>{t.remove("person-fill-fca39243")})),[]),(0,u.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,u.jsx)("use",{xlinkHref:"#person-fill-fca39243"},void 0)}),void 0)}const D={id:"thumbs-up-fill-af859b0b",use:"thumbs-up-fill-af859b0b-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-af859b0b"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.93.93 0 0 0 .931-.796l.643-4.469a.94.94 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125m-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976z" /></symbol>'};function I(e){const t=(0,r.useContext)(k.X);return(0,r.useLayoutEffect)((()=>(t.add(D),()=>{t.remove("thumbs-up-fill-af859b0b")})),[]),(0,u.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,u.jsx)("use",{xlinkHref:"#thumbs-up-fill-af859b0b"},void 0)}),void 0)}var P;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(P||(P={}));const Y=(0,x.default)("div",{target:"ej426ge0"})((({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.TikTokFont,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,w.mp)({direction:e,start:"8px"})]),"label:LiveTag;"),L=(0,x.default)("div",{target:"ej426ge1"})((({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}]),"label:LiveTextWrap;"),S=(0,x.default)("div",{target:"ej426ge2"})((({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,w.mp)({direction:e,marginStart:"2px"})]),"label:LiveText;"),j={width:"12px",height:"12px",color:"#fff"},M=(0,x.default)(I,{target:"ej426ge5"})(j,"label:IconThumbsUp;"),O=(0,x.default)(T,{target:"ej426ge6"})(j,"label:IconPerson;");function E(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const V=(0,r.memo)((function({live:e}){const{user_count:t=0,like_count:i=0}=e,n=(0,_.s)();let r=O,a=E(t);return+t<=50&&i>t&&(r=M,a=E(i)),(0,o.FD)(Y,{children:[(0,o.Y)(L,{position:0,children:(0,o.Y)(S,{children:n("pm_main_live_entry_final")})}),(0,o.FD)(L,{position:1,children:[(0,o.Y)(r,{}),(0,o.Y)(S,{children:a})]})]})})),R=(0,x.default)("div",{target:"e1474lcs0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null]),"label:DivLink;"),F=(0,x.default)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),B=(0,x.default)("div",{target:"e1474lcs2"})((({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"})),"label:DivBasicPlayerWrapper;");var A=i(40318);const W=(0,r.memo)((function({id:e,mode:t,searchType:i,search_result_id:c,searchTopCardType:u}){var h,p,m;const{live:v}=(0,n.P)(a.d,{selector:t=>({live:t[e]}),dependencies:[e]}),[f,g]=(0,r.useState)(null!==(m=null===(p=null===(h=v.cover)||void 0===h?void 0:h.url_list)||void 0===p?void 0:p[0])&&void 0!==m?m:""),{currentVideo:b,playType:_}=(0,l.MY)(),[x,w]=(0,r.useState)(!1),k=(0,d.t4)(),{keyword:C,rid:T}=(0,n.P)(s.tq,{selector:e=>e[i],dependencies:[i]}),{isVertical:D}=(0,A.TS)(v),{streamData:I}=(0,r.useMemo)((()=>(0,A.XA)(v)),[v]),P=(0,r.useMemo)((()=>{var e,t,i,o,n;const{ld:r,sd:a,hd:l,origin:d}=null!==(e=I.data)&&void 0!==e?e:{};return null!==(n=null===(o=null!==(i=null!==(t=null!=r?r:a)&&void 0!==t?t:l)&&void 0!==i?i:d)||void 0===o?void 0:o.main.flv)&&void 0!==n?n:""}),[I.data]),Y=(0,r.useMemo)((()=>{var e;return null===(e=I.common)||void 0===e?void 0:e.drm_secret_key}),[I.common]),L=(0,r.useMemo)((()=>{if(!b)return!1;const{id:i,mode:o}=b,n=i===e&&o===t;return n||w(!1),n}),[e,t,b]),S=(0,r.useCallback)((()=>{w(!0)}),[]),j=(0,r.useMemo)((()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===u?"live_cover":"live_cell",room_id:v.id_str,anchor_id:null===(e=v.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:T,search_result_id:null!=c?c:v.id_str,search_keyword:C,play_type:_}}),[C,v,_,T,u,i,c]),M=(0,r.useCallback)((e=>{var t,i,o;console.log(null==v?void 0:v.id_str,"======poster error, use anther url",e),g(null!==(o=null===(i=null===(t=v.cover)||void 0===t?void 0:t.url_list)||void 0===i?void 0:i[1])&&void 0!==o?o:"")}),[v]);return(0,o.FD)(R,{mode:t,horizontal:!D,children:[f?(0,o.Y)(F,{mode:2,src:f,alt:v.title,loading:"lazy",onError:M}):null,(0,o.Y)(B,{horizontal:!D,"data-e2e":"browse-live-player",show:L&&x,children:(0,o.Y)(y,{visible:L,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:P,drmSecretKey:Y,onLoadedData:S,teaParams:j,loggerConfig:k})}),(0,o.Y)(V,{live:v})]})}))},40318:(e,t,i)=>{var o,n;function r(e){var t,i,o,n,r;try{const a={common:{},data:{}},l=e?JSON.parse(null!==(n=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==n?n:""):{};if(a.common=l.common,l.data)for(const e in l.data){if(l.data[e].main){const t=JSON.parse(l.data[e].main.sdk_params);a.data[e]={},a.data[e].main=l.data[e].main,a.data[e].main.sdk_params=t}if(l.data[e].backup){const t=JSON.parse(l.data[e].backup.sdk_params);a.data[e]=null!==(r=a.data[e])&&void 0!==r?r:{},a.data[e].backup=l.data[e].backup,a.data[e].backup.sdk_params=t}}return{streamData:a}}catch(e){return{streamData:{}}}}i.d(t,{TS:()=>a,XA:()=>r}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const a=e=>{var t,i,o,n,a;const{streamData:l}=r(e),d=null!==(a=null===(n=null===(o=null===(i=null===(t=l.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===n?void 0:n.resolution)&&void 0!==a?a:"1920x1080",[s,c]=d.split("x");return s&&c?{isVertical:Number(s)<Number(c),width:Number(s),height:Number(c),ratio:Number(s)/Number(c),ratioStr:`${s}/${c}`}:{}}},56955:(e,t,i)=>{i.d(t,{Bp:()=>c,Gj:()=>f,OW:()=>v,Yb:()=>u,mp:()=>m,vT:()=>g,xk:()=>s});var o=i(98151),n=i(80074),r=i(91842),a=i(20986),l=i(7713),d=i(78004);const s=(0,o.default)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,d.jJ)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),c=(0,o.default)("span",{target:"e148ts221"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,d.jJ)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),u=(0,o.default)("strong",{target:"e148ts222"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),h=({theme:{direction:e}})=>[(0,d.mp)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,d.jJ)({max:479,style:{verticalAlign:"-.15em"}})],p=({theme:{direction:e}})=>({float:(0,d.t7)(e,"end"),position:"relative",top:"4px"}),m=(0,o.default)(n.A,{target:"e148ts223"})(h,"label:StyledHeart;"),v=(0,o.default)(r.A,{target:"e148ts225"})(h,"label:StyledPlay;"),f=(0,o.default)(a.A,{target:"e148ts226"})(p,"label:StyledLock3pt;"),g=(0,o.default)(l.A,{target:"e148ts227"})(p,"label:StyledTwoPerson;")},70928:(e,t,i)=>{i.d(t,{Y:()=>g});var o=i(2787),n=i(40099),r=i(73580),a=i(9627),l=i(2022),d=i(88860),s=i(57929),c=i(63845),u=i(98151);const h=(0,u.default)("div",{target:"e1id08p20"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifPlayerContainer;"),p=(0,u.default)("div",{target:"e1id08p21"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifContainer;");var m=i(47218),v=i(24642),f=i(9156);const g=(0,n.memo)((({item:e,horizontal:t,mode:i,posterConfig:u,teaParams:g})=>{const{currentItemId:b}=(0,c.yQ)((e=>e),m.bN),y=(0,r.Nj)(a.V),{armCoreContentEvent:_}=(0,n.useContext)(l.e),x=(0,n.useCallback)((()=>{null==_||_(),y.reportActualFMP()}),[_,y]),w=t||2===i||3===i||4===i||6===i||5===i,k=(0,f.y)(e);return(0,n.useEffect)((()=>{if(e&&e.id===b){const e={group_id:g.group_id,author_id:g.author_id,play_mode:i};v.f.event("preview_video_play",Object.assign(Object.assign({},e),k));const t=Date.now();return()=>{const i=Date.now()-t;v.f.event("preview_play_time",Object.assign(Object.assign({},e),{duration:i}))}}}),[e,b,i,g,k]),e?(0,o.FD)(h,{children:[(null==u?void 0:u.poster)&&(0,o.Y)(d.R,{horizontal:w,mode:i,src:u.poster,alt:u.desc,loading:u.lazyLoading?"lazy":"eager",style:u.style,onLoad:x}),!(null==u?void 0:u.poster)&&(null==u?void 0:u.videoCover)&&(0,o.Y)(s.x,{video:u.videoCover,objectFit:w?"contain":"cover",style:u.style,alt:u.desc,onLoad:x}),e.id===b&&(0,o.Y)(p,{children:(0,o.Y)(s.x,{video:e.video,useDynamic:!0,alt:null==u?void 0:u.desc})})]}):null}))},9156:(e,t,i)=>{i.d(t,{t:()=>l,y:()=>d});var o=i(62209),n=i(40099),r=i(63845);const a=[8,1,105,106,107,19,3,4,104,124,122],l=e=>{const t=(0,o._Y)(),i=(0,r.tf)(),l=(0,n.useCallback)((e=>i.setCurrentItemId(e)),[i]);return{inGifPlayerExperiment:(0,n.useMemo)((()=>t&&a.includes(e)),[t,e]),setGifPlayerItemId:l}},d=e=>{const t=(0,o._Y)();return(0,n.useMemo)((()=>t&&e?{has_gif:e.video.dynamicCover===e.video.cover||e.video.dynamicCover===e.video.originCover?"0":"1"}:{}),[t,e])}},63845:(e,t,i)=>{i.d(t,{tf:()=>l,yQ:()=>d});var o=i(71111),n=i(76e3);const r=(0,o.atom)({currentItemId:""}),{useAtomService:a,useServiceDispatchers:l,useServiceState:d,getStaticApi:s}=(0,n.i)(r,((e,t)=>({setCurrentItemId(e){t(r,{currentItemId:e})}})))},98118:(e,t,i)=>{i.d(t,{uu:()=>$t,g4:()=>Gt});var o=i(2787),n=i(70055),r=i(92067),a=i(16537),l=i(71196),d=i(50453),s=i(7113),c=i(62209),u=i(36862),h=i(90053),p=i(99748),m=i(52111),v=i(6874),f=i(35896),g=i(18360),b=i(65273),y=i(60417),_=i(32623),x=i(52964),w=i(19572),k=i(59590),C=i(19086),T=i(61059),D=i(51617),I=i(28007),P=i(39468),Y=i(48883),L=i(12826),S=i(52903),j=i(77514),M=i(60860),O=i(24643),E=i(40099),V=i(65987),R=i(98151);const F=(0,R.default)("div",{target:"e1ario2k0"})((({padding:e,theme:{direction:t}})=>({position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=e?e:".5rem",direction:t,zIndex:1})),"label:DivHeaderContainer;"),B=(0,R.default)("div",{target:"e1ario2k1"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",direction:e})),"label:DivLeftSection;"),A=(0,R.default)("div",{target:"e1ario2k2"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",direction:e})),"label:DivRightSection;"),W=(0,E.memo)((function({left:e,right:t}){return(0,O.jsxs)(F,{children:[e&&(0,O.jsx)(B,{children:e}),t&&(0,O.jsx)(A,{children:t})]})})),z=(0,E.memo)((function({videoData:e,pageType:t,itemListKey:i,sortType:o}){const n=(0,v.s)();if(!(0,s.n5)(e,"user-post"===i&&1!==o&&2!==o))return null;const r=1===t&&(0,O.jsx)(V.F,{children:n("profile_page_pin",{},"Pinned")});return(0,O.jsx)(W,{left:r})}));var N=i(23594);const q={id:"eye-slash-dc48f765",use:"eye-slash-dc48f765-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-dc48f765"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a7 7 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005q.001-.797.17-1.544" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627s-1.265-4.608-4.133-6.626c-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004" /></symbol>'};function U(e){const t=(0,E.useContext)(N.X);return(0,E.useLayoutEffect)((()=>(t.add(q),()=>{t.remove("eye-slash-dc48f765")})),[]),(0,O.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,O.jsx)("use",{xlinkHref:"#eye-slash-dc48f765"},void 0)}),void 0)}var H=i(63077),$=i(25695),K=i(73580),G=i(24642),Q=i(43904),J=i(37908),Z=i(88834),X=i(48206),ee=i(22359),te=i(35042),ie=i(10598),oe=i(72531),ne=i(38725),re=i(64655),ae=i(67680),le=i(4408),de=i.n(le);function se(e,t,i,o=!1){const n="JP"===e;return{showLike:n,count:o?t:n?i:t}}var ce,ue=i(96836),he=i(68407),pe=i(52354),me=i(14167),ve=i(51331),fe=i(5621),ge=i(4112),be=i(29098),ye=i(78004),_e=i(38506);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(ce||(ce={}));const xe=(0,R.default)("div",{target:"exdlci10"})((({type:e,showMuteIcon:t})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:t?"24px 36px 12px 12px":"24px 12px 12px"}:null]),"label:DivCardAvatar;"),we=(0,R.default)(_e.e,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),ke=(0,R.default)(fe.Cz,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),Ce=(0,R.default)(be.A,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,ye.mp)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),Te=(0,R.default)("h4",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,ye.mp)({direction:t,marginStart:1===i?4:8})]),"label:H4UserTitle;"),De=(0,R.default)("p",{target:"exdlci15"})((({theme:e,type:t})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:PUserName;"),Ie=(0,E.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:n=0,showMuteIcon:r=!1}){var a;const{language:l}=null!==(a=(0,x.W)((()=>["language"]),[]))&&void 0!==a?a:{},{author:s,id:c}=null!=e?e:{},u=(0,he.nW)((e=>{var t;if(s)return null===(t=e.users)||void 0===t?void 0:t[s]})),{uniqueId:h="",secUid:p,avatarThumb:m,verified:v,nickname:f}=(0,d.L)(u),g=`${(0,T.fJR)({uniqueId:h,secUid:null!=p?p:""})}?lang=${l}`,b=(0,E.useCallback)((e=>i=>{null==i||i.stopPropagation(),ge.q.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:s,group_id:c,author_id:s}))}),[s,c,t]);return(0,o.FD)(xe,{type:n,showMuteIcon:r,children:[(0,o.Y)(fe.Cz,{"data-e2e":`${i}-item-avatar`,to:g,onClick:b("user_portrait"),children:(0,o.Y)(we,{src:m,size:24,alt:`${f},${h}`})}),(0,o.Y)(ke,{title:h,onClick:b("user_name"),to:g,children:(0,o.FD)(Te,{type:n,children:[(0,o.Y)(De,{"data-e2e":`${i}-item-username`,className:"user-name",type:n,children:h}),v&&(0,o.Y)(Ce,{width:14,height:14})]})})]})}));var Pe=i(55118),Ye=i(56955);const Le=(0,E.memo)((function({videoData:e,content:t}){var i,n,r;const a=(0,v.s)(),{region:l=""}=null!==(i=(0,x.W)((()=>["region"]),[]))&&void 0!==i?i:{},{secret:s,forFriend:c,showNotPass:u,scheduleTime:h}=(0,d.L)(e),{diggCount:p,playCount:m}=null!==(r=null!==(n=null==e?void 0:e.statsV2)&&void 0!==n?n:null==e?void 0:e.stats)&&void 0!==r?r:{},f=(0,Pe.D1)(p),g=(0,Pe.D1)(null!=m?m:0),{showLike:b,count:y}=se(l,g,f);return t?(0,o.Y)(Ye.xk,{notPass:u,children:t}):(0,o.Y)(Ye.xk,{notPass:u,children:h?null:u?(0,o.Y)(Ye.Bp,{children:a("cover_notice_violation")}):(0,o.FD)(o.FK,{children:[(0,o.FD)(o.FK,{children:[b?(0,o.Y)(Ye.mp,{className:"like-icon",width:18,height:18,fill:"#fff"}):(0,o.Y)(Ye.OW,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"}),(0,o.Y)(Ye.Yb,{"data-e2e":"video-views",className:"video-count",children:y})]}),s&&!c&&(0,o.Y)(Ye.Gj,{className:"private",width:18,height:18,fill:"#fff"}),c&&(0,o.Y)(Ye.vT,{className:"private",width:18,height:18,fill:"#fff"})]})})}));var Se=i(63986),je=i(87092),Me=i(10555),Oe=i(2183),Ee=i(47218),Ve=i(24737);const Re=(0,R.default)("div",{target:"ewsiauk0"})((({disable:e,isNewLayout:t,withBack:i})=>[e?{pointerEvents:"none"}:{},t?(0,ye.jJ)({max:Ve.PF,style:{zoom:.875}}):{},i?{padding:"4px 12px"}:{}]),"label:DivVideoExploreCardDesc;"),Fe=(0,R.default)("div",{target:"ewsiauk1"})((({ellipsisLine:e})=>[(0,ye.m4)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}]),"label:DivMetaCaptionLine;"),Be=(0,R.default)("div",{target:"ewsiauk2"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}]),"label:DivCardBottomInfo;"),Ae=(0,R.default)("div",{target:"ewsiauk3"})((({theme:e})=>[(0,ye.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}]),"label:DivPlayLine;"),We=(0,R.default)("div",{target:"ewsiauk4"})({display:"flex",alignItems:"center",overflow:"hidden"},"label:DivUserInfo;"),ze=(0,R.default)("p",{target:"ewsiauk5"})((({theme:{direction:e}})=>[(0,ye.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{direction:"ltr",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),Ne=(0,R.default)("div",{target:"ewsiauk6"})((({theme:{colors:e},isOnCard:t})=>({fontSize:"16px",fontWeight:600,color:t?"white":e.TextTertiaryAlt})),"label:DivExploreCardText;"),qe=(0,R.default)("div",{target:"ewsiauk7"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",flexShrink:0,cursor:"pointer","& > svg":Object.assign({fontSize:"20px"},(0,ye.mp)({direction:e,marginEnd:"2px"}))})),"label:DivIconText;"),Ue=(0,E.memo)((function({author:e}){const t=(0,he.nW)((t=>t.users[e]),Ee.bN),{avatarThumb:i="",uniqueId:n="",verified:r=!1,secUid:a}=(0,d.L)(t),l=(0,E.useMemo)((()=>{var e;return{to_user_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}}),[null==t?void 0:t.id]),s=(0,c.k0)(),{withCreator:u}=(0,c.Ry)(!0);if("v4"===s&&!u)return null;const h=(0,o.FD)(Oe.E,{"data-e2e":"explore-card-user-link",uniqueId:n,secUid:a,teaParams:Object.assign(Object.assign({},l),{enter_method:"click_category_video_user_icon"}),children:[(0,o.Y)(_e.e,{style:{flexShrink:0},src:i,shape:"circle",size:24})," "]}),p=(0,o.Y)(Oe.E,{"data-e2e":"explore-card-user-link",uniqueId:n,secUid:a,teaParams:l,style:{overflow:"hidden"},children:(0,o.Y)(ze,{"data-e2e":"explore-card-user-unique-id",children:n})});return(0,o.FD)(We,{children:[h,p,r&&(0,o.Y)(Me.A,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}));var He=i(25018);const $e=(0,E.memo)((function({count:e,onClick:t}){return(0,o.FD)(qe,{"data-e2e":"explore-card-like-container",onClick:t,children:[(0,o.Y)(He.A,{}),(0,o.Y)("span",{children:(0,Pe.D1)(null!=e?e:0)})]})})),Ke=(0,E.memo)((function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:n}){var r,a;const l=(0,d.L)(e),{scheduleTime:s,author:u=""}=l,{diggCount:h}=null!==(a=null!==(r=null==e?void 0:e.statsV2)&&void 0!==r?r:null==e?void 0:e.stats)&&void 0!==a?a:{},p=2===(null==e?void 0:e.adLabelVersion),m=(0,c.k0)(),{isClearUI:v,withDes:f,withBack:g}=(0,c.Ry)(!0);let b=(0,o.Y)($e,{count:h,onClick:n});"v4"===m&&(b=null);const{responsiveVid:y}=(0,c.mV)();return v?null:(0,o.Y)(Re,{"data-e2e":"explore-card-desc",withBack:g,disable:s,isNewLayout:"v0"!==y,children:(0,o.FD)(Be,{children:[f&&(0,o.Y)(Fe,{ellipsisLine:p||g?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption",children:(0,o.Y)(Se.g,{item:e,ellipsisOnNarrow:!0,styleType:"explore"})}),(0,o.Y)(je.P,{item:l}),s?null:(0,o.FD)(Ae,{children:[(0,o.Y)(Ue,{author:u}),(0,o.Y)(Ne,{isOnCard:!1,children:b})]})]})})}));var Ge=i(3846),Qe=i(72636);const Je=(0,E.memo)((function({count:e}){return(0,o.FD)(qe,{"data-e2e":"explore-card-view-container",children:[(0,o.Y)(Qe.A,{}),(0,o.Y)("span",{children:(0,Pe.D1)(null!=e?e:0)})]})})),Ze=(0,E.memo)((function({videoData:e}){var t,i;const{diggCount:n,playCount:r}=null!==(i=null!==(t=null==e?void 0:e.statsV2)&&void 0!==t?t:null==e?void 0:e.stats)&&void 0!==i?i:{},{isClearUI:a,withLike:l,withNoLeftInfo:d}=(0,c.Ry)(!0),s=a||d?null:l?(0,o.Y)($e,{count:n}):(0,o.Y)(Je,{count:r}),{responsiveVid:u}=(0,c.mV)();return(0,o.Y)(Ge.vb,{"data-e2e":"explore-card-info",isNewLayout:"v0"!==u,children:(0,o.Y)(Ne,{"data-e2e":"explore-card-info-left",isOnCard:!0,children:s})})}));var Xe=i(17944),et=i(56041);const tt=(0,R.default)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),it=(0,R.default)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),ot={enter_method:"video_desc"},nt=(0,E.memo)((function(e){var t,i,n;const{videoData:r,mode:a}=e,{user:l}=(0,d.L)((0,x.W)((()=>["user"]),[])),s=null==l?void 0:l.ftcUser,u=(0,c.tj)(),{scheduleTime:h,warnInfo:p=[]}=(0,d.L)(r),{questionInfo:m}=(0,H.P)(et.B,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),v=!u&&p&&p.length>0,{content:f="",id:g=""}=(0,d.L)(m),b=`https://www.tiktok.com${(0,T.WDv)({questionId:g,questionContent:f})}`,y=Boolean(h||s);return v?null:(0,o.Y)(it,{onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank"),children:(0,o.Y)(tt,{"data-e2e":"question-item-caption",onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==r?void 0:r.desc,href:b,children:(0,o.Y)(Se.g,{mode:a,ellispsisLine:1,styleType:"question",item:r,ellipsisOnNarrow:!0,reportParams:ot,shouldReport:y})})})}));var rt=i(67518),at=i(57432),lt=i.n(at),dt=i(1905),st=i(4383),ct=i(69750),ut=i(80074),ht=i(91842),pt=i(76391);const mt=(0,R.default)("div",{target:"etrd4pu0"})((({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"})),"label:DivVideoSearchCardDesc;"),vt=(0,R.default)("div",{target:"etrd4pu1"})([(0,ye.m4)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),ft=(0,R.default)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),gt=(0,R.default)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,ye.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),bt=(0,R.default)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),yt=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,ye.mp)({direction:e,marginEnd:4})],_t=(0,R.default)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),xt=(0,R.default)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,ye.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),wt=(0,R.default)(ut.A,{target:"etrd4pu7"})(yt,"label:StyledHeart;"),kt=(0,R.default)(pt.A,{target:"etrd4pu8"})(yt,"label:StyledHeartFill;"),Ct=(0,R.default)(ht.A,{target:"etrd4pu9"})(yt,"label:StyledPlay;"),Tt=(0,R.default)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),Dt=(0,E.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:n,onReportClick:r,hasPlayInfo:a=!0,id:l}){var s,c,u;const h=(0,v.s)(),p=(0,d.L)(e),{scheduleTime:m,id:f="",digged:g,author:b=""}=p,y=(0,he.nW)((e=>e.users[b]),Ee.bN),{avatarThumb:_="",uniqueId:w="",verified:k=!1,secUid:C,nickname:T}=(0,d.L)(y),D=(0,dt.AL)(Object.assign({user:y,enterMethod:"click_search_result"},t)),{region:I=""}=null!==(s=(0,x.W)((()=>["region"]),[]))&&void 0!==s?s:{},{diggCount:P,playCount:Y=0}=null!==(u=null!==(c=null==e?void 0:e.statsV2)&&void 0!==c?c:null==e?void 0:e.stats)&&void 0!==u?u:{},L=(0,Pe.D1)(P),S=(0,Pe.D1)(Y),{showLike:j,count:M}=se(I,S,L),O=(0,$.w)(st.k),V=(0,E.useCallback)((()=>{O.postLikeVideo(Object.assign({id:f,enter_method:"click",channel_id:23},t))}),[f,O,t]),R=(0,ct.G)({actionWhenUserLoggedIn:j?V:lt(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href,group_id:f}}}),F=(0,E.useCallback)((()=>{null==r||r()}),[r]),{colors:B}=(0,rt.u)();return(0,o.Y)(mt,{"data-e2e":"search-card-desc",disable:m,children:(0,o.FD)(ft,{children:[(0,o.Y)(vt,{onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==n?void 0:n("hover_cover"),"data-e2e":"search-card-video-caption",children:(0,o.Y)(Se.g,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:r})}),(0,o.Y)(je.P,{item:p}),m?null:(0,o.FD)(gt,{children:[(0,o.Y)(Oe.E,{"data-e2e":"search-card-user-link",uniqueId:w,secUid:C,teaParams:D,id:l,onClick:F,ariaLabel:h("accessibilityLabels_link_userProfile",{username:T}),children:(0,o.FD)(_t,{children:[(0,o.Y)(_e.e,{style:{flexShrink:0},src:_,shape:"circle",size:24})," ",(0,o.Y)(xt,{"data-e2e":"search-card-user-unique-id",children:w}),k&&(0,o.Y)(be.A,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}),a&&(0,o.FD)(bt,{"data-e2e":"search-card-like-container",onClick:R,children:[j?g?(0,o.Y)(kt,{className:"like-icon",width:18,height:18,fill:B.Primary}):(0,o.Y)(wt,{className:"like-icon",width:18,height:18,fill:B.TextReverse2}):(0,o.Y)(Ct,{className:"like-icon",width:16,height:16,fill:B.TextReverse2}),(0,o.Y)(Tt,{children:M})]})]})]})})}));var It=i(93974),Pt=i(45643),Yt=i(17399),Lt=i(16200),St=i(84476),jt=i(44390),Mt=i(62216),Ot=i(14892);const Et={enter_method:"video_desc"},Vt=(0,E.memo)((function(e){var t,i,n,r,a;const{videoData:l,mode:d,itemListKey:s,pageType:u,userData:h}=e,{user:p}=null!==(t=(0,x.W)((()=>["user"]),[]))&&void 0!==t?t:{},m=null==p?void 0:p.ftcUser,[v,g]=(0,E.useState)(!1),[b,y]=(0,E.useState)(!1),_=(0,jt.N)(),[w,C]=(0,E.useState)(!1),T=(0,f._u)(),D=(0,c.tj)(),I=(0,E.useCallback)((e=>{1===u&&null!==e&&(Array.from(e.querySelectorAll("*")).forEach((e=>{e.tabIndex=-1})),e.tabIndex=0)}),[u]),{scheduleTime:P,warnInfo:Y=[],id:L="",author:S=""}=null!=l?l:{},j=!D&&Y&&Y.length>0,[M,O]=(0,E.useState)("");(0,E.useEffect)((()=>{O(`https://www.tiktok.com${T(l)}`)}),[S,L]);const V=(0,E.useCallback)((()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e,"hover_blank"),g(!0),y(!0)}),[e]),R=(0,E.useCallback)((()=>{window.setTimeout((()=>{y(!1)}),2e3)}),[]);(0,E.useEffect)((()=>{w||g(b)}),[b,w]);const F=(0,E.useRef)(null),B=Boolean(P||m),[A,W]=(0,E.useState)("down"),{isRTL:z}=(0,It.m)(),N=(0,E.useCallback)((e=>{(0,k.Gu)(e),Pt.O.handleGeneralClick("info_card_icon",{group_id:null==l?void 0:l.id}),Yt.c.showSection("info_card",{group_id:null==l?void 0:l.id});const t=(0,Ot.c)(F,null!=u?u:999,z);W(t),C(!0)}),[z,u,null==l?void 0:l.id]);return j?null:(0,o.FD)(Lt.Zt,{children:[(0,o.Y)(Lt.h9,{"aria-label":null==l?void 0:l.desc,"data-e2e":`${s}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:V,onMouseLeave:R,ref:I,children:(0,o.Y)(Lt.T6,{onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==l?void 0:l.desc,href:M,children:(0,o.Y)(Se.g,{mode:d,ellispsisLine:1,styleType:"tag",item:l,ellipsisOnNarrow:!0,reportParams:Et,shouldReport:B})})}),v&&(0,o.Y)(Lt.Fp,{onClick:N,ref:F,children:(0,o.Y)(St.o,{size:16})}),(0,o.Y)(Lt.Uz,{children:(_||w)&&(0,o.FD)(o.FK,{children:[(0,o.Y)(Lt.BV,{visible:w,renderDirection:A}),(0,o.Y)(Mt.K,{item:l,author:h,description:null!==(r=null==l?void 0:l.desc)&&void 0!==r?r:"",stats:null!==(a=null==l?void 0:l.statsV2)&&void 0!==a?a:null==l?void 0:l.stats,isBot:_,pageType:null!=u?u:999,handleClose:()=>{C(!1),g(!1),y(!1)},visible:w,renderDirection:A})]})})]})})),Rt=(0,R.default)("div",{target:"e1cj3yk40"})({background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivJustWatchedMaskContainer;"),Ft=(0,R.default)("div",{target:"e1cj3yk41"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},"label:DivJustWatchedMaskWrapper;"),Bt=(0,R.default)("span",{target:"e1cj3yk42"})((({theme:e})=>({fontSize:"16px",lineHeight:"15px",fontWeight:600,color:e.colors.ConstTextInverse,wordBreak:"break-word",textAlign:"center"})),"label:SpanText;"),At=(0,R.default)(ht.A,{target:"e1cj3yk43"})((({theme:{direction:e,colors:t}})=>[(0,ye.mp)({direction:e,marginEnd:"4px"}),{fill:t.ConstTextInverse}]),{verticalAlign:"middle",width:"16px",height:"16px"},"label:StyledPlayIcon;"),Wt=(0,E.memo)((()=>{const e=(0,v.s)();return(0,o.Y)(Rt,{children:(0,o.FD)(Ft,{children:[(0,o.Y)(At,{}),(0,o.Y)(Bt,{children:e("pcWeb_justWatched")})]})})}));var zt=i(6501),Nt=i(3134),qt=i(9156),Ut=i(70928);const Ht={width:24,height:24,fill:"#fff"},$t=[1,8,105,107,19,3,4,104,122],Kt=[3,16,4,129,18,121],Gt=(0,E.memo)((0,E.forwardRef)((function({index:e,id:t,pageType:i,itemListKey:O,mode:V="compact",hasDescUnderItem:R,borderRadius:F="4px",teaParams:B,searchTopCardType:A,handleClick:W,handleVideoClick:N,searchType:q,mute:le,hasSound:se=!1,volume:ce=.7,handleToggleMute:fe,isActualRatioEnabled:ge=!1,style:be,exploreCategoryType:ye,useHorizontalList:_e=!1,children:xe},we){var ke,Ce,Te,De;const Pe=(0,H.P)(l.d,{selector:e=>e[t],dependencies:[t]}),Ye=(0,ue.F3)((e=>e[t])),Se=(0,E.useMemo)((()=>123===i||61===A),[i,A]),{video:je,itemMute:Me=!1,warnInfo:Oe,desc:Ee="",showNotPass:Ve=!1,author:Re="",scheduleTime:Fe,authorId:Be="",secret:Ae=!1,forFriend:We=!1,adLabelVersion:ze,statsV2:{repostCount:Ne="0"}={}}=(0,d.L)(Ye),{playAddr:qe="",duration:Ue,bitrateInfo:He,volumeInfo:$e,bitrate:Qe,encodedType:Je="",format:et="",videoQuality:tt="",encodeUserTag:it="",codecType:ot="",definition:at="",zoomCover:lt,cover:dt,VQScore:st=0}=(0,d.L)(je),ct=(0,s.V1)(Ye),{isInProductHoldout:ut}=(0,c.Vv)(),ht=ut,pt=!ut,mt=(0,c.q1)(),{mute:vt,setMute:ft}=(0,u.ah)({playMode:1,itemMute:Me}),gt=(0,c.tj)(),[bt,yt]=(0,E.useState)(!1),[_t,xt]=(0,E.useState)(!1),wt=$t.includes(i),{showVideoMask:kt}=(0,h.d)({item:null!=Ye?Ye:{},playMode:1}),{hideMaskTempVideoId:Ct}=(0,H.P)(p.w),Tt=("user-liked"===O||"favorites"===O)&&(null==Ye?void 0:Ye.isContentClassified),It=kt&&Ct!==t||Tt,Pt=(0,H.P)(m.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),Yt=mt&&wt&&!Se&&!ct&&!It&&!Pt.includes((null==Ye?void 0:Ye.id)||""),Lt=!(null!=le?le:Yt)||vt,St=(0,E.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),ft(!Lt)}),[Lt,ft]),{delayAfterVideoPlay:jt}=(0,c.fH)(),Mt=19===i,{withBack:Ot}=(0,c.Ry)(Mt),Et=(0,c.PV)(),{colors:Rt}=(0,rt.u)(),Ft=Object.assign({borderRadius:Ot?"8px 16px":void 0,background:Ot?Rt.BGPlaceholderDefault:void 0},be),Bt=(0,E.useMemo)((()=>Et||1===i&&pt?{zoomCover:lt,cover:dt,quality:"720"}:{zoomCover:lt,cover:dt,quality:"480"}),[pt,dt,i,lt]),At=(0,v.s)(),Gt=(0,f._u)(),Qt=(({item:e,itemListKey:t})=>{const i=(0,v.s)(),{originalItem:n,officalItem:r}=null!=e?e:{},a=Boolean(n);return Boolean(r)?(0,o.Y)(Ge.Qh,{"data-e2e":`${t}-official`,children:(0,o.Y)(Ge.Qz,{children:i("official_tag")})}):a?(0,o.Y)(Ge.Qh,{"data-e2e":`${t}-original`,children:(0,o.Y)(Ge.Qz,{children:i("original_tag")})}):null})({item:Ye,itemListKey:O}),Jt=(0,$.w)(m.hf),Zt=(0,g.nr)(),Xt=(0,g.VP)();(0,E.useEffect)((()=>{yt(!(Xt!==e||!Yt))}),[Xt,Yt,e]);const ei=(0,he.nW)((e=>{if(Re)return e.users[Re]})),{uniqueId:ti="",secUid:ii="",nickname:oi=""}=(0,d.L)(ei),{music:ni}=(0,d.L)(Ye),{title:ri="",authorName:ai=""}=(0,d.L)(ni),li=At("seo_user_video_cover",{videoText:null!==(ke=null==Ye?void 0:Ye.desc)&&void 0!==ke?ke:"",videoAuthor:oi,musicAuthor:ai,musicName:ri}),di=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,E.useMemo)((()=>{const{search_id:e,search_keyword:n}=null!=t?t:{};let r,a={};switch(e&&(a=Object.assign(Object.assign({},a),{search_id:e,impr_id:e,search_keyword:n,search_result_id:i})),o){case 105:r="general";break;case 106:r="user";break;case 107:r="video";break;case 123:r="live";break;default:r=void 0}return r&&(a.search_type=r),a}),[t,i,o])}({teaParams:B,id:t,pageType:i}),si=(0,s.DN)(Ye),ci=(0,ve.b1)(Ye,i),ui=(0,c.uT)(),[hi]=(0,pe.eW)(),pi=(0,s.n5)(Ye,"user-post"===O&&1!==hi&&2!==hi),mi=(0,E.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),di),{group_id:t,author_id:Be,is_scheduled:Boolean(Fe),bitrate:Number(Qe),encodedType:Je,format:et,videoQuality:tt,encodeUserTag:it,codecType:ot,definition:at,secret:Ae,forFriend:We,isPaidPartnership:2===ze,isPinnedItem:pi,isReposted:Number(Ne)>0}),si),ci)),[B,di,t,Be,Fe,Qe,Je,et,tt,it,ot,at,Ae,We,ze,si,ci,pi,Ne]),vi=function(e){const{teaParams:t,pageType:i}=e;return(0,E.useMemo)((()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${G.f.commonParams.page_name}_result`}):t),[t,i])}({teaParams:mi,pageType:i}),fi=(0,E.useRef)(null),gi=(0,E.useRef)(null),bi=(0,E.useRef)(null),{showBrowserMode:yi}=(0,E.useContext)(b.g),_i=(0,y.YZ)(),xi=(0,me.lY)(),wi=(0,K.Nj)(Q.AU),ki=(0,K.Nj)(J.Gs),Ci=(0,_.b1)(),{abTestVersion:Ti,user:Di,wid:Ii}=(0,d.L)((0,x.W)((()=>["abTestVersion","user","wid"]),[])),Pi=null!==(Ce=(0,w.qt)(Ti,"search_video"))&&void 0!==Ce?Ce:"v1",Yi=Boolean(Di),Li=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},Si=(0,E.useCallback)(((e,t)=>{const i={data:t,expire:Li()};(0,k.AP)(e,JSON.stringify(i))}),[]),ji=(0,E.useCallback)((e=>{const t=(0,k._S)(e),i=Date.now();let o;if(t){const n=JSON.parse(t);i<n.expire?o=n.data:(0,k.sc)(e)}return o}),[]),Mi=(0,E.useCallback)(((i,o)=>{if(Tt)return oe.F.destroy(),oe.F.open({content:At("cc_webapp_age_video_details_body"),duration:3,widthType:"half"}),i.stopPropagation(),void i.preventDefault();if(W)return void W(i,t);if(i.preventDefault(),i.stopPropagation(),null==Ye?void 0:Ye.showNotPass)return;"explore"===O&&ye&&xi.prepareBrowserMode(ye);const n=Object.assign(Object.assign({},mi),{enter_method:o,from_mode:1});if(!("v4"!==Pi||Yi||"general_search"!==G.f.commonParams.page_name&&"search_video"!==G.f.commonParams.page_name||ji(`${C.DK}${Ii}`)))return Si(`${C.DK}${Ii}`,Ii),Ci.setCloseCallback((()=>{_i.setItemListKey(O),yi({index:e,teaParams:vi,enterFrom:G.f.commonParams.page_name,reportTeaParams:n}),ki.setEnterMethod(o),wi.handleUserChangeVideoOrPlayMode(),wi.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o})})),void Ci.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:G.f.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});_i.setItemListKey(O),yi({index:e,teaParams:vi,enterFrom:G.f.commonParams.page_name,reportTeaParams:n}),ki.setEnterMethod(o),wi.handleUserChangeVideoOrPlayMode(),wi.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o}),null==N||N()}),[Tt,W,null==Ye?void 0:Ye.showNotPass,mi,Pi,Yi,ji,Ii,O,yi,e,vi,ki,wi,At,t,Si,Ci,_i,N,ye,xi]),Oi=(0,E.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=bi.current)||void 0===t||t.click()}),[]),Ei=(0,E.useCallback)((e=>{It||(e.preventDefault(),e.stopPropagation(),Ye&&Jt.removeBlockVideo(Ye.id))}),[It,Ye,Jt]),Vi=(0,E.useCallback)((()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:n="general",impr_id:r}=di;Z.$G.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:n,token_type:Se?"live_card":"person",nickname:Se?null===(e=null==Pe?void 0:Pe.owner)||void 0===e?void 0:e.nickname:oi,impr_id:r})}),[Se,di,oi,Pe]),Ri=(0,E.useCallback)((e=>t=>Mi(t,e)),[Mi]),Fi=function(e,t){return![3,4,129,103,16,18,121,19,123,106].includes(e)&&!t}(Number(i),Se);let Bi;Bi="following-recommend"===V?`https://www.tiktok.com${(0,T.fJR)({uniqueId:ti,secUid:null!=ii?ii:""})}`:`https://www.tiktok.com${Gt(Ye)}`;const{ratio:Ai}=(0,c.mV)(),Wi=(0,E.useMemo)((()=>{let{ratio:e}=D.f[V];return 19===i&&(e=ge&&(null==Ye?void 0:Ye.video)?(null==Ye?void 0:Ye.video.width)/(null==Ye?void 0:Ye.video.height):Ai),e}),[V,i,Ai,ge,null==Ye?void 0:Ye.video]),{inGifPlayerExperiment:zi,setGifPlayerItemId:Ni}=(0,qt.t)(i),qi=(0,E.useCallback)((i=>o=>{var n,r,a,l;It||(o.preventDefault(),zi?Ni(t):(Yt&&yt(!0),Zt.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:ui?null!==(r=null===(n=gi.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0:null!==(l=null===(a=fi.current)||void 0===a?void 0:a.currentTime)&&void 0!==l?l:0,playType:"hover"}),ki.setEnterMethod(i),wi.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}),X.V.handleVideoControlReport({play_mode:"list_mouse_trigger"})))}),[It,t,_t,Zt,e,ki,wi,Yt,zi,Ni]),Ui=(0,E.useCallback)((i=>{var o,n,r,a,l,d,s,c,u,h,p,m;i.preventDefault(),i.stopPropagation(),_t?(Zt.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:ui?null!==(n=null===(o=null==gi?void 0:gi.current)||void 0===o?void 0:o.currentTime)&&void 0!==n?n:0:null!==(a=null===(r=null==fi?void 0:fi.current)||void 0===r?void 0:r.currentTime)&&void 0!==a?a:0}),ui?null===(d=null===(l=null==gi?void 0:gi.current)||void 0===l?void 0:l.play)||void 0===d||d.call(l,!0):null===(c=null===(s=null==fi?void 0:fi.current)||void 0===s?void 0:s.play)||void 0===c||c.call(s,!0)):ui?null===(h=null===(u=null==gi?void 0:gi.current)||void 0===u?void 0:u.pause)||void 0===h||h.call(u):null===(m=null===(p=null==fi?void 0:fi.current)||void 0===p?void 0:p.pause)||void 0===m||m.call(p)}),[t,e,_t,Zt,ui,gi,fi]),Hi=(0,E.useCallback)((()=>{xt(!0)}),[]),{isDetailPage:$i}=(0,re.s0)(),Ki=Kt.includes(i),Gi=(0,E.useMemo)((()=>{var t;let n=null;switch(i){case 16:n=(0,o.Y)(nt,{mode:V,index:e,onMouseEnter:qi,onClick:Ri,videoData:Ye});break;case 1:ht&&(n=(0,o.Y)(Vt,{mode:V,index:e,itemListKey:O,onMouseEnter:qi,onClick:Ri,videoData:Ye,pageType:i,userData:ei}));break;case 3:case 4:case 121:case 18:case 129:n=(0,o.Y)(Vt,{mode:V,index:e,itemListKey:O,onMouseEnter:qi,onClick:Ri,videoData:Ye,pageType:i,userData:ei});break;case 105:case 107:case 123:let r=Ye;Se&&(r={author:null===(t=null==Pe?void 0:Pe.owner)||void 0===t?void 0:t.display_id,desc:null==Pe?void 0:Pe.title}),n=(0,o.Y)(Dt,{onClick:Ri,onMouseEnter:qi,videoData:r,reportParams:di,onReportClick:Vi,pageType:i,hasPlayInfo:!Se,id:`${O}-item-user-link-${e}`});break;case 19:n=(0,o.Y)(Ke,{videoData:Ye,onClick:Ri,onMouseEnter:qi,onLikeClick:Mi})}return n}),[i,V,e,qi,Ri,Ye,O,Se,di,Vi,Mi,null===(Te=null==Pe?void 0:Pe.owner)||void 0===Te?void 0:Te.display_id,null==Pe?void 0:Pe.title]),Qi=105===i||107===i||Se?Ge.tE:Ge.aX,Ji=$i?Ge.iP:Qi,Zi=(e=>{const{timeTranslator:t}=(0,Xe.T)(),{createTime:i}=null!=e?e:{},n=t(1e3*Number(i));return(0,o.Y)(Ge.Jd,{children:n})})(Ye),Xi=105===i||107===i?Zi:null,eo=!zi&&(Yt?!ct:se||Me),{justWatchedVideo:to=null}=(0,g.MY)(),io=(null==to?void 0:to.id)===t,{isJustWatchedEnabled:oo}=(0,c.Kg)(),no=(0,re.bG)(),ro=(0,E.useCallback)((e=>{e.preventDefault()}),[]),ao=(0,E.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Me?(oe.F.destroy(),oe.F.open({content:At("music_detail_unavailable_1"),duration:3,widthType:"half"})):(fe?null==fe||fe(e):St(e),ee.p.handleSwitchSound({playMode:1}))}),[Me,fe,At,Yt,St]),lo=(0,qt.y)(Ye),so=(0,E.useCallback)((()=>{var o;const n=106===i?"recent_video":"scroll";te.A.handleVideoExposeReport(Object.assign({enter_method:n,author_id:null!==(o=null==ei?void 0:ei.id)&&void 0!==o?o:"",group_id:t,rank:e,page_name:G.f.commonParams.page_name,backend_source_event_tracking:""},lo))}),[null==ei?void 0:ei.id,t,e,i,lo]),co=(0,E.useRef)(null),uo=(0,E.useMemo)((()=>[0]),[]);(0,E.useImperativeHandle)(we,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=co.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0},get currentElementRef(){return co}})),[]),(0,I.B)({intersectionHandler:so,element:co,threshold:uo,unobserveAfterIntersect:!0});const ho=(0,E.useCallback)((()=>{jt&&zt.a.updateExploreVideoLoadEvent()}),[jt]),po=(0,P.Hf)(),mo=(0,E.useCallback)((e=>{var i,o,n,r,a,l;const d=ui?null===(i=gi.current)||void 0===i?void 0:i.duration:null===(o=fi.current)||void 0===o?void 0:o.duration;po.setVideoInfo({videoId:t,videoPercent:e,currentTime:ui?null!==(r=null===(n=gi.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0:null!==(l=null===(a=fi.current)||void 0===a?void 0:a.currentTime)&&void 0!==l?l:0,duration:d})}),[t,e,po]),vo=(0,E.useMemo)((()=>Me||Lt?(0,o.Y)(r.A,Object.assign({},Ht)):(0,o.Y)(a.A,Object.assign({},Ht))),[Me,Lt]),{direction:fo}=(0,rt.u)(),go=(0,E.useRef)(null),bo=(0,E.useRef)(null),yo=(0,E.useRef)(null),_o=(0,E.useRef)(null),xo=(0,E.useCallback)((e=>{var t,i,o,n;ui?null===(i=null===(t=null==gi?void 0:gi.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e):null===(n=null===(o=null==fi?void 0:fi.current)||void 0===o?void 0:o.seek)||void 0===n||n.call(o,e)}),[ui,gi,fi]),wo=(0,E.useCallback)(((e,i)=>{var o,n,r,a,l;ie.$.handleSeekBarClick(Object.assign({fromPercent:e,toPercent:i,video_length:ui?null!==(n=null===(o=null==gi?void 0:gi.current)||void 0===o?void 0:o.duration)&&void 0!==n?n:0:null!==(a=null===(r=null==fi?void 0:fi.current)||void 0===r?void 0:r.duration)&&void 0!==a?a:0,is_pause:_t,play_mode:"three_column",author_id:null!==(l=null==ei?void 0:ei.id)&&void 0!==l?l:"",group_id:t},B))}),[B,ui,gi,fi]),ko=(0,E.useCallback)((()=>{xt(!1),ho()}),[]),{bindDrag:Co,seek:To,videoPercent:Do,currentTime:Io,setVideoInfo:Po}=(0,Y.u)({direction:fo,progressRef:bo,circleRef:yo,videoId:t,barRef:_o,initialPercent:0,draggingPercentCb:xo,progressReportCallback:wo});(0,E.useEffect)((()=>{(Io||Do)&&Po({videoId:t,videoPercent:0})}),[]);const Yo=(0,E.useMemo)((()=>"ltr"===fo?{left:`calc(${100*Do}%)`}:{right:`calc(${100*Do}%)`}),[fo,Do]),Lo=(0,E.useMemo)((()=>({videoCover:Bt,desc:li})),[Bt,li]),So=(0,E.useMemo)((()=>({params:mi})),[mi]),jo=(0,E.useMemo)((()=>({vqscore:st?Number(st):0})),[st]);return(0,o.FD)(Ji,{ref:co,hasDescUnderItem:R,style:Ft,inHorizontalList:_e,maxWidth:1===i&&pt?"320px":void 0,children:[(0,o.FD)(ne.w,{e2eTag:`${O}-item`,ratio:Wi,borderRadius:Ot?"0":F,overflow:Yt?"visible":"hidden",hasDescUnderItem:R,copyrightMuted:Me,onKeyDown:Oi,children:[(0,o.FD)(Ge.mF,{showNotPass:null!==(De=null==Ye?void 0:Ye.showNotPass)&&void 0!==De&&De,isShow:bt,href:Bi,onMouseEnter:qi("hover_cover"),onClick:Mi,tabIndex:-1,ref:bi,children:[(0,o.Y)(Ge.Od,{width:100*Wi,height:100}),Se?(0,o.Y)(Ge.w3,{children:(0,o.Y)(ae.s,{id:t,mode:1,searchType:null!=q?q:"live",search_result_id:null==B?void 0:B.search_result_id})}):(0,o.FD)(Ge.w3,{withBack:Ot,borderRadius:F,onContextMenu:ro,isShow:bt,children:[ct?(0,o.Y)(Ge.NR,{children:(0,o.Y)(Ge.zj,{video:Bt,alt:Ee})}):!zi&&(ui?(0,o.Y)(S.o,{ref:gi,id:t,url:qe,horizontal:!1,mode:1,index:e,muted:Lt||Me,duration:Ue,bitrateInfo:He,disableDownload:!0,bitrate:Number(Qe),posterConfig:Lo,teaConfig:So,videoQualityConfig:jo,onVideoPlay:ko,onVideoPause:Hi,onVideoError:ho,onTimeUpdate:mo,fetchPriority:no&&e<3?"high":"auto"}):(0,o.Y)(L.K,{desc:li,horizontal:!1,mode:1,ref:fi,id:t,playUrl:qe,index:e,itemMute:Lt||Me,duration:Ue,bitrateInfo:He,teaParams:mi,disableDownload:!0,volumeInfo:{Loudness:ce}||$e,bitrate:Number(Qe),videoCover:Bt,onVideoPlay:ko,onVideoPause:Hi,onVideoError:ho,onTimeUpdate:mo,fetchPriority:no&&e<3?"high":"auto"})),zi&&!ct&&(0,o.Y)(Ut.Y,{item:Ye,mode:1,posterConfig:Lo,teaParams:mi}),!gt&&(null==Oe?void 0:Oe[0])&&(0,o.Y)(Ge.zm,{children:(0,o.Y)(j.Q,{needExtraBottom:!_e,info:null==Oe?void 0:Oe[0],useSmallSize:_e})}),Boolean(Fe)&&(0,o.Y)(Ge.zm,{children:(0,o.FD)(Ge.Vq,{children:[(0,o.Y)(Ge.Mt,{width:14.67,height:14.67}),(e=>{const[t,i]=e.split(" "),[n,r,a]=t.split("-");return(0,o.FD)(o.FK,{children:[(0,o.Y)("span",{children:n}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:r}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:a}),(0,o.Y)("span",{children:" "}),(0,o.Y)("span",{children:i})]})})((Mo=Fe,de().unix(Mo).format("YYYY-M-D H:mm")))]})}),Qt,ct&&(0,o.Y)(Ge.gp,{children:(0,o.Y)(n.N,{size:20})}),!bt&&Fi&&(0,o.Y)(Le,{videoData:Ye,content:Xi}),(gt||!(null==Oe?void 0:Oe[0]))&&Ki&&!bt&&(0,o.Y)(Ie,{e2ePrefix:O,type:1,videoData:Ye,teaParams:B,showMuteIcon:eo}),19===i&&!bt&&(0,o.Y)(Ze,{videoData:Ye}),bt&&(0,o.Y)(Ge.HB,{children:(0,o.Y)(Nt.D,{isPause:_t,onClick:Ui})}),It||Pt.includes((null==Ye?void 0:Ye.id)||"")?(0,o.Y)(Ge.es,{hasSolidBackground:Tt,children:(0,o.Y)(Ge.NL,{onClick:Ei,children:(0,o.Y)(U,{width:"48",height:"48"})})}):null,eo&&(0,o.Y)(Ge.jG,{onClickCapture:ao,children:vo}),oo&&io&&1===i&&"user-post"===O&&0===hi&&(0,o.Y)(Wt,{})]}),bt&&(0,o.Y)("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:(0,o.FD)(Ge.lT,{onMouseDown:k.Gu,onClick:k.Gu,borderRadius:F,withBack:Ot,children:[(0,o.FD)(Ge.gt,{ref:go,children:[(0,o.Y)(Ge.AK,{ref:bo,onClickCapture:To,onMouseDown:Co,tabIndex:0,role:"slider","aria-label":At("accessibilityLabels_forYou_videoControls_videoProgress"),"aria-valuenow":Do,"aria-valuetext":(0,M.Az)(Io)}),(0,o.Y)(Ge.Vi,{ref:_o,style:{transform:`scaleX(${Do}) translateY(-50%)`},onClickCapture:To,onMouseDown:Co})]}),(0,o.Y)(Ge.n9,{ref:yo,style:Yo,onMouseDown:Co})]})}),(0,o.Y)(z,{videoData:Ye,pageType:i,itemListKey:O,sortType:hi})]}),xe]}),!Ve&&Gi]});var Mo})))},16200:(e,t,i)=>{i.d(t,{BV:()=>c,Fp:()=>d,T6:()=>r,Uz:()=>h,Zt:()=>u,h9:()=>l});var o=i(98151),n=i(78004);const r=(0,o.default)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;");var a;!function(e){e.ArrowLeft="left",e.ArrowRight="right",e.ArrowTop="top",e.ArrowBottom="bottom"}(a||(a={}));const l=(0,o.default)("div",{target:"eih2qak1"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box",width:"100%"}]),"label:DivTagCardDesc;"),d=(0,o.default)("span",{target:"eih2qak2"})((({theme:e})=>({color:e.colors.TextTertiaryAlt})),{marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},"label:SpanInfoExpandIconWrapper;");function s(e,t){return"right"===e?function(e){const t={borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderRight:"10px solid",borderRightColor:e.colors.BGSecondary};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginTop:"32px",marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginTop:"30px",marginLeft:"8px"})}(t):"bottom"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"10px solid",borderBottomColor:e.colors.BGSecondary,marginTop:"60px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-16px"}):Object.assign(Object.assign({},t),{marginLeft:"-20px"})}(t):"left"===e?function(e){return{borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderLeft:"10px solid",borderLeftColor:e.colors.BGSecondary,marginTop:"30px",marginLeft:"-30px"}}(t):"top"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:"10px solid",borderTopColor:e.colors.BGSecondary,marginRight:"-20px",marginTop:"20px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginLeft:"-18px"})}(t):{}}const c=(0,o.default)("div",{target:"eih2qak3"})((({renderDirection:e,visible:t,theme:i})=>[{width:0,height:0,position:"absolute",display:t?"block":"none",zIndex:100},s(e,i)]),"label:DivInfoCardArrow;"),u=(0,o.default)("div",{target:"eih2qak4"})({display:"flex",position:"relative"},"label:DivDesContainer;"),h=(0,o.default)("span",{target:"eih2qak5"})({position:"absolute",display:"flex",top:-28,":hover":{cursor:"pointer"}},(({theme:{direction:e}})=>"ltr"===e?{right:0}:{left:0}),"label:SpanInfoExpandWrapper;")},61076:(e,t,i)=>{i.d(t,{Z:()=>B});var o=i(2787),n=i(40099),r=i(61622),a=i(62209),l=i(18360),d=i(93974),s=i(6874),c=i(90053),u=i(36862),h=i(60417),p=i(76061),m=i(65273),v=i(28007),f=i(96810),g=i(76183),b=i(15195),y=i(48206),_=i(24642);var x,w=i(75301),k=i(98684),C=i(26971),T=i(52354),D=i(96836),I=i(47218),P=i(44390),Y=i(24737),L=i(63946),S=i(5151),j=i(98118),M=i(44831),O=i(89787),E=i(59695),V=i(42435),R=i(6501),F=i(9156);!function(e){e[e.IN_VIEW=0]="IN_VIEW",e[e.ABOVE_VIEW=1]="ABOVE_VIEW",e[e.BELOW_VIEW=2]="BELOW_VIEW"}(x||(x={}));const B=(0,n.memo)((0,r.h)()((function({mode:e="compact",loading:t,itemList:i,pageType:r,itemListKey:x,onHitBottom:B,threshold:A,frozen:W,borderRadius:z,renderMap:N,renderTitle:q,renderItemChildren:U,teaParams:H,searchTopCardType:$,notWrap:K=!1,autoPlayFirst:G=!0,handleClick:Q,handleVideoClick:J,searchType:Z,hasMore:X=!0,mute:ee,hasSound:te=!1,handleToggleMute:ie,isMasonry:oe=!1,hasLocateItem:ne=!1,children:re}){var ae,le;const{isInProductHoldout:de}=(0,a.Vv)(),se=!de,ce=(0,a.q1)(),ue=j.uu.includes(r),he=ce&&ue,pe=(0,n.useCallback)((()=>{W||null==B||B()}),[W,B]),me=(0,b.O)({onHitBottom:pe,threshold:A}),ve=(0,l.nr)(),{isJustWatchedEnabled:fe,isButtonPrimary:ge,isButtonSizeLarge:be}=(0,a.Kg)(),{justWatchedVideoId:ye,justWatchedAuthorUniqueId:_e,justWatchedAuthorId:xe}=(0,E.xr)(),{delayAfterRender:we}=(0,a.fH)(),ke=(0,C.gT)(),[Ce]=(0,T.eW)(),[Te,De]=(0,n.useState)(0),[Ie,Pe]=(0,n.useState)(20),[Ye,Le]=(0,n.useState)(!1),[Se,je]=(0,n.useState)(!1),[Me,Oe]=(0,n.useState)(!1),{isRTL:Ee}=(0,d.m)(),{value:Ve}=(0,n.useContext)(V.xm),Re=(0,s.s)(),Fe=i[0],Be=(0,D.F3)((e=>e[Fe])),{showVideoMask:Ae}=(0,c.d)({item:null!=Be?Be:{},playMode:1});(0,k.H4)(i,me,X,B);const We=(0,n.useRef)(!0),ze=(0,n.useRef)(x);(0,n.useEffect)((()=>{x!==ze.current&&(We.current=!0,ze.current=x)}),[x]),(0,n.useEffect)((()=>{we&&R.a.updateExploreVideoLoadEvent()}),[]);const{inGifPlayerExperiment:Ne,setGifPlayerItemId:qe}=(0,F.t)(r);(0,n.useEffect)((()=>{if(!Ae&&We.current&&G&&i.length){if(We.current=!1,Ne)return void qe(i[0]);ve.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"}),he&&y.V.handleVideoControlReport({play_mode:"list_mouse_trigger"})}}),[Ae,i,he,Ne,qe]),(0,u.Ux)(1);const Ue=3===r||105===r||107===r||123===r||16===r||61===$,He=(0,n.useRef)([]),$e=(0,n.useCallback)((e=>t=>{He.current||(He.current=[]),He.current[e]=t}),[]),Ke=(0,n.useRef)(null),Ge=(0,h.JD)((e=>e.currentIndex)),Qe=(0,p.Sb)(),{isBrowserModeShowing:Je}=(0,n.useContext)(m.g),Ze=(0,n.useCallback)((()=>{var e,t;const o=null==i?void 0:i.indexOf(null!=ye?ye:"");return-1===o?null:null!==(t=null===(e=null==He?void 0:He.current[o])||void 0===e?void 0:e.currentElementRef)&&void 0!==t?t:null}),[i,ye,He,Se]);(0,v.B)({intersectionHandler:()=>{De(0)},outerSectionHandler:()=>{const e=Ze();if(!e||!e.current)return void De(2);const{top:t}=e.current.getBoundingClientRect();De(t<0?1:2)},element:Ze(),threshold:[.8]});const Xe=(0,n.useCallback)(((e,t=150)=>{var i;if(e){const o=null!==(i=e.offsetTop)&&void 0!==i?i:0;0!==o&&window.scrollTo(0,o+t)}}),[]),et=(0,n.useCallback)((()=>{return e=this,t=void 0,o=function*(){var e,t;t={author_id:null!=xe?xe:"",group_id:null!=ye?ye:""},_.f.sendEvent("click_just_watched_button",t);const i=Ze();if(i)Xe(i.current);else if(_e===(null==Be?void 0:Be.author)){je(!0);try{yield ke.getItemList(Object.assign({secUid:null!==(e=null==Be?void 0:Be.authorSecId)&&void 0!==e?e:"",postItemListRequestType:3},ye&&{locateItemID:ye}))}catch(e){console.error("Error calling fetch function:",e)}finally{je(!1)}Oe(!0)}},new((i=void 0)||(i=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}d((o=o.apply(e,t||[])).next())}));var e,t,i,o}),[Ze,Xe,_e,xe,null==Be?void 0:Be.author,null==Be?void 0:Be.authorSecId,ye,ke,je]);(0,n.useEffect)((()=>{const e=-1!==i.indexOf(null!=ye?ye:"")&&0!==Te,t=-1===i.indexOf(null!=ye?ye:"")&&ne,o=1===r&&(e||t);var n;o&&!Ye&&(n={has_locate_item:ne,author_id:null!=xe?xe:"",group_id:null!=ye?ye:""},_.f.sendEvent("just_watched_button_show",n)),Le(o)}),[r,i,ne,Te,ye]),(0,n.useEffect)((()=>{const e=()=>{if(Ke.current){const e=Ke.current.getBoundingClientRect(),t=Ee?e.left:window.innerWidth-e.right;Pe(t+20)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{if(Me){const e=Ze();e&&Xe(e.current),Oe(!1)}}),[Me,Ze,Xe]),(0,n.useEffect)((()=>{let e;if("explore"===x&&Je&&0!==Ge){const{itemListKey:t,index:i}=Qe.getSourceIndex(Ge);return t===x&&(e=setTimeout((()=>{var t,o,n;e=void 0,window.scrollTo(0,(null!==(n=null===(o=null===(t=He.current)||void 0===t?void 0:t[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:144)-144)}),0)),()=>e&&clearTimeout(e)}}),[Ge,Je,x,Qe]);const tt=(0,P.N)();(0,f.V)(i,tt);const it=(0,D.F3)((e=>{const t=[];return i.forEach((i=>{if(!tt)return;const o=e[i];(null==o?void 0:o.video.subtitleInfos)&&t.push(o)})),t}),I.bN);(0,g.t)(it,tt);const ot=(0,n.useCallback)((e=>{if(null==N?void 0:N.length){const t=N.filter((({position:t})=>t===e));if(t.length>0)return t.map((t=>t.renderNode(e)))}return null}),[N]),nt=(0,n.useMemo)((()=>null!==ot(0)),[N,ot]),rt=(0,n.useMemo)((()=>({itemList:i,hasTopCard:nt,renderTitle:q,mode:e,pageType:r,borderRadius:z,itemListKey:x,hasDescUnderItem:Ue,teaParams:H,searchTopCardType:$,handleClick:Q,handleVideoClick:J,searchType:Z,mute:ee,hasSound:te,handleToggleMute:ie,isActualRatioEnabled:oe,renderInner:ot,renderItemChildren:U,getItemRef:$e,justWatchedVideoId:ye})),[i,nt,q,e,r,z,x,Ue,H,$,Q,J,Z,ee,te,ie,oe,ot,U,$e,ye]),at=oe?(0,o.Y)(L.k,{items:i.map((()=>rt)),itemKey:(e,t)=>e.itemList[t],render:S.x,overscanBy:1/0}):i.map(((e,t)=>(0,o.Y)(S.x,{index:t,data:rt},e)));return(0,o.FD)(M.jl,{ref:me,isSearchTopCard:Boolean($),children:[(0,o.FD)(Y.$G,{"data-e2e":`${x}-item-list`,hasDescUnderItem:Ue,isMasonry:oe,mode:e,notWrap:K,ref:Ke,useLargerGrid:1===r&&se,useAutoFill:i.length<Math.ceil((null!==(le=null===(ae=null==Ke?void 0:Ke.current)||void 0===ae?void 0:ae.clientWidth)&&void 0!==le?le:0)/336),children:[ot(0),at,fe&&"user-post"===x&&0===Ce&&Ye&&(0,o.Y)(M.fW,{containerRight:Ie,children:(0,o.Y)(O.I05,{variant:ge?"primary":"secondary",style:(0,M.Ct)(ge,Ve),size:be?"large":"medium",shape:"capsule",trailingIcon:1===Te?(0,o.Y)(O.dTl,{}):(0,o.Y)(O.g4Y,{}),label:Re("pcWeb_justWatched"),onClick:et,loading:Se})}),re]}),t&&(0,o.Y)(w.R,{center:!0}),!t&&!X&&(0,o.Y)(M.hb,{children:Re("search_nomoreresults_text")})]})})))},63946:(e,t,i)=>{i.d(t,{k:()=>h});var o=i(2787),n=i(40099),r=i(66427),a=i(85395),l=i(20190),d=i(90665),s=i(25152),c=i(49079),u=i(24737);const h=(0,n.memo)((function(e){const{items:t,render:i,ssrWidth:h,ssrHeight:p}=e,m=(0,n.useRef)(null),[v,f]=(0,r.lW)({wait:100,initialWidth:h,initialHeight:p}),{offset:g,width:b}=(0,a.Y)(m,[v,f]);let y=246,_=16,x=24;const w=b||v;v<=u.PF?(_=12,x=18,y=Math.min((w-2*_)/3,Math.max(192,(w-4*_)/5))):v<=u.hk&&(y=Math.min((w-4*_)/5,Math.max(246,(w-7*_)/8)));const k=(0,l.i)({width:w,columnWidth:y,columnGutter:_,rowGutter:x}),C=(0,d.w)(k),{scrollTop:T,isScrolling:D}=(0,s.a)(g);return(0,o.Y)(c.o,{positioner:k,resizeObserver:C,scrollTop:T,isScrolling:D,offset:g,height:f,containerRef:m,items:t,overscanBy:1/0,render:i})}))},5151:(e,t,i)=>{i.d(t,{x:()=>a});var o=i(2787),n=i(40099),r=i(98118);const a=(0,n.memo)((function(e){var{index:t}=e,i=e.data,{itemList:n,hasTopCard:a,renderTitle:l,justWatchedVideoId:d,teaParams:s={},renderInner:c,renderItemChildren:u,getItemRef:h}=i,p=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(i,["itemList","hasTopCard","renderTitle","justWatchedVideoId","teaParams","renderInner","renderItemChildren","getItemRef"]),{style:m}=e;const v=n[t],f=n.indexOf(null!=d?d:"");return s=Object.assign(Object.assign({},s),-1!==f&&{index_from_just_watched:f}),(0,o.FD)(o.FK,{children:[0===t&&a&&l,(0,o.Y)(r.g4,Object.assign(Object.assign({id:v,index:t,ref:h(t),teaParams:s},p),{style:m,children:null==u?void 0:u(v)}),v),null==c?void 0:c(t+1)]})}))},56041:(e,t,i)=>{i.d(t,{B:()=>I});var o=i(58632),n=i(64162),r=i(4126),a=i(93995),l=i(23999),d=i(63700),s=i(26324),c=i(8536),u=i(35572),h=i(20259),p=i(74690),m=i(80339),v=i(76435),f=i(31291),g=i(24451),b=i(57009),y=i(81389),_=i(76274),x=i(4383),w=i(65359),k=i(16582),C=i(38203),T=i(79490);let D=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};D=(0,o.__decorate)([(0,C._)(),(0,o.__metadata)("design:paramtypes",[T.pM])],D);let I=class extends n.E{constructor(e,t,i,o,n,r){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=n,this.bizContext=r,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.Z)((()=>(0,l.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,u.p)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:n,appType:r})=>this.service.getQuestionDetail({questionId:e,language:n}).pipe((0,h.W)((()=>(0,l.of)({statusCode:-1}))),(0,c.Z)((a=>{const{statusCode:s}=a,c=[(0,l.of)(this.getActions().setQuestionInfo(a),this.getActions().setLoading(!1))];let u;return 0===s&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:n}),c.push(u)),(0,d.h)(...c,this.setSEO(a,t,n,r,u))})),(0,p.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1),this.terminate()),(0,v.Q)(this.dispose$),(0,h.W)((e=>(console.error(e),(0,l.of)(this.noop()))))))))}setSEO(e,t,i,o,n){var r;if((null===(r=this.bizContext.state.bizContext)||void 0===r?void 0:r.isBot)&&n){const r=this.itemList.state$.pipe((0,f.s)(1),(0,g.E)(this.item.state$,this.user.state$),(0,c.Z)((([n,r,a])=>{var l,d;const s=null===(l=n.question)||void 0===l?void 0:l.list,c=(null!==(d=null==s?void 0:s.map((e=>r[e])))&&void 0!==d?d:[]).filter(Boolean),u=c.map((e=>{var t;return Object.assign(Object.assign({},e),{author:a.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)})));return n.pipe((0,b.$)(r))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,r.uk)(),(0,o.__metadata)("design:type",s.c)],I.prototype,"dispose$",void 0),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"resetData",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"setLoading",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,r.Mj)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"getQuestionPageData",null),I=(0,o.__decorate)([(0,a.n)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[D,y.E,_.O,x.k,w.U,k.$])],I)},98684:(e,t,i)=>{i.d(t,{$t:()=>x,EI:()=>g,EZ:()=>f,H4:()=>C,WA:()=>w,aK:()=>k,p$:()=>_});var o=i(25695),n=i(40099),r=i(11060),a=i(52964),l=i(93166),d=i(32623),s=i(19572),c=i(15710),u=i(85942),h=i(60417),p=i(37734),m=i(24642),v=i(47218);const f=()=>{var e,t;const{user:i}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{},{isBot:o,searchVideoForLoggedin:s,searchLiveForLoggedin:c}=null!==(t=(0,l.U)((()=>["isBot","searchVideoForLoggedin","searchLiveForLoggedin"]),[]))&&void 0!==t?t:{},u=(0,d.b1)(),{search:h,pathname:m}=(0,r.zy)(),v=Boolean(i),f=(0,r.W6)();(0,n.useEffect)((()=>{if(!(o||v||m===p.OZ.searchUser||m===p.OZ.searchHome&&!s||m===p.OZ.searchVideo&&!s||m===p.OZ.searchLive&&!c)){u.setCloseCallback((()=>{let e=p.OZ.searchUser;s||(e=p.OZ.searchHome),f.push({pathname:e,search:h,state:{needLoad:!1,enterMethod:"click_icon",searchSource:"switch_tab"}})}));const{state:{enterFrom:e}}=f.location;u.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"explore_page"===e?"explore_all":"prompt",type:"search"}})}}),[])},g=()=>{var e;const{user:t}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{};return Boolean(t)};function b(e){return!!["no_results","show_with_button"].includes(e)}function y(e){return"show_with_button"===e}const _=e=>{const t=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",[i,o]=(0,n.useState)((()=>b(t))),[r,a]=(0,n.useState)((()=>y(t)));return(0,n.useEffect)((()=>{o((()=>b(t))),a((()=>y(t)))}),[t]),{hideSearchResult:i,skipError:e&&11===e.type||!1,onShowResult:function(){y(t)&&(o(!1),a(!1))},showResultButton:r}},x=()=>{var e,t;const i=(0,a.W)((()=>["abTestVersion"]),[]),o=null!==(e=(0,s.qt)(null==i?void 0:i.abTestVersion,"search_video"))&&void 0!==e?e:"v1",{user:r}=null!==(t=(0,a.W)((()=>["user"]),[]))&&void 0!==t?t:{},l=Boolean(r),c=(0,d.b1)();return(0,n.useCallback)((()=>{"v3"!==o&&"v4"!==o||l||c.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:m.f.commonParams.page_name,type:"loginsearchmore"}})}),[c,o,l])},w=e=>{const[{loading:t=!0,hasMore:i=!0}]=(0,o.S)(c.tq,{dependencies:[e],selector:t=>t[e]}),{handleSearch:r}=(0,u.nY)(e);return(0,n.useCallback)((()=>{!t&&i&&r.bind(null,!0,!1)()}),[r,t,i])},k=(e,t)=>{var i;const r=(0,a.W)((()=>["abTestVersion"]),[]),l=null!==(i=(0,s.qt)(null==r?void 0:r.abTestVersion,"search_video"))&&void 0!==i?i:"v1",d=g(),[{hasMore:u=!0,error:p}]=(0,o.S)(c.tq,{dependencies:[e],selector:t=>t[e]}),m=w(e),f=x(),{showingBrowserMode:b,currentIndex:y}=(0,h.JD)((e=>({showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex})),v.bN);(0,n.useEffect)((()=>{const e=("v3"===l||"v4"===l)&&!d;!u&&b&&e&&t.length-y==1?f():u&&b&&!e&&!p&&t.length-y<=3&&m()}),[y,b,l,t.length,d,p,f,m,u])},C=(e,t,i,o)=>{(0,n.useEffect)((()=>{var n,r,a,l,d,s;const c=null!==(r=null===(n=document.getElementById("app-header"))||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0,u=null!==(l=null===(a=document.getElementById("search-tabs"))||void 0===a?void 0:a.clientHeight)&&void 0!==l?l:0,h=window.innerHeight;e.length>0&&(null!==(s=null===(d=t.current)||void 0===d?void 0:d.clientHeight)&&void 0!==s?s:0)+c+u<=h&&i&&(null==o||o())}),[e.length,t,i,o])}},65987:(e,t,i)=>{i.d(t,{F:()=>r});var o=i(24643);const n=(0,i(98151).default)("div",{target:"e1txrytm0"})((({theme:{colors:e,fontFamilies:t},useSmallBadge:i})=>({display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:e.ConstTextInverse,textAlign:"center",fontSize:i?"0.65rem":"0.75rem",fontStyle:"normal",fontFamily:t.TikTokFont,fontWeight:500,lineHeight:i?"110%":"130%",letterSpacing:"0.01006rem"})),"label:DivBadge;"),r=({children:e,useSmallBadge:t})=>(0,o.jsx)(n,{"data-e2e":"video-card-badge",useSmallBadge:t,children:e})},51617:(e,t,i)=>{var o;i.d(t,{f:()=>n}),function(e){e.Compact="compact",e.Follow="following-recommend",e.SearchVideoList="search-video-list",e.Explore="explore"}(o||(o={}));const n={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}}},35042:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(24642);const n={handleVideoExposeReport:e=>{o.f.sendEvent("video_expose",e)}}}}]);